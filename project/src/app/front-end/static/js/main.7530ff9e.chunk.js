(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5763:function(e,t,a){e.exports=a(6472)},6455:function(e,t,a){},6471:function(e,t,a){},6472:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(44),l=a(113),o=a(32),c=a(11);Object(c.b)();var s=a(61),u=a(525),d=a(217),m=a(29),p=a(212),b=a.n(p),f=a(79),h=a.n(f),v=a(201),g=a.n(v),y=a(213),O=a.n(y),j=a(53),E=a.n(j),x=a(51),w=a.n(x),k=a(84),C=a.n(k),I=a(17),S=a(3),P=a(8),T=a.n(P),R=a(526),D=a(66),M=a(527),_=a(340),A=a(528),F=a.n(A),q={accessToken:null,isAuthenticated:!1,errorMessage:"",role:"",surnameInitials:"",functions:[],userId:-1,previousUserId:-1};var N=a(28),B=a(68),L=a.n(B),V={fetchedData:{},sortable:[],modalState:{openedModals:[]},openedTab:0,newEntity:{},baseUrl:"",computedUrl:"",pagination:{rowsPerPage:10,page:1}};var U={computedFilters:{},isCollapsed:!0,optionsMap:{}};var H={expandedIndex:-1,value:!1,isMenuMinimized:!1,currentlyActiveIndex:-1};var W=a(15),z={open:!1,title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435",mainText:"",primaryButtonText:"\u0414\u0430",secondaryButtonText:"\u041d\u0435\u0442",primaryButtonHandler:function(){}},Y={open:!1,title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435",primaryButtonText:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",secondaryButtonText:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",primaryButtonHandler:function(){},formObj:{blocks:[]}},G={isSnackBarOpened:!1,message:"",confirmDialog:z,confirmDialogFormik:Y,allowedActions:{},scheduleCreationMasterIsOpen:!1};var K={activeStep:0,passProps:{}};var J=Object(D.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return Object(S.a)({},e,{accessToken:t.payload,errorMessage:""});case Te:return Object(S.a)({},e,{isAuthenticated:t.payload});case _e:var a=t.payload,n=a.isAuthenticated,r=a.accessToken;return Object(S.a)({},e,{isAuthenticated:n,accessToken:r});case he:var i=t.payload,l=i.role,o=i.functions,c=i.surnameInitials,s=i.userId,u=i.memberId,d=i.memberFullName;return Object(S.a)({},e,{role:l,functions:o,surnameInitials:c,userId:s,memberId:u,memberFullName:d});case we:return Object(S.a)({},e,{errorMessage:t.payload.errorMessage});default:return e}},journalReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return Object(S.a)({},e,{fetchedData:t.payload});case ke:var a=e.sortable.findIndex(function(e){return e.path===t.payload.path});if(-1===a)return Object(S.a)({},e,{sortable:e.sortable.concat({path:t.payload.path,value:"asc"})});switch(e.sortable[a].value){case"asc":var n=Object(S.a)({},e,{sortable:e.sortable.slice()});return n.sortable[a].value="desc",n;case"desc":return Object(S.a)({},e,{sortable:e.sortable.filter(function(e){return e.path!==t.payload.path})});default:return e}case Ce:var r={path:t.payload};if(e.sortable[0]){if("desc"!==e.sortable[0].value)return Object(S.a)({},e,{sortable:[]});r.value="asc"}else r.value="desc";return Object(S.a)({},e,{sortable:[r]});case Ie:return Object(S.a)({},e,{sortable:[]});case de:return Object(S.a)({},e,{modalState:Object(S.a)({},e.modalState,{openedModals:e.modalState.openedModals.slice(0,e.modalState.openedModals.length-1)})});case me:var i=e.modalState.openedModals;return Object(S.a)({},e,{modalState:Object(S.a)({},e.modalState,{openedModals:[].concat(Object(N.a)(i),[Object(S.a)({},t.payload,{key:L()()})])})});case ue:var l=e.modalState.openedModals.slice();return l[e.modalState.openedModals.length]=t.payload,Object(S.a)({},e,{modalState:Object(S.a)({},e.modalState,{openedModals:l})});case je:return Object(S.a)({},e,{openedTab:t.payload.openedTab?t.payload.openedTab:0});case xe:return Object(S.a)({},e,{initialValues:t.payload.slice()});case se:return Object(S.a)({},e,{computedUrl:t.payload.slice()});case oe:return Object(S.a)({},e,{pagination:Object(S.a)({},e.pagination,{rowsPerPage:t.payload})});case re:return Object(S.a)({},e,{pagination:Object(S.a)({},e.pagination,{page:t.payload})});case ie:return Object(S.a)({},e,{pagination:Object(S.a)({},e.pagination,{page:e.pagination.page+1})});case le:return Object(S.a)({},e,{pagination:Object(S.a)({},e.pagination,{page:e.pagination.page-1})});case ne:return Object(S.a)({},e,{baseUrl:t.payload});default:return e}},filtersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return Object(S.a)({},e,{isCollapsed:t.payload&&t.payload.isCollapsed?t.payload.isCollapsed:!e.isCollapsed});case De:return Object(S.a)({},e,{computedFilters:{},isCollapsed:!0});case Me:return Object(S.a)({},e,{computedFilters:Object(S.a)({},t.payload)});case ae:return Object(S.a)({},e,{optionsMap:t.payload});default:return e}},collapsableMenuReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return Object(S.a)({},e,{expandedIndex:t.payload.expandedIndex,value:e.expandedIndex!==t.payload.expandedIndex||!e.value});case Ee:return Object(S.a)({},e,{isMenuMinimized:!e.isMenuMinimized});default:return e}},stepperReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:var a=t.payload,n=a.activeStep,r=a.passProps;return Object(S.a)({},e,{activeStep:n,passProps:r});default:return e}},wrapperReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return Object(S.a)({},e,{isSnackBarOpened:t.payload.isSnackBarOpened,message:t.payload.message?t.payload.message:""});case ve:var a=t.payload,n=a.open,r=a.title,i=a.mainContent,l=a.primaryButtonHandler,o=a.mainText,c=a.primaryButtonText,s=a.secondaryButtonText,u=a.primaryButtonDisabled;return Object(S.a)({},e,{confirmDialog:Object(S.a)({},e.confirmDialog,{title:r,open:n,mainContent:i,primaryButtonHandler:l,mainText:o,primaryButtonText:c||z.primaryButtonText,secondaryButtonText:s||z.secondaryButtonText,primaryButtonDisabled:!!u})});case ye:var d=t.payload.primaryButtonDisabled;return Object(S.a)({},e,{confirmDialog:Object(S.a)({},e.confirmDialog,{primaryButtonDisabled:d})});case ge:return Object(S.a)({},e,{confirmDialog:Object(S.a)({},z)});case be:var m=t.payload,p=m.open,b=m.formObj,f=Object(W.a)(m,["open","formObj"]);return Object(S.a)({},e,{confirmDialogFormik:Object(S.a)({},Y,{open:p,formObj:b},f)});case fe:return Object(S.a)({},e,{confirmDialogFormik:Y});case pe:return Object(S.a)({},e,{allowedActions:t.payload});case Fe:return Object(S.a)({},e,{scheduleCreationMasterIsOpen:!0});case qe:return Object(S.a)({},e,{scheduleCreationMasterIsOpen:!1});default:return e}}}),X={key:"tip-vis",storage:F.a},$=Object(_.a)(X,J),Z=Object(D.createStore)($,Object(R.composeWithDevTools)(Object(D.applyMiddleware)(M.a))),Q=Object(_.b)(Z),ee=function(e){return 500===e||400===e?Promise.resolve(We("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438")):404===e||204===e?Promise.resolve(We("\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043c\u043e\u0433\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u0430")):Promise.resolve()},te=function(e){return e&&e.response&&e.response.data&&e.response.data.status?ee(e.response.data.status):e&&e.response&&e.response.status?ee(e.response.status):Promise.resolve()},ae="SET_FILTERS_OPTIONS_MAP",ne="SET_BASE_URL",re="SET_PAGE",ie="NEXT_PAGE",le="PREVIOUS_PAGE",oe="SET_ROWS_PER_PAGE",ce="SET_ACTIVE_STEP",se="SET_COMPUTED_URL",ue="REPLACE_HEAD_MODAL",de="POP_HEAD_MODAL",me="PUSH_MODAL",pe="SET_ALLOWED_ACTIONS",be="OPEN_CONFIRM_DIALOG_FORMIK",fe="CLOSE_CONFIRM_DIALOG_FORMIK",he="SET_CURRENT_USER_OBJECT",ve="TOGGLE_CONFIRM_DIALOG",ge="HIDE_CONFIRM_DIALOG",ye="DISABLE_PRIMARY_BTN_CONFIRM_DIALOG",Oe="TOGGLE_SNACKBAR",je="MODAL_TAB_HAS_CHANGED",Ee="TOOGLE_MENU_COLLAPSED",xe="SET_MODAL_STATE_INITIAL_VALUES",we="SET_LOGIN_ERROR_MESSAGE",ke="SET_SORT",Ce="SET_SORTABLE",Ie="RESET_SORTABLE",Se="SAVE_FETCHED_DATA",Pe="TOGGLE_IS_COLLAPSED",Te="SET_AUTHENTICATED",Re="SET_ACCESS_TOKEN",De="RESET_COMPUTED_FILTERS",Me="SET_COMPUTED_FILTERS",_e="SET_AUTH",Ae="SET_EXPANDED_INDEX",Fe="OPEN_SCHEDULE_CREATION_MASTER",qe="CLOSE_SCHEDULE_CREATION_MASTER",Ne=function(e){return Object.values(e._embedded)[0]},Be=function(e){return{label:e.label,value:e.uniqueId}},Le=function(e){return Ne(e).map(function(e){return{label:e.label,value:e.uniqueId}})},Ve=function(){return Z.getState().auth},Ue=function(){return Z.getState().auth.functions},He=function(e){return Z.dispatch({type:ye,payload:{primaryButtonDisabled:e}})},We=function(e){return Z.dispatch(Ol(e))},ze=function(e){return Z.dispatch(El(e))},Ye=function(){return Z.dispatch(ml)},Ge=function(){return Z.dispatch(fl())},Ke=function(e){return te(e).then(function(){return Ge()})},Je=function(e,t){var a=[];return e.filter(function(e){var a=e.functionName;return t.includes(a)||"any"===a}).forEach(function(e){return e.allowedActions.forEach(function(e){a.includes(e)||a.push(e)})}),a},Xe=function(e,t){var a={};return Object.keys(t).forEach(function(n){if(t[n].pages){var r=function(e,t){var a=Object.keys(e),n={};return a.forEach(function(a){var r=Je(e[a].requiresFunction,t);r.length>0&&(n[a]=r)}),n}(t[n].pages,e);Object.keys(r).length>0&&(a[n]=r)}else{var i=Je(t[n].page.requiresFunction,e);i.length>0&&(a[n]=i)}}),a},$e=function(e,t){var a=e.label,n=t.label;return a>n?1:a<n?-1:0},Ze=function(e){return{options:Le(e).sort($e),loaded:!0}},Qe=function(e){return function(t){return{options:e(t).sort($e),loaded:!0}}},et=function(e){var t=e.blocks,a=[];return t.forEach(function(e){return e.fields.forEach(function(e){var t=e.type,n=e.name,r=e.dictUrl,i=e.rebuildReceivedOptions;"select"===t&&r&&a.push({whereToStore:"optionsMap.".concat(n),urlToDownload:r,rebuildReceivedValue:i?Qe(i):Ze})})}),a},tt=function e(t){var a=t.fields,n=[];return a.forEach(function(t){var a=t.type,r=t.name,i=t.dictUrl,l=t.rebuildReceivedOptions;"select"===a&&i&&n.push({whereToStore:"optionsMap.".concat(r),urlToDownload:i,rebuildReceivedValue:l?Qe(l):Ze}),"fieldArray"===a&&(n=[].concat(Object(N.a)(n),Object(N.a)(e(t))))}),n},at=function(e){return e._embedded?Object.values(e._embedded)[0]:[]},nt=a(64),rt=Object(nt.a)(),it=a(13),lt=a(82),ot=a(335);ot.setLocale({mixed:{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"},number:{min:'\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044f "${value}" \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e ${min}',positive:'\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044f "${value}" \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c',negative:'\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044f "${value}" \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c',integer:'\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044f "${value}" \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0446\u0435\u043b\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c'},string:{url:'\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044f "${value}" \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c URL \u0430\u0434\u0440\u0435\u0441\u043e\u043c'}});var ct=ot,st=a(54),ut=a(221),dt=a.n(ut),mt=function(e,t,a,n,r){T()(e).then(function(e){t&&t(e)}).catch(function(e){e&&e.response&&e.response.data&&(500===e.response.data.status||400===e.response.data.status?(a("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),r(!1)):404===e.response.data.status&&(a("\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043c\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430"),r(!1)))})},pt=a(2),bt=Object(s.withStyles)({root:{boxShadow:"0px 1px 2px 0px rgb(207, 207, 207),0px 2px 2px 0px rgb(241, 241, 241),0px 3px 1px -2px rgb(241, 241, 241)"}},{withTheme:!0})(function(e){var t=e.onClick,a=e.children,n=e.color,i=e.classes,l=Object(W.a)(e,["onClick","children","color","classes"]);return r.a.createElement(pt.b,Object.assign({onClick:t},l,{variant:"outlined",color:n,classes:{root:i.root}}),a)}),ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c";return r.a.createElement(bt,{key:t,variant:"outlined",color:"primary",onClick:function(){return e()}},t)},ht=function(e){var t=e.actionHandler,a=e.text,n=e.disabled;return r.a.createElement(pt.b,{variant:"contained",color:"primary",disabled:n,onClick:function(){return t()},key:a},a)};ht.defaultProps={text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",disabled:!1};var vt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c";return r.a.createElement(pt.b,{variant:"contained",color:"secondary",onClick:function(){return e()},key:t},t)},gt=function(e){var t=e.text,a=void 0===t?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c":t,n=e.modal;return r.a.createElement(pt.b,{key:a,variant:"contained",color:"primary",onClick:function(){return Z.dispatch(vl(n))}},a)};gt.defaultProps={text:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"};var yt=a(42),Ot=function(e){var t=e.message,a=e.size,n=void 0===a?120:a;return r.a.createElement(pt.t,{justify:"center",alignContent:"center",direction:"column",alignItems:"center",container:!0,style:{height:"300px"}},r.a.createElement(pt.L,{variant:"h6"},t||"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"),r.a.createElement(pt.d,{size:n}))};Ot.defaultProps={message:"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430",size:120};var jt=function(e){var t=e.config,a=e.errorHandler,i=e.PreloaderComponent,l=void 0===i?pt.d:i,o=e.Component,c=e.rebuildDownloadedObj,s=Object(W.a)(e,["config","errorHandler","PreloaderComponent","Component","rebuildDownloadedObj"]),u=Object(n.useState)(!0),d=Object(yt.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)({}),f=Object(yt.a)(b,2),h=f[0],v=f[1];return Object(n.useEffect)(function(){var e={},n=[],r=T.a.CancelToken.source();return T.a.all(t.map(function(e){return T.a.get(e.urlToDownload,{cancelToken:r.token})})).then(function(a){return t.forEach(function(t,r){var i=t.whereToStore,l=t.rebuildReceivedValue,o=t.postLoadDoSomethingThenPassResultAsProp,c=t.extendAdditionalOnDemandConfig,s=a[r].data;if(Object(I.set)(e,i,l?l(s):s),o){var u=o.func,d=o.passResultAs;Object(I.set)(e,d,u(s,n))}c&&(n=[].concat(Object(N.a)(n),Object(N.a)(c(e))))})}).then(function(t){return T.a.all(n.map(function(e){return T.a.get(e.urlToDownload,{cancelToken:r.token})})).then(function(t){return n.forEach(function(a,r){var i=a.whereToStore,l=a.rebuildReceivedValue,o=a.postLoadDoSomethingThenPassResultAsProp,c=t[r].data;if(Object(I.set)(e,i,l?l(c):c),o){var s=o.func,u=o.passResultAs;Object(I.set)(e,u,s(c,n))}})})}).then(function(t){c&&"function"===typeof c&&(e=Object(S.a)({},e,c(e))),v(e),p(!1)}).catch(function(e){T.a.isCancel(e)||(a&&a(e),console.log(e))}),function(){r.cancel("Cancelling in cleanup")}},[t,a,c]),m?r.a.createElement(l,null):r.a.createElement(o,Object.assign({},h,s))},Et=jt;jt.defaultProps={PreloaderComponent:pt.d,errorHandler:void 0,rebuildDownloadedObj:void 0};var xt=function(e,t){var a=e.type,n=e.defaultValue;if(n)return"function"===typeof n?n(t):n;switch(a){case"text":return"";case"select":return e.multiple?[]:null;case"checkbox":return!1;case"date-range":return[];case"file":return null;case"fieldArray":return[];default:return""}},wt=function(e){var t={},a=Ue();return e.blocks.forEach(function(e){return e.fields.forEach(function(e){return Object(I.set)(t,e.name,xt(e,a))})}),t},kt=function(e,t){var a={},n=Ue();return e.blocks.forEach(function(e){return e.fields.forEach(function(e){Object(I.set)(a,e.name,function(e,t,a){var n=t.rebuildReceivedValue;switch(t.type){case"text":return null!==e&&"undefined"!==typeof e?n?n(e):e:xt(t,a);case"select":if("undefined"!==typeof e){if(null!==e&&!0!==t.multiple)return n?n(e):Be(e);if(Array.isArray(e)&&!0===t.multiple)return e.map(function(e){return n?n(e):Be(e)})}return xt(t,a);case"checkbox":return!0===e||!1===e?e:"true"===e||"false"===e?"true"===e:xt(t,a);case"date-range":return xt(t,a);case"date":return""!==e?n?n(e):e:xt(t,a);case"file":return null!==e||"undefined"!==typeof e?n?n(e):e:xt(t,a);default:return null===e||void 0===e?"":e}}(Object(I.get)(t,e.name),e,n))})}),a},Ct=function(e,t,a){var n=t.customId?e.item[t.customId]:e.item.uniqueId,r="".concat(t.url,"/").concat(n);return{whereToStore:a||"firstFormInitialValues",urlToDownload:t.projection?"".concat(r,"?projection=").concat(t.projection):r,rebuildReceivedValue:function(e){return kt(t,e)}}},It=a(24),St=a(6),Pt=a.n(St),Tt=a(83),Rt=a.n(Tt),Dt=function(e,t,a){var n=Object(I.get)(t,e,!1),r=Object(I.get)(a,e,"");return{error:Boolean(n&&r),helperText:n?r:void 0}},Mt=function(e){var t=e.field,a=e.form,n=a.touched,i=a.errors,l=e.multiline,o=Object(W.a)(e,["field","form","multiline"]),c=Dt(t.name,n,i);return r.a.createElement(pt.J,Object.assign({},t,o,c,{multiline:l,variant:l?"outlined":void 0,style:l?{margin:"8px 0"}:void 0}))};Mt.defaultProps={multiline:!1};var _t=a(544),At=a(131),Ft=a.n(At),qt=a(207),Nt=a.n(qt),Bt=a(146),Lt=a.n(Bt),Vt=a(208),Ut=a.n(Vt),Ht=a(77),Wt=a(154),zt=a.n(Wt),Yt=Object(c.c)(function(e){return{root:{flexGrow:1,height:250},input:{display:"flex",padding:0},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:"".concat(e.spacing.unit/2,"px ").concat(e.spacing.unit/4,"px")},chipFocused:{backgroundColor:Object(Ht.emphasize)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},divider:{height:2*e.spacing.unit}}});function Gt(e){var t=e.inputRef,a=Object(W.a)(e,["inputRef"]);return r.a.createElement("div",Object.assign({ref:t},a))}var Kt={Control:function(e){var t=e.isMulti?null:"32px";return r.a.createElement(Ft.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:Gt,inputProps:Object(S.a)({style:{height:t},className:e.selectProps.classes.input,inputRef:e.innerRef,children:e.children},e.innerProps)}},e.selectProps.textFieldProps))},Menu:function(e){return r.a.createElement(E.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){return r.a.createElement(Nt.a,{tabIndex:-1,label:e.children,className:Pt()(e.selectProps.classes.chip,Object(m.a)({},e.selectProps.classes.chipFocused,e.isFocused)),onDelete:e.removeProps.onClick,deleteIcon:r.a.createElement(Ut.a,e.removeProps)})},NoOptionsMessage:function(e){return r.a.createElement(w.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return r.a.createElement(zt.a,{title:e.children},r.a.createElement(Lt.a,Object.assign({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children))},Placeholder:function(e){return r.a.createElement(w.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.placeholder},e.innerProps),e.children)},SingleValue:function(e){return r.a.createElement(zt.a,{title:e.children},r.a.createElement(w.a,Object.assign({className:e.selectProps.classes.singleValue},e.innerProps),e.children))},ValueContainer:function(e){return r.a.createElement("div",{className:e.selectProps.classes.valueContainer,style:e.isMulti?void 0:{height:"25px"}},e.children)}};function Jt(e){var t=e.isMulti,a=e.label,n=e.options,i=e.value,l=e.isDisabled,o=e.placeholder,s=e.handleChange,u=e.textFieldProps,d=e.onBlur,m=e.menuPortalTarget,p=Yt(),b=Object(c.d)(),f={input:function(e){return Object(S.a)({},e,{color:b.palette.text.primary,"& input":{font:"inherit"}})}};return r.a.createElement(_t.a,{classes:p,styles:f,isClearable:!0,isDisabled:l,textFieldProps:Object(S.a)({label:a,InputLabelProps:{shrink:!0}},u),options:n,components:Kt,value:i,onChange:s,placeholder:o,isMulti:t||!1,closeMenuOnSelect:!t,menuPosition:"fixed",menuPlacement:"auto",noOptionsMessage:function(){return"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"},onBlur:d,menuPortalTarget:m})}Jt.defaultProps={isDisabled:!1,value:null,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0439 \u043f\u043e\u0438\u0441\u043a\u0430",textFieldProps:{},options:[],onBlur:void 0,isMulti:!1,menuPortalTarget:void 0};var Xt=function(e,t){return function(a){a&&e(Object(S.a)({},t,a))}},$t=function(e){var t,a=e.field,n=a.name,i=a.value,l=a.onBlur,o=e.label,c=e.customOptionsName,s=e.options,u=e.isMulti,d=e.isDisabled,m=e.placeholder,p=e.form,b=p.errors,f=p.touched,h=p.setFieldTouched,v=p.setFieldValue,g=p.initialValues,y=p.status.optionsMap,O=p.status,j=p.setStatus,E=e.customOnChange;if(/./.test(n)){var x=n.split(".");t=x[x.length-1]}else t=n;var w,k=Object(I.get)(y,c||t)||{options:s,loaded:!0}||{options:[],loaded:!0},C=k.options,S=k.loaded,P=Dt(n,f,b);return S?m?w=m:d&&null==i&&(w=""):w="\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445...",r.a.createElement(Jt,{options:C,isMulti:u,onMenuClose:function(){return h(n,!0)},textFieldProps:P,isDisabled:d||!S,placeholder:w,label:o,value:i,onBlur:l,handleChange:function(e){E&&E({name:n,value:e,initialValues:g,setFieldValue:v,status:O,setStatus:Xt(j,O)}),v(n,e)}})};$t.defaultProps={label:"",options:[],placeholder:void 0,customOnChange:void 0,customOptionsName:void 0};var Zt=a(536),Qt=a.n(Zt);function ea(e){var t=e.mask,a=e.pipe,n=(e.showMask,e.inputRef),i=Object(W.a)(e,["mask","pipe","showMask","inputRef"]);return r.a.createElement(Qt.a,Object.assign({},i,{ref:function(e){n(e?e.inputElement:null)},mask:t,pipe:a}))}var ta=function(e){var t=e.label,a=void 0===t?"":t,n=e.mask,i=e.pipe,l=e.keepCharPositions,o=e.InputProps,c=Object(W.a)(e,["label","mask","pipe","keepCharPositions","InputProps"]);return r.a.createElement(pt.J,Object.assign({label:a,InputProps:Object(S.a)({},o,{inputComponent:ea,inputProps:{mask:n,pipe:i,keepCharPositions:l}})},c))},aa=function(e){var t=e.field,a=e.form,n=a.errors,i=a.touched,l=Object(W.a)(e,["field","form"]),o=Dt(t.name,i,n);return r.a.createElement(ta,Object.assign({},t,o,l))},na=function(e){var t=e.field,a=t.name,n=t.value,i=e.form,l=i.status,o=i.setStatus,c=i.setFieldValue,s=i.initialValues,u=i.validateField,d=e.label,m=e.disabled,p=void 0!==m&&m,b=e.customOnChange;return r.a.createElement(pt.r,{control:r.a.createElement(pt.c,{indeterminate:null===n,color:"primary"}),onBlur:function(){u(a)},onChange:function(){b&&b({name:a,value:!n,initialValues:s,setFieldValue:c,status:l,setStatus:Xt(o,l)}),c(a,!n)},value:"".concat(n),checked:n,label:d,disabled:p})};na.defaultProps={label:" ",customOnChange:void 0};var ra=a(542),ia=function(e,t){return T()({url:e,method:"GET",responseType:"blob"}).then(function(e){var a=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",t),document.body.appendChild(n),n.click()}).catch(function(e){return console.log(e)})},la=function(e){var t=e.value[0];return function(e,t){return"/api/claim/attachment/download/".concat(e,"/").concat(t)}(t.uuidClaim,t.label)},oa={height:"100%",borderWidth:1,borderColor:"#1c375a66",borderStyle:"dashed",borderRadius:5,padding:"16px"},ca={borderColor:"#1676f380",backgroundColor:"#eee",background:"#1676f31a",transition:"background-color 0.1s, border-color 0.1s"},sa={borderColor:"#c66",backgroundColor:"#eee"},ua={marginLeft:"8px"},da=function(e){var t=e.field,a=t.value,n=t.name,i=e.form,l=i.errors,o=i.touched,c=(i.setFieldValue,e.disabled),s=e.label,u=e.onDrop,d=e.customUrlToDownLoadFile,m=e.accept,p=null!==a?a:{label:"",value:""},b=p.label,f=p.value,h=Dt(n,o,l),v=h.error,g=h.helperText;return r.a.createElement(ra.a,{onDrop:u,disabled:c,multiple:!1,maxSize:10485760,accept:m},function(e){var t=e.getRootProps,n=e.getInputProps,i=e.isDragAccept,l=e.isDragReject,o=(e.acceptedFiles,e.rejectedFiles,Object(S.a)({},oa));return o=i?Object(S.a)({},o,ca):o,o=l?Object(S.a)({},o,sa):o,r.a.createElement("div",{style:{marginTop:"4px",position:"relative"}},r.a.createElement("div",{style:{position:"absolute",left:"8px",top:"-8px",backgroundColor:"white"}},r.a.createElement(pt.L,null,s)),r.a.createElement(pt.t,Object.assign({container:!0,alignItems:"flex-start",justify:"flex-start",direction:"column"},t(),{style:o}),r.a.createElement(pt.t,{container:!0,alignItems:"center"},r.a.createElement("input",n()),(null===a||a&&null===a.value)&&!c&&!l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(it.p,null),r.a.createElement(pt.L,{color:"textPrimary",style:ua},"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0438\u0442\u0435 \u0444\u0430\u0439\u043b")),(null===a||a&&null===a.value)&&c&&r.a.createElement(pt.L,{color:"textPrimary",style:ua},"\u0424\u0430\u0439\u043b \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"),l&&r.a.createElement(pt.L,{align:"center",color:"error"},"\u041d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0442\u0438\u043f \u0444\u0430\u0439\u043b\u0430"),b&&r.a.createElement(pt.t,{container:!0},r.a.createElement(pt.t,{key:b,container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.t,{container:!0,alignItems:"center"},r.a.createElement(it.j,null),r.a.createElement(pt.L,{style:ua},b),r.a.createElement(pt.u,{onClick:function(e){e&&e.stopPropagation(),ia(d?d(a):"".concat("/api/file/download/commonFiles","/").concat(f),b)},style:{position:"absolute",right:"0"}},r.a.createElement(it.A,null)))))))),r.a.createElement(pt.s,{error:v},g))})};da.defaultProps={disabled:!1,label:"",downloadFile:void 0,customUrlToDownLoadFile:void 0,accept:void 0};var ma=function(e,t){return T()(e).then(function(e){if(!0===e.data)return'\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 "'.concat(t,'" \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u043c')}).catch(function(e){console.log(e),We("\u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430")})},pa=a(132),ba=a(20),fa={startOfWeek:Object(ba.l)(new Date),endOfWeek:Object(ba.f)(new Date),startOfLastWeek:Object(ba.l)(Object(ba.a)(new Date,-7)),endOfLastWeek:Object(ba.f)(Object(ba.a)(new Date,-7)),startOfToday:Object(ba.j)(new Date),endOfToday:Object(ba.d)(new Date),startOfYesterday:Object(ba.j)(Object(ba.a)(new Date,-1)),endOfYesterday:Object(ba.d)(Object(ba.a)(new Date,-1)),startOfMonth:Object(ba.k)(new Date),endOfMonth:Object(ba.e)(new Date),startOfLastMonth:Object(ba.k)(Object(ba.b)(new Date,-1)),endOfLastMonth:Object(ba.e)(Object(ba.b)(new Date,-1))},ha={range:{},isSelected:function(e){var t=this.range();return Object(ba.h)(e.startDate,t.startDate)&&Object(ba.h)(e.endDate,t.endDate)}};var va=[{label:"\u0412\u0441\u0435 \u0434\u043d\u0438",range:function(){return{startDate:null,endDate:null}}},{label:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",range:function(){return{startDate:fa.startOfToday,endDate:fa.endOfToday}}},{label:"\u0412\u0447\u0435\u0440\u0430",range:function(){return{startDate:fa.startOfYesterday,endDate:fa.endOfYesterday}}},{label:"\u041d\u0430 \u044d\u0442\u043e\u0439 \u043d\u0435\u0434\u0435\u043b\u0435",range:function(){return{startDate:fa.startOfWeek,endDate:fa.endOfWeek}}},{label:"\u041f\u0440\u043e\u0448\u043b\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f",range:function(){return{startDate:fa.startOfLastWeek,endDate:fa.endOfLastWeek}}},{label:"\u042d\u0442\u043e\u0442 \u043c\u0435\u0441\u044f\u0446",range:function(){return{startDate:fa.startOfMonth,endDate:fa.endOfMonth}}},{label:"\u041f\u0440\u043e\u0448\u043b\u044b\u0439 \u043c\u0435\u0441\u044f\u0446",range:function(){return{startDate:fa.startOfLastMonth,endDate:fa.endOfLastMonth}}}].map(function(e){return Object(S.a)({},ha,e)}),ga=[{label:"\u0434\u043d\u0435\u0439 \u0434\u043e \u0441\u0435\u0433\u043e\u0434\u043d\u044f\u0448\u043d\u0435\u0433\u043e \u0434\u043d\u044f",range:function(e){return{startDate:Object(ba.a)(fa.startOfToday,-1*(Math.max(Number(e),1)-1)),endDate:fa.endOfToday}},getCurrentValue:function(e){return Object(ba.h)(e.endDate,fa.endOfToday)?e.startDate?Object(ba.c)(fa.endOfToday,e.startDate)+1:"\u221e":"-"}},{label:"\u0434\u043d\u0435\u0439, \u043d\u0430\u0447\u0438\u043d\u0430\u044f c \u0441\u0435\u0433\u043e\u0434\u043d\u044f",range:function(e){var t=new Date;return{startDate:t,endDate:Object(ba.a)(t,Math.max(Number(e),1)-1)}},getCurrentValue:function(e){return Object(ba.h)(e.startDate,fa.startOfToday)?e.endDate?Object(ba.c)(e.endDate,fa.startOfToday)+1:"\u221e":"-"}}],ya=(a(509),a(510),Object(c.c)(function(e){return{button:{margin:e.spacing.unit},buttonPanel:{borderTop:"solid 1px #eff2f7"},popper:{zIndex:2e3}}})),Oa=function(e){var t=ya(),a=Object(n.useState)(!1),i=Object(yt.a)(a,2),l=i[0],o=i[1],c=e.pickerProps,s=e.form,u=s.touched,d=s.errors,m=s.setFieldValue,p=e.field,b=p.name,f=p.value,h=e.label,v=e.readOnly,g=Dt(b,u,d),y=Object(n.useState)({selection:{startDate:new Date,endDate:new Date,key:"selection"}}),O=Object(yt.a)(y,2),j=O[0],E=O[1],x=f&&Array.isArray(f)&&f.length>1?"".concat(Object(ba.g)(f[0],"DD.MM.YYYY")," - ").concat(Object(ba.g)(f[1],"DD.MM.YYYY")):"";Object(n.useEffect)(function(){f&&Array.isArray(f)&&f.length>1&&E({selection:{startDate:Object(ba.i)(f[0],"YYYY-MM-DD",new Date),endDate:Object(ba.i)(f[1],"YYYY-MM-DD",new Date),key:"selection"}})},[f]);var w=Object(n.useRef)(null);return r.a.createElement("div",{ref:w},r.a.createElement(pt.J,Object.assign({label:h,value:x,onClick:function(){!1===v&&o(!0)}},g,{fullWidth:!0})),r.a.createElement(pt.A,{open:l,anchorEl:w.current,placement:"bottom-start",transition:!0,className:t.popper},function(e){var a=e.TransitionProps;return r.a.createElement(pt.q,Object.assign({},a,{timeout:350}),r.a.createElement(pt.e,{onClickAway:function(){o(!1)}},r.a.createElement(pt.z,null,r.a.createElement(pa.DateRangePicker,Object.assign({ranges:[j.selection],staticRanges:Object(N.a)(va),inputRanges:Object(N.a)(ga),onChange:function(e){return E(e)}},c)),r.a.createElement(pt.t,{container:!0,justify:"flex-end",className:t.buttonPanel},r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.b,{variant:"outlined",className:t.button,onClick:function(){return o(!1)}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")),r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.b,{variant:"outlined",color:"primary",className:t.button,onClick:function(){var e;m(b,[(e=j.selection).startDate?"".concat(Object(ba.g)(e.startDate,"YYYY-MM-DD")," 00:00:00"):null,e.endDate?"".concat(Object(ba.g)(e.endDate,"YYYY-MM-DD")," 23:59:59"):null]),o(!1)}},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"))))))}))};Oa.defaultProps={readOnly:!1,label:""};var ja=Oa,Ea=Object(c.c)(function(e){return{button:{margin:e.spacing.unit},buttonPanel:{borderTop:"solid 1px #eff2f7"},popper:{zIndex:2e3}}}),xa=function(e){var t=Ea(),a=Object(n.useState)(!1),i=Object(yt.a)(a,2),l=i[0],o=i[1],c=Object(n.useState)(new Date),s=Object(yt.a)(c,2),u=s[0],d=s[1],m=e.pickerProps,p=e.label,b=e.form,f=b.touched,h=b.errors,v=b.setFieldValue,g=e.field,y=g.name,O=g.value,j=e.readOnly,E=Dt(y,f,h),x=Object(n.useRef)(null);return Object(n.useEffect)(function(){O&&d(Object(ba.i)(O,"DD.MM.YYYY",new Date))},[O]),r.a.createElement("div",{ref:x},r.a.createElement(pt.J,Object.assign({value:O,label:p,onClick:function(){!1===j&&o(!0)}},E,{inputProps:{readOnly:j},fullWidth:!0})),r.a.createElement(pt.A,{open:l,anchorEl:x.current,placement:"bottom-start",transition:!0,className:t.popper},function(e){var a=e.TransitionProps;return r.a.createElement(pt.q,Object.assign({},a,{timeout:350}),r.a.createElement(pt.e,{onClickAway:function(){o(!1)}},r.a.createElement(pt.z,null,r.a.createElement(pa.Calendar,Object.assign({date:u,onChange:d},m)),r.a.createElement(pt.t,{container:!0,justify:"flex-end",className:t.buttonPanel},r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.b,{variant:"outlined",className:t.button,onClick:function(){return o(!1)}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")),r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.b,{color:"primary",variant:"outlined",className:t.button,onClick:function(){v(y,function(e){return e?Object(ba.g)(e,"DD.MM.YYYY"):""}(u)),o(!1)}},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"))))))}))};xa.defaultProps={readOnly:!1,label:""};function wa(e,t,a){var n=a.uniqueCheck;return function(a){if(a!==Object(I.get)(e,t)){var r=n.constructParams,i={method:"get",url:n.url,params:r(e,a)};return ma(i,a)}}}var ka=function(e){var t=e.field,a=e.classes,n=e.readOnly,i=e.initialValues,l=e.setFieldValue,o=e.status,c=t.type,s=t.name,u=t.label,d=t.additionalProps;switch(c){case"text":return r.a.createElement(It.a,Object.assign({name:s,label:u,component:Mt,validate:t.uniqueCheck?wa(i,s,t):void 0,className:a.field},d,{InputProps:{readOnly:n||t.readOnly||!1}}));case"select":var m="function"===typeof t.readOnly?t.readOnly(Ue()):t.readOnly;return r.a.createElement(It.a,Object.assign({name:s,label:u,component:$t,options:t.options,isMulti:t.multiple||!1,isDisabled:n||m||!1,className:a.field,placeholder:t.placeholder,customOnChange:t.customOnChange},d));case"formatted":return r.a.createElement(It.a,Object.assign({name:s,label:u,component:aa,validate:t.uniqueCheck?wa(i,s,t):void 0,mask:t.mask,pipe:t.pipe,keepCharPositions:t.keepCharPositions,className:a.field},d,{InputProps:{readOnly:n||t.readOnly||!1}}));case"checkbox":return r.a.createElement(It.a,Object.assign({name:s,label:u,component:na,className:a.field,disabled:n||t.readOnly||!1,customOnChange:t.customOnChange},d));case"password":return r.a.createElement(It.a,Object.assign({name:s,label:u,component:Mt,className:a.field},d,{InputProps:{readOnly:n||t.readOnly||!1},type:"password"}));case"date-range":var p={locale:Object(S.a)({},Rt.a),moveRangeOnFirstSelection:!1,showDateDisplay:!1};return r.a.createElement(It.a,{name:s,label:u,readOnly:n||t.readOnly||!1,className:a.field,component:ja,pickerProps:p});case"date":var b={locale:Object(S.a)({},Rt.a),moveRangeOnFirstSelection:!1,showDateDisplay:!1};return r.a.createElement(It.a,{name:s,label:u,readOnly:n||t.readOnly||!1,className:a.field,component:xa,pickerProps:b});case"file":return r.a.createElement(It.a,{name:s,label:u,onDrop:t.onDrop?function(e){return t.onDrop(e,t,l,o)}:function(e){return function(e,t,a){var n=new FormData;n.append("file",e[0]),t.doBeforeSetFieldValue(n).then(function(n){var r=n.data;a(t.name,{label:e[0].name,value:r})}).catch(function(e){te(e)})}(e,t,l)},component:da,customUrlToDownLoadFile:t.customUrlToDownLoadFile?t.customUrlToDownLoadFile:void 0,disabled:n||t.readOnly||!1,className:a.field,accept:t.accept});case"spaceFiller":return r.a.createElement("div",{className:a.field});default:throw new Error("\u0414\u043b\u044f \u043f\u043e\u043b\u044f name: ".concat(s," \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 \u0434\u043b\u044f \u0442\u0438\u043f\u0430: ").concat(c))}},Ca=Object(c.c)(function(e){return{isDeleted:{color:"#a94442",backgroundColor:"#f2dede",borderColor:"#ebccd1",border:"1px solid transparent",borderRadius:"4px"},listSubItem:{padding:"".concat(e.spacing.unit,"px"),width:"100%"},headerItem:{width:"100%"},listItem:{position:"relative"},lastItem:{paddingTop:"".concat(2*e.spacing.unit,"px"),display:"flex",justifyContent:"center",paddingBottom:"0"},removeBtn:{position:"absolute",right:"0"},divider:{marginLeft:"8px",height:"1px",backgroundColor:"white",flex:"1  1 auto"},field:{width:"100%"},fabContainer:{marginBottom:"-".concat(3*e.spacing.unit,"px")},container:{position:"relative",minWidth:"20vw",minHeight:"20vh"},header:{position:"sticky",zIndex:"2",top:"0",borderBottom:"2px solid rgba(0, 0, 0, 0.12)",backgroundColor:"#eeeeee",paddingTop:"0",paddingBottom:"0",marginBottom:"".concat(e.spacing.unit,"px")},deleteBtn:{right:"-8px"},secondaryAction:{paddingRight:"0",paddingLeft:"0"}}}),Ia=0,Sa=function(e){var t,a=e.confObj,i=e.values,l=e.readOnly,o=e.initialValues,c=e.setFieldValue,s=a.fields[0],u=function(e){var t={};return e.forEach(function(e){t[e.name]=xt(e)}),t}(s.fields),d=Ca(),p=Object(n.useRef)(null),b=0;s.fields.forEach(function(e){var t=e.width,a=void 0===t?1:t;!0!==e.hidden&&(b+=a)});var f=[],h=100/b;return s.fields.forEach(function(e){var t=e.width,a=void 0===t?1:t;f.push(h*a)}),Object(n.useEffect)(function(){null!==p.current&&i&&i[s.name]&&i[s.name].length!==Ia&&(Ia=i[s.name].length,p.current.scrollIntoView({behavior:"smooth"}))},[s.name,i]),r.a.createElement(It.c,null,r.a.createElement("div",{className:d.container},r.a.createElement(pt.w,null,r.a.createElement(pt.x,{className:d.header,disableGutters:!0},s.fields.map(function(e,t){var a=e.label,n=e.hidden;return!(void 0!==n&&n)&&r.a.createElement("span",{className:Pt()(d.listSubItem,d.headerItem),key:a||L()(),style:{width:"".concat(f[t],"%")}},r.a.createElement(pt.L,{variant:"subtitle1",style:{fontSize:"15px"}},a))})),r.a.createElement(It.b,{name:s.name,render:function(e){return t=e,r.a.createElement(r.a.Fragment,null,i&&i[s.name]&&i[s.name].length>0&&i[s.name].map(function(t,a){return r.a.createElement(pt.x,{key:a,className:Pt()(d.listItem,Object(m.a)({},d.isDeleted,!0===t.isDeleted)),disableGutters:!0},s.fields.map(function(e,t){if(e.component){var n=e.component;return r.a.createElement("span",{key:e.name||L()()+a,className:d.listSubItem,style:{width:"".concat(f[t],"%")}},r.a.createElement(n,{value:i[s.name][a]}))}return!0===e.hidden?null:r.a.createElement("span",{key:e.name||L()()+a,className:d.listSubItem,style:{width:"".concat(f[t],"%")}},ka({field:Object(S.a)({},e,{label:"",name:"".concat(s.name,".[").concat(a,"].").concat(e.name)}),classes:d,readOnly:l,initialValues:o,setFieldValue:c}))}),!t.isDeleted&&!l&&r.a.createElement(pt.y,null,r.a.createElement(pt.u,{className:d.deleteBtn,type:"button",onClick:function(){return e.replace(a,Object(S.a)({},Object(I.get)(i,"".concat(s.name,".[").concat(a,"]")),{isDeleted:!0}))}},r.a.createElement(it.h,null))))})||r.a.createElement(pt.x,null,r.a.createElement(pt.t,{container:!0,justify:"center"},r.a.createElement(pt.L,{variant:"body1"},"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"))))}})),!l&&r.a.createElement(pt.t,{container:!0,justify:"center"},r.a.createElement("div",{ref:p},r.a.createElement(pt.p,{size:"small",color:"primary","aria-label":"Add",onClick:function(){return t.push(u)}},r.a.createElement(it.b,null))))))};Sa.defaultProps={readOnly:!1};var Pa=function(e){var t={xs:12,sm:12,md:6,lg:4,xl:4};return"select"===e.type&&!0===e.multiple||e.additionalProps&&!0===e.additionalProps.fullWidth?{xs:12,sm:!1,md:!1,lg:!1,xl:!1}:e.widths?Object(S.a)({},t,e.widths):t},Ta=Object(It.e)(function(e){var t=e.block,a=t.blockTitle,n=t.fields,i=t.conditionallyRender,l=e.classes,o=e.bIndex,c=e.formik,s=c.status,u=s.registeredFields,d=s.readOnly,m=c.status,p=c.initialValues,b=c.setFieldValue,f=c.values;return i&&!i(f)?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(pt.t,{container:!0,alignItems:"center",style:0===o?{marginTop:"8px",marginBottom:"8px"}:{marginTop:"20px",marginBottom:"8px"}},a?r.a.createElement(r.a.Fragment,null,r.a.createElement(pt.L,{variant:"subtitle2",style:{fontSize:"15px"}},a.toUpperCase()),r.a.createElement(pt.k,{className:l.divider})):null),r.a.createElement(pt.t,{container:!0,spacing:8},n.map(function(e){return Object(I.get)(u,e.name)?r.a.createElement(pt.t,Object.assign({item:!0,key:e.name||L()()},Pa(e)),ka({field:e,classes:l,readOnly:d,initialValues:p,setFieldValue:b,status:m})):null})))}),Ra=Object(c.c)(function(e){return{divider:{marginLeft:"".concat(e.spacing.unit,"px"),height:"1px",backgroundColor:"white",flex:"1  1 auto"},field:{width:"100%"}}}),Da=function(e){var t=e.formObj,a=e.handleSubmit,n=e.style,i=Ra();return r.a.createElement("form",{onSubmit:a},r.a.createElement("div",{style:Object(S.a)({padding:"4px 16px 10px 16px"},n)},r.a.createElement(pt.t,{container:!0,spacing:8,direction:"column"},t.blocks.map(function(e,t){return r.a.createElement(pt.t,{item:!0,key:t},r.a.createElement(Ta,{block:e,bIndex:t,classes:i}))}))))};Da.defaultProps={style:void 0};var Ma=a(337),_a=a(98);function Aa(e,t,a){var n=!(-1!==Object.keys(e).indexOf("visual"))||"true"===e.visual,r=!0;return e.dependencies&&(r=Fa(e.dependencies,t,a)),n&&r}function Fa(e,t,a){var n=[];switch(e.dependencies&&e.dependencies.forEach(function(e){return n.push(Fa(e,t,a))}),e.dependency&&e.dependency.forEach(function(e){return n.push(function(e,t,a){if(e.dependencyRef){var n=function(e,t){var a=Na(t,"dependencies",function(t){return t.name&&t.name===e});a||console.log("\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430",e,t);return a[0]}(e.dependencyRef,t);return Fa(n,t,a)}if(e.field){var r=e.field,i=e.value;if(!0===r.multy){var l=function(e,t){return Na(t,e).map(function(e){return e&&e.value?e.value:e})}(r.name,a);switch(r.condition){case"and":return i.every(function(e){return-1!==l.indexOf(e)});case"not":return i.every(function(e){return-1===l.indexOf(e)});default:return i.some(function(e){return-1!==l.indexOf(e)})}}else{var o=function(e,t){if(-1!==Object.keys(e).indexOf(t)){if("string"===typeof e[t]||!e[t])return e[t];if(e[t].value)return e[t].value}return console.log("\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!",t,e),""}(a,r.name);switch(r.condition){case"and":return i.every(function(e){return e===o});case"not":return i.every(function(e){return e!==o});default:return i.some(function(e){return e===o})}}}console.log("\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u0430!!!",e,t,a)}(e,t,a))}),e.condition){case"or":return n.some(function(e){return e});case"not":return n.every(function(e){return!e});case"and":default:return n.every(function(e){return e})}}function qa(e,t,a,n){Object.keys(e).forEach(function(r){r===t&&function(e){return e instanceof Array?e:[e]}(e[r]).forEach(function(e){a?a(e)&&n.push(e):n.push(e)});e[r]instanceof Object&&qa(e[r],t,a,n)})}function Na(e,t,a){var n=[];return qa(e,t,a,n),n}var Ba=function(e,t){return"undefined"!==typeof t.name?"".concat(e,"-").concat(t.name):e},La=function(e){return e.attribute.reduce(Ba,"")},Va=a(538),Ua=function(e){var t=e.mask,a=e.name,n=(e.setFieldValue,Object(W.a)(e,["mask","name","setFieldValue"]));return r.a.createElement(Va.IMaskInput,Object.assign({name:a,mask:t,lazy:!0,unmask:!1},n))},Ha=/^\S*@?\S*$/,Wa=function(e){var t,a={phone:"+{7}(000)000-00-00",email:Ha,date:"00.00.0000",daterange:"00.00.0000-00.00.0000"};return"undefined"!==typeof a[e]&&(t=a[e]),(e.startsWith("_")||e.startsWith("#"))&&(t=e.substr(1)),t},za=function(e,t){return e+t},Ya=function(e){var t=e.regExp,a=e.maxLength,n=Object(W.a)(e,["regExp","maxLength"]),i=e.field.name,l=e.form.setFieldValue;return r.a.createElement(pt.J,Object.assign({},Object(_a.b)(n),{onChange:function(e){var n=e.target.value,r="";if(t&&n&&""!==n){var o=n.match(t);null!==o&&(r=o.slice(0,a).reduce(za,""))}else r=n.slice(0,a);l(i,r)}}))},Ga=function(e){var t=e.value,a=e.field;if("undefined"!==typeof a){var n,r,i=a.required,l=a.type,o=l.minlength,c=l.maxlength,s=l.regular,u=l.name;if("true"===i&&("dictionary"===u||"dictionary-nsi"===u)&&null===t)return"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430";if("true"===i&&"boolean"===u&&!1===t)return"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0433\u0430\u043b\u043e\u0447\u043a\u0443";if("true"===i&&"attachment"===u&&null===t)return"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0438\u0442\u044c \u0444\u0430\u0439\u043b";if("true"===i&&""===t)return"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435";if(""!==t&&o&&t.length<o)return n=-1!=="234".indexOf(o[o.length-1])?"\u0441\u0438\u043c\u0432\u043e\u043b\u0430":-1!=="1".indexOf(o[o.length-1])?"\u0441\u0438\u043c\u0432\u043e\u043b":"\u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432","\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043c\u0438\u043d\u0438\u043c\u0443\u043c ".concat(o," ").concat(n);if(""!==t&&c&&t.length>c)return r=-1!=="234".indexOf(c[c.length-1])?"\u0441\u0438\u043c\u0432\u043e\u043b\u0430":-1!=="1".indexOf(c[c.length-1])?"\u0441\u0438\u043c\u0432\u043e\u043b":"\u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432","\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c ".concat(c," ").concat(r);if(""!==t&&s){var d=s;if(s.startsWith("/")&&(d=d.replace(/^\//,"")),d.endsWith("/")&&(d=d.replace(/\/$/,"")),!RegExp(d).test(t))return"\u041d\u0435 \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u0435\u0442 \u043c\u0430\u0441\u043a\u0435"}}},Ka=function(e){return function(t){var a,n=t.name,r=t.setFieldValue,i=function(e,t){var a=e.statement.blocks.block;if("function"===typeof t){var n=[];return a.forEach(function(e){e.attributes.group.forEach(function(e){e.attribute.forEach(function(e){t(e)&&n.push(e)})})}),n}throw new Error("\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u0442\u0438\u043f \u043f\u0440\u0435\u0434\u0438\u043a\u0430\u0442\u0430 \u043e\u0436\u0438\u0434\u0430\u043b\u0430\u0441\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u044f")}(e,(a=n,function(e){return e.type.superAttributeName===a}));i&&Array.isArray(i)&&i.forEach(function(e){var t=e.name;return r(t,null)})}},Ja=Object(c.c)(function(e){return{field:{width:"100%"}}}),Xa=function(e,t,a){return T.a.get("/api/nsi/getNsiContent",{params:{nsiName:e,superNsiName:t,superNsiValue:a}}).then(function(e){return e.data.dictionary}).catch(function(e){te(e)})},$a=Object(It.e)(function(e){var t=e.field,a=e.name,n=e.additionalProps,i=e.formik,l=i.status,o=l.optionsMap,c=l.readOnly,s=i.status,u=i.values,d=i.setStatus,p=i.setFieldValue,b=i.errors,f=e.formObj,h=Ja();if(""===t||null===t||"undefined"===typeof t)return null;var v,g=t.label,y=t.type,O=y.name,j=y.allowedpattern,E=y.maxlength,x=y.mask,w=t.name;switch(O){case"dictionary":var k=t.type.elements.element;return r.a.createElement(It.a,{key:a||w,label:g,name:a||w,validate:function(e){return Ga({value:e,field:t})},component:$t,options:k,isMulti:!1,isDisabled:c,classes:{root:h.field}});case"dictionary-nsi":var C=t.type,P=C.nameTag,R=C.superAttributeName,D=Object(I.get)(u,R);if(R){if(D&&!Object(I.hasIn)(o,"".concat(P,".").concat(R,".").concat(D.value))){var M=function(e,t){var a;return e.statement.blocks.block.forEach(function(e){var n=e.attributes.group;if(a)return"";n.forEach(function(e){var n=e.attribute;if(a)return"";a=n.find(function(e){if("function"===typeof t)return t(e);throw new Error("\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u0442\u0438\u043f \u043f\u0440\u0435\u0434\u0438\u043a\u0430\u0442\u0430 \u043e\u0436\u0438\u0434\u0430\u043b\u0430\u0441\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u044f")})})}),a}(f,(v=R,function(e){return e.name===v})).type.nameTag;d(Object(S.a)({},s,{optionsMap:Object(S.a)({},o,Object(m.a)({},"".concat(P,".").concat(R,".").concat(D.value),{options:[],loaded:!1}))})),Xa(P,M,D.value).then(function(e){d(Object(S.a)({},s,{optionsMap:Object(S.a)({},o,Object(m.a)({},"".concat(P,".").concat(R,".").concat(D.value),{options:e,loaded:!0}))}))})}}else Object(I.hasIn)(o,P)||(d(Object(S.a)({},s,{optionsMap:Object(S.a)({},o,Object(m.a)({},P,{options:[],loaded:!1}))})),Xa(P).then(function(e){d(Object(S.a)({},s,{optionsMap:Object(S.a)({},o,Object(m.a)({},P,{options:e,loaded:!0}))}))}));return r.a.createElement(It.a,{key:a||w,label:g,name:a||w,validate:function(e){return Ga({value:e,field:t})},component:$t,customOptionsName:R&&D?"".concat(P,".").concat(R,".").concat(D.value):P,customOnChange:R?void 0:Ka(f),isMulti:!1,closeMenuOnSelect:!0,isDisabled:c,classes:{root:h.field}});case"string-32":return x?r.a.createElement(It.a,{key:a||w,label:g,name:a||w,validate:function(e){return Ga({value:e,field:t})},component:_a.a,InputProps:{readOnly:c,name:a||w,inputComponent:Ua,inputProps:{mask:Wa(x),setFieldValue:p,name:a||w}},classes:{root:h.field}}):j||E?r.a.createElement(It.a,{key:a||w,label:g,name:a||w,validate:function(e){return Ga({value:e,field:t})},component:Ya,regExp:j?RegExp(j,"g"):void 0,maxLength:E,classes:{root:h.field},InputProps:{readOnly:c}}):r.a.createElement(It.a,{key:a||w,name:a||w,label:g,validate:function(e){return Ga({value:e,field:t})},component:_a.a,classes:{root:h.field},InputProps:{readOnly:c}});case"string-256":return x?r.a.createElement(It.a,{key:a||w,label:g,name:a||w,validate:function(e){return Ga({value:e,field:t})},component:_a.a,InputProps:{readOnly:c,name:a||w,inputComponent:Ua,inputProps:{mask:Wa(x),setFieldValue:p,name:a||w}},classes:{root:h.field}}):j?r.a.createElement(It.a,{key:a||w,label:g,name:a||w,validate:function(e){return Ga({value:e,field:t})},component:Ya,regExp:j?RegExp(j,"g"):void 0,maxLength:E,classes:{root:h.field},InputProps:{readOnly:c}}):r.a.createElement(It.a,{key:a||w,name:a||w,label:g,validate:function(e){return Ga({value:e,field:t})},component:_a.a,classes:{root:h.field},InputProps:{readOnly:c}});case"string":return r.a.createElement(It.a,{key:a||w,name:a||w,label:g,multiline:!0,rowsMax:6,validate:function(e){return Ga({value:e,field:t})},component:_a.a,classes:{root:h.field},InputProps:{readOnly:c}});case"attachment":var _=s.claimUuid;return r.a.createElement(It.a,{key:a||w,name:a||w,label:g,component:da,validate:function(e){return Ga({value:e,field:t})},onDrop:function(e){var a=new FormData;a.append("file",e[0]),function(e,t){return T()({method:"post",url:"/api/claim/attachment/save/".concat(t),data:e,config:{"Content-Type":"multipart/form-data"}})}(a,_).then(function(a){var n=a.data.name;p(t.name,{label:e[0].name,value:[{uuidClaim:_,label:n,name:n,lastModified:(new Date).valueOf(),progress:100,complete:!0}]})}).catch(function(e){te(e)})},customUrlToDownLoadFile:la,disabled:c||!1});case"date":var A={locale:Object(S.a)({},Rt.a),moveRangeOnFirstSelection:!1,showDateDisplay:!1},F=t.type,q=F.more,B=F.less;return"undefined"!==typeof q&&(A.minDate="now"===q?new Date:Object(Ma.a)(Date,Object(N.a)(q.split(".").reverse()))),"undefined"!==typeof B&&(A.maxDate="now"===B?new Date:Object(Ma.a)(Date,Object(N.a)(B.split(".").reverse()))),r.a.createElement(It.a,{key:a||w,name:a||w,label:g,component:xa,readOnly:c||!1,validate:function(e){return Ga({value:e,field:t})},pickerProps:A});case"daterange":var L={locale:Object(S.a)({},Rt.a),moveRangeOnFirstSelection:!1,showDateDisplay:!1};return r.a.createElement(It.a,{key:a||w,name:a||w,label:g,pickerProps:L,component:ja,readOnly:c||!1});case"boolean":return r.a.createElement(It.a,{name:a||w,key:a||w,label:g,validate:function(e){return Ga({value:e,field:t})},component:na,disabled:c,error:b[a||w]});case"multy-items":var V=t.type["multy-items"];return r.a.createElement(It.b,{validateOnChange:!1,key:a||w,name:a||w,render:function(e){return function(e,t,a,n,i,l){var o=e.form,c=o.values,s=o.initialValues,u=e.push,d=e.remove,m=Object(I.get)(c,t),p=m.map(function(e,o){return r.a.createElement(pt.z,{style:{backgroundColor:"#e4f5fc",padding:"8px",marginTop:"8px",marginBottom:"8px"},key:"".concat(t,".").concat(o)},a[0].group.map(function(e){return Aa(e,a[o],m[o])&&r.a.createElement(pt.t,{item:!0,key:La(e)},r.a.createElement(pt.t,{container:!0,spacing:8},e.attribute.map(function(a,n){return"undefined"!==typeof a.name?r.a.createElement(pt.t,{item:!0,key:"".concat(t,".").concat(o,".").concat(a.name),lg:12/e.attribute.length,md:12/e.attribute.length,xl:12/e.attribute.length},r.a.createElement($a,{field:a,name:"".concat(t,".").concat(o,".").concat(a.name),classes:i,additionalProps:l})):r.a.createElement(pt.t,{item:!0,key:"".concat(t,".").concat(o,".").concat(n),lg:12/e.attribute.length,md:12/e.attribute.length,xl:12/e.attribute.length})})))}),m.length>1&&!n?r.a.createElement(pt.p,{color:"secondary",size:"small",onClick:function(){return d(o)}},r.a.createElement(it.h,null)):null)});return r.a.createElement(r.a.Fragment,null,p,!n&&r.a.createElement(pt.p,{onClick:function(){return u(Object(S.a)({},Object(I.get)(s,t)[0]))},color:"primary",size:"small"},r.a.createElement(it.b,null)))}(e,a||w,V,c,h,n)}});default:throw new Error('\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0442\u0430\u043a\u043e\u0433\u043e \u0442\u0438\u043f\u0430 "'.concat(O,'" \u0434\u043b\u044f \u043f\u043e\u043b\u044f "').concat(w,'"'))}}),Za=function(e){var t=e.row,a=e.formObj,n=t.attribute;return r.a.createElement(r.a.Fragment,null,n.map(function(e){return""===e||null===e||"undefined"===typeof e.name?r.a.createElement(pt.t,{item:!0,key:L()(),lg:12/n.length,md:12/n.length,xl:12/n.length}):r.a.createElement(pt.t,{item:!0,key:e.name,lg:12/n.length,md:12/n.length,xl:12/n.length},r.a.createElement($a,{field:e,formObj:a}))}))},Qa=a(539),en=new(a.n(Qa).a.Parser),tn=function(e){return new RegExp(e,"g")},an=function(e){var t=e.htmlInput;return en.parse(t.replace(tn("&lt;"),"<").replace(tn("&gt;"),">"))},nn=Object(c.c)(function(e){return{divider:{marginLeft:e.spacing.unit,height:"1px",backgroundColor:e.palette.primary.light,flex:"1  1 auto"}}}),rn=function(e){var t=e.block,a=t.label,n=t.attributes,i=t.description,l=e.formObj,o=e.values,c=nn();return r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.t,{container:!0,spacing:8,direction:"column"},r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.t,{container:!0,alignItems:"center"},r.a.createElement(pt.L,{variant:"subtitle2",style:{fontSize:"15px"}},a.toUpperCase()),r.a.createElement(pt.k,{className:c.divider}))),i!==a&&"undefined"!==typeof i&&r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.L,{component:"div"},r.a.createElement(an,{htmlInput:i}))),r.a.createElement(r.a.Fragment,null,n.group.map(function(e){return Aa(e,l,o)&&r.a.createElement(pt.t,{item:!0,key:La(e),xl:12,lg:12,md:12,xs:12},r.a.createElement(pt.t,{container:!0,spacing:8},r.a.createElement(Za,{row:e,formObj:l})))}))))},ln=function(e){var t=e.formObj,a=e.values;return r.a.createElement(It.c,null,r.a.createElement(pt.t,{container:!0,spacing:32,direction:"column"},r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.L,{variant:"h6"},t.info.name)),r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.L,{component:"div"},r.a.createElement(an,{htmlInput:t.info.description}))),t.statement.blocks.block.map(function(e){return Aa(e,t,a)&&r.a.createElement(rn,{key:e.name,block:e,formObj:t,values:a})})))},on=a(229),cn=a(230),sn=a(235),un=a(231),dn=a(232),mn=function(e){function t(){return Object(on.a)(this,t),Object(sn.a)(this,Object(un.a)(t).apply(this,arguments))}return Object(dn.a)(t,e),Object(cn.a)(t,[{key:"componentDidUpdate",value:function(e){var t=e.formik,a=t.isSubmitting,n=t.isValidating,r=t.errors,i=Object.keys(r);if(i.length>0&&a&&!n){var l='[name="'.concat(i[0],'"]'),o=document.querySelector(l);o&&o.focus()}}},{key:"render",value:function(){return null}}]),t}(r.a.Component),pn=Object(It.e)(mn),bn=function(e){var t=e.formObj,a=e.onSubmit,n=e.bindFormSubmit,i=e.initialValues,l=e.optionsMap,o=e.readOnly,c=e.variant,s=e.enableReinitialize,u=e.additionalStatusProps,d=e.bindIsSubmitting,m=e.bindDirty,p=e.enableStatusReinitialize,b=e.style,f=function(e,t,a){var n={};return"block"===t&&e.blocks.forEach(function(e){return e.fields.forEach(function(e){var t=e.name,r=e.hidden,i=e.customInitialRegister,l=!i||i(a);Object(I.set)(n,t,!0!==r&&l)})}),"table"===t&&e.fields.forEach(function(e){var t=e.name,a=e.hidden;Object(I.set)(n,t,!0!==a)}),n}(t,c,i);return r.a.createElement(It.d,{enableReinitialize:s,onSubmit:a,validateOnChange:!1,validateOnBlur:!o,validationSchema:t.validationSchema,initialValues:i,initialStatus:Object(S.a)({registeredFields:f,optionsMap:l,readOnly:o},u),render:function(e){var a=e.handleSubmit,s=e.submitForm,u=e.setFieldValue,f=e.values,h=e.isSubmitting,v=e.setStatus,g=e.status,y=e.dirty;return!p||Object(I.isEqual)(l,g.optionsMap)&&o===g.readOnly||v(Object(S.a)({},g,{optionsMap:l,readOnly:o})),n&&n(s),d&&d(h),m&&m(y),r.a.createElement(r.a.Fragment,null,"block"===c?r.a.createElement(Da,{formObj:t,handleSubmit:a,style:b}):null,"table"===c?r.a.createElement(Sa,{confObj:t,handleSubmit:a,values:f,initialValues:i,readOnly:o,setFieldValue:u}):null,"xmlToForm"===c?r.a.createElement(ln,{formObj:t,values:f,initialValues:i}):null,r.a.createElement(pn,null))}})};bn.defaultProps={bindFormSubmit:void 0,optionsMap:{},readOnly:!1,variant:"block",enableReinitialize:!1,onSubmit:void 0,additionalStatusProps:void 0,bindIsSubmitting:void 0,bindDirty:void 0,enableStatusReinitialize:!1,style:void 0};var fn=a(97),hn=a.n(fn),vn=Object(c.c)({DialogTitleRoot:{paddingBottom:"10px"},closeBtn:{position:"absolute",right:"24px",top:"15px"},tabTitle:{fontSize:"15px"}}),gn=function(e){var t=e.title,a=e.closeHandler,i=e.tabs,l=e.firstFormInitialValues,o=e.optionsMap,c=e.actionButtons,s=e.additionalActionButtonsDependedOnProps,u=e.modal,d=Object(n.useState)(0),m=Object(yt.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)(!1),h=Object(yt.a)(f,2),v=h[0],g=h[1],y=i.map(function(){return null}),O=vn(),j=i[p].tabContent.functionToExecuteThenPassResultAsProps,E=j?j({firstFormInitialValues:l,modal:u}):{};return r.a.createElement(r.a.Fragment,null,r.a.createElement(pt.j,{classes:{root:O.DialogTitleRoot}},r.a.createElement(pt.t,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(pt.L,{variant:"h6",style:{width:"90%"}},"".concat("function"===typeof t?t(l):t).concat(l[i[0].tabContent.passProps.formObj.headerText]).toUpperCase()),r.a.createElement(pt.u,{className:O.closeBtn,onClick:a},r.a.createElement(hn.a,null))),r.a.createElement(pt.I,{value:p,onChange:function(e,t){return b(t)},indicatorColor:"primary",textColor:"primary",variant:i.length>3?"scrollable":"fullWidth"},i.map(function(e){var t=e.tabTitle,a=e.conditionallyDisable,n=e.disabled,i=e.conditionallyRender;if(i&&"function"===typeof i&&i({firstFormInitialValues:l,modal:u}))return null;var o=n||a&&a({firstFormInitialValues:l,modal:u})||!1;return r.a.createElement(pt.G,{fullWidth:!0,label:t,key:t,disabled:o,classes:{label:O.tabTitle}})}))),r.a.createElement(pt.i,null,i.map(function(e,t){var a=e.tabContent,n=a.Component,i=a.passProps,c=(a.functionToExecuteThenPassResultAsProps,e.tabTitle);return!0===e.disabled||p!==t?null:r.a.createElement("div",{style:p!==t?{display:"none"}:void 0,key:c},0===t?r.a.createElement(n,Object.assign({bindFormSubmit:function(e){y[t]=e},bindIsSubmitting:g},i,{initialValues:l,optionsMap:o},E)):r.a.createElement(n,Object.assign({bindFormSubmit:function(e){y[t]=e},bindIsSubmitting:g},i,{firstFormInitialValues:l,modal:u},E)))}),v&&r.a.createElement(pt.v,null)),r.a.createElement(pt.h,{style:"edit"===u.mode?{marginRight:"8px"}:void 0},c,s&&s.map(function(e){var t=e.text,a=e.onClick,n=e.style,i=e.color,o=e.variant,c=e.conditionallyRender;return c&&!c({firstFormInitialValues:l,modal:u})?null:r.a.createElement(pt.b,{key:t,disabled:v,variant:o,onClick:function(){a({modal:u,firstFormInitialValues:l})},style:n,color:i},t)}),i.map(function(e,t){var a=e.tabButtons;return p===t&&a&&r.a.createElement(r.a.Fragment,{key:t},a.map(function(e,a){var n=e.Btn,i=e.requiresFormSubmitRef,o=e.conditionallyRender;return o&&!o({modal:u,firstFormInitialValues:l})?null:i?r.a.createElement(n,{disabled:v,actionHandler:function(){y[p]&&y[p]()},key:"".concat(t,"-").concat(a)}):r.a.createElement(n,{key:"".concat(t,"-").concat(a),disabled:v})}))})))},yn=Object(c.c)({DialogTitleRoot:{paddingBottom:"10px"},closeBtn:{position:"absolute",right:"24px",top:"15px"},tabTitle:{fontSize:"15px"}}),On=function(e){var t,a=e.initialValues,i=e.formObj,l=e.title,o=e.optionsMap,c=e.closeHandler,s=e.onSubmit,u=e.actionButtons,d=Object(n.useState)(!1),m=Object(yt.a)(d,2),p=m[0],b=m[1],f=yn();return r.a.createElement(r.a.Fragment,null,r.a.createElement(pt.j,{classes:{root:f.DialogTitleRoot}},r.a.createElement(pt.t,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(pt.L,{variant:"h6"},"".concat("function"===typeof l?l(a):l).concat(a[i.headerText]).toUpperCase()),r.a.createElement(pt.u,{className:f.closeBtn,onClick:c},r.a.createElement(hn.a,null)))),r.a.createElement(pt.i,null,r.a.createElement(bn,{onSubmit:s,formObj:i,bindFormSubmit:function(e){t=e},bindIsSubmitting:b,initialValues:a,optionsMap:o}),p&&r.a.createElement(pt.v,null)),r.a.createElement(pt.h,null,u,r.a.createElement(pt.b,{color:"primary",variant:"contained",disabled:p,onClick:function(){return t()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))},jn=function(e,t){var a=[];t.blocks.forEach(function(t){var n=t.fields;a=[].concat(Object(N.a)(a),Object(N.a)(n.filter(function(t){return"select"===t.type&&null!==Object(I.get)(e,t.name)||"file"===t.type&&null!==Object(I.get)(e,t.name)})))});var n=Object(S.a)({},e);return a.forEach(function(a){var r=a.name,i=a.dictUrl,l=a.type,o=Object(I.get)(e,r);Array.isArray(o)?Object(I.set)(n,r,o.map(t.doBeforeSend&&t.doBeforeSend[l]?function(e){return t.doBeforeSend[l](e)}:function(e){var t=e.value;return"".concat(i.split("/search")[0],"/").concat(t)})):Object(I.set)(n,r,t.doBeforeSend&&t.doBeforeSend[l]?t.doBeforeSend[l](o):"".concat(i,"/").concat(o.value))}),n},En=[{dataKey:"createdTimestamp",label:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f",relativeWidth:1},{dataKey:"initUser",label:"\u0418\u043d\u0438\u0446\u0438\u0430\u0442\u043e\u0440",relativeWidth:1},{dataKey:"text",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",relativeWidth:2}],xn=function(e){var t=e.data,a=Object(W.a)(e,["data"]);return r.a.createElement(st.a,null,function(e){var n=e.width,i=e.height;return r.a.createElement(dt.a,Object.assign({data:t,columns:En.map(function(e){var t=e.label,a=e.dataKey,n=e.relativeWidth;return{name:a,header:t,width:"".concat(25*n,"%"),cellProps:{style:{paddingRight:0}}}}),isCellHovered:function(e,t,a,n){return t.uniqueId&&t.uniqueId===n.uniqueId}},a,{includeHeaders:!0,fixedRowCount:1,width:n,height:i}))})},wn=function(e){var t=e.formObj,a=e.passProps,n=e.functionToExecuteThenPassResultAsProps,r=e.tabButtons,i=e.historyTab,l=t.additionalTabs,o=void 0===l?[]:l;return[{tabTitle:"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",tabContent:{Component:bn,passProps:Object(S.a)({formObj:t},a),functionToExecuteThenPassResultAsProps:n},tabButtons:r}].concat(Object(N.a)(o),[i])},kn=function(e){var t=e.formObj,a=e.mode,n={component:Et,forwardedProps:{Component:gn,tabs:wn({formObj:t,passProps:{readOnly:"view"===a},functionToExecuteThenPassResultAsProps:function(e){var a=e.modal;return{onSubmit:function(e,n){var r=n.setSubmitting,i=t.customId?a.item[t.customId]:a.item.uniqueId;mt({url:t.primaryActionUrl?"".concat(t.primaryActionUrl,"/").concat(i):"".concat(t.url,"/").concat(i),method:t.method,data:jn(e,t)},function(e){var a=e.status;200!==a&&201!==a||We('\u041e\u0431\u044a\u0435\u043a\u0442 "'.concat(t.titleItem,'" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d')),r(!1),Ge(),Ye()},We,0,r)}}},tabButtons:"edit"===a?[{Btn:ht,requiresFormSubmitRef:!0}]:[],historyTab:{tabTitle:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",tabContent:{Component:function(e){var t=e.modal;return r.a.createElement("div",{style:{minHeight:"40vh",width:"100%"}},r.a.createElement(Et,{config:[{whereToStore:"data",urlToDownload:"/api/commonHistory/search/allPresentByUuid?uuid=".concat(t.item.uuid,"&projection=tab"),rebuildReceivedValue:function(e){var t=e._embedded;return Object.values(t)[0]}}],Component:xn,PreloaderComponent:Ot,errorHandler:Ke}))}}}}),title:"function"===typeof t.title?function(e){return"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 ".concat(t.title(e),": ")}:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 ".concat(t.title,": "),actionButtons:[ft(function(){return Ge()})],additionalActionButtonsDependedOnProps:t.additionalActionButtonsDependedOnProps,PreloaderComponent:Ot,errorHandler:function(e){return Ke(e)}},functionsToExecute:[]};return"create"===a&&(n.forwardedProps={Component:On,formObj:t,title:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f ".concat(t.title),actionButtons:[ft(function(){return Ge()})],readOnly:!1,PreloaderComponent:Ot,errorHandler:function(e){return Ke(e)}},n.forwardedProps.config=et(t),n.forwardedProps.initialValues=wt(t),n.forwardedProps.onSubmit=function(e,a){var n=a.setSubmitting;return mt({url:t.primaryActionUrl?t.primaryActionUrl:t.url,method:t.method,data:jn(e,t)},function(e){201===e.status&&We('\u041e\u0431\u044a\u0435\u043a\u0442 "'.concat(t.titleItem,'" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d')),n(!1),Ge(),Ye()},We,0,n)}),"view"===a&&(n.functionsToExecute=[].concat(Object(N.a)(n.functionsToExecute),[{func:function(e){var a=e.category,r=e.page,i=n.forwardedProps.actionButtons,l=Object(N.a)(i),o=Z.getState().wrapperReducer.allowedActions;return(o[a]&&o[a].includes&&o[a].includes("delete")||o[a]&&o[a][r]&&o[a][r].includes("delete"))&&(l=[].concat(Object(N.a)(i),[vt(function(){Z.dispatch(gl({mainText:'\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442 "'.concat(t.titleItem?t.titleItem:t.title,'": ').concat(e.item.label||e.item.shortName||e.item.surnameInitials||e.item.uuid,"?"),primaryButtonHandler:function(){He(!0),mt({url:"".concat(t.url,"/").concat(e.item.uniqueId),method:"delete"},function(e){var a=e.status;He(!0),204===a&&We('\u041e\u0431\u044a\u0435\u043a\u0442 "'.concat(t.titleItem?t.titleItem:t.title,'" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d')),Z.dispatch(yl()),Ge(),Ye()},We)}}))})])),(o[a].includes&&o[a].includes("delete")||o[a]&&o[a][r]&&o[a][r].includes("edit"))&&(l=[].concat(Object(N.a)(l),[gt({modal:Object(S.a)({},e,{mode:"edit"})})])),l},passResultAs:"actionButtons"}])),"view"!==a&&"edit"!==a||(n.functionsToExecute=[].concat(Object(N.a)(n.functionsToExecute),[{func:function(e){return[].concat(Object(N.a)(et(t)),[Ct(e,t)])},passResultAs:"config"}])),"edit"===a&&(n.forwardedProps.title="\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f ".concat(t.title,": ")),"profile"===a&&(n.forwardedProps={Component:On,formObj:t,title:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f ".concat(t.title,": "),actionButtons:[ft(function(){return Ge()})],readOnly:!1,PreloaderComponent:Ot,errorHandler:function(e){return Ke(e)}},n.functionsToExecute=[].concat(Object(N.a)(n.functionsToExecute),[{func:function(e){return[].concat(Object(N.a)(et(t)),[Object(S.a)({},Ct(e,t,"initialValues"))])},passResultAs:"config"},{func:function(e){return function(a,n){var r=n.setSubmitting;return mt({url:t.primaryActionUrl?"".concat(t.primaryActionUrl,"/").concat(e.item.uniqueId):"".concat(t.url,"/").concat(e.item.uniqueId),method:t.method,data:jn(a,t)},function(e){201===e.status&&We("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u044b\u043b\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u044b"),r(!1),Ge()},We,0,r)}},passResultAs:"onSubmit"}]),n.forwardedProps.renderSubmitButton=!0,n.forwardedProps.isInitialValid=!0),n},Cn=["+","7","(",/\d/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/],In=function(e){return"2"===e.charAt(0)?[/[0-2]/,/[0-3]/,":",/[0-5]/,/[0-9]/]:[/[0-2]/,/[0-9]/,":",/[0-5]/,/[0-9]/]},Sn={md:12,lg:12,xl:12},Pn={md:6,lg:6,xl:6},Tn=function(e){var t=e.uniqueId;return{label:e.fullName,value:t}},Rn=function(e){var t=e.uniqueId;return{label:e.label,value:t,enum:e.enum}},Dn=function(e){var t=e.label;return{label:t,value:t}},Mn=function(e){return e.map(Rn)},_n=function(e){return at(e).map(Tn)},An=function(e){return Mn(at(e))},Fn=function(e){return at(e).map(Dn)},qn={type:"text",additionalProps:{multiline:!0,fullWidth:!0,rowsMax:6}},Nn=function(e){return T.a.post("/api/file/save",e,{"Content-Type":"multipart/form-data"})},Bn={type:"formatted",mask:In},Ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.prefix,a=void 0===t?"":t,n=e.includeThousandsSeparator,r=void 0!==n&&n,i=Object(W.a)(e,["prefix","includeThousandsSeparator"]);return{type:"formatted",mask:Object(lt.createNumberMask)(Object(S.a)({prefix:a,includeThousandsSeparator:r},i))}},Vn={title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",titleItem:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",headerText:"fullname",url:"/api/sysUsers",projection:"formSysUser",primaryActionUrl:"/api/user/sysUser",method:"post",doBeforeSend:{select:function(e){return e.value}},blocks:[{blockTitle:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fields:[{label:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f",name:"photo",type:"file",doBeforeSetFieldValue:Nn,accept:"image/*",widths:Sn},{name:"accost",type:"text",label:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435",widths:Pn},{name:"sanCode",label:"\u0421\u0430\u043d",type:"select",dictUrl:"/api/sysDictSan/search/present",widths:Pn},{name:"firstname",type:"text",label:"\u0418\u043c\u044f"},{name:"surname",type:"text",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"},{name:"middlename",type:"text",label:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"},{name:"fullname",type:"text",label:"\u0424\u0418\u041e",hidden:!0},{name:"birthday",label:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",type:"date",widths:Pn},{name:"hirotonyday",label:"\u0414\u0430\u0442\u0430 \u0445\u0438\u0440\u043e\u0442\u043e\u043d\u0438\u0438",type:"date",widths:Pn},{name:"member",label:"\u041c\u0435\u0441\u0442\u043e \u0441\u043b\u0443\u0436\u0435\u043d\u0438\u044f",type:"select",dictUrl:"/api/strMember/search/present",rebuildReceivedOptions:An,rebuildReceivedValue:Rn,widths:Sn},{name:"specializationCode",label:"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f",type:"select",dictUrl:"/api/sysDictSpecialization/search/present",widths:Pn}]},{blockTitle:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u043e\u043d\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fields:[{name:"phone",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\\\u0418\u043c\u044f \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430",type:"formatted",mask:Cn,uniqueCheck:{url:"/api/sysAuthen/search/existsByName",constructParams:function(e,t){return{name:t}}}},{name:"password",type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c"},{name:"isActiveLogin",label:"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u0443\u0447\u0451\u0442\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c",type:"checkbox",defaultValue:!0},{name:"role",label:"\u0420\u043e\u043b\u044c",type:"select",dictUrl:"/api/user/role",rebuildReceivedOptions:Mn,rebuildReceivedValue:Rn,widths:Pn}]},{blockTitle:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fields:[{name:"email",label:"E-mail",type:"formatted",mask:lt.emailMask},{name:"isSendEmail",label:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c email \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f ",type:"checkbox"},{name:"isSendMessage",label:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c push \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",type:"checkbox"}]}],validationSchema:ct.object({surname:ct.string().required(),firstname:ct.string().required(),middlename:ct.string(),accost:ct.string(),phone:ct.string().required(),email:ct.string(),password:ct.string().required(),san:ct.object().nullable(),role:ct.object().nullable().required(),isActiveLogin:ct.bool(),specializationCode:ct.object().nullable(),member:ct.object().nullable()})},Un={title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",titleItem:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",headerText:"fullname",url:"/api/sysUsers",projection:"formSysUser",primaryActionUrl:"/api/user/sysUser",method:"patch",doBeforeSend:{select:function(e){return e.value}},blocks:[{blockTitle:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fields:[{label:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f",name:"photo",type:"file",doBeforeSetFieldValue:Nn,accept:"image/*",widths:Sn},{name:"firstname",type:"text",label:"\u0418\u043c\u044f"},{name:"surname",type:"text",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"},{name:"middlename",type:"text",label:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"},{name:"accost",type:"text",label:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435"},{name:"fullname",type:"text",label:"\u0424\u0418\u041e",hidden:!0},{name:"birthday",label:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",type:"date",widths:{md:2,lg:2,xl:2}},{name:"sanCode",label:"\u0421\u0430\u043d",type:"select",dictUrl:"/api/sysDictSan/search/present",widths:Pn,readOnly:!0},{name:"hirotonyday",label:"\u0414\u0430\u0442\u0430 \u0445\u0438\u0440\u043e\u0442\u043e\u043d\u0438\u0438",type:"date"},{name:"member",label:"\u041c\u0435\u0441\u0442\u043e \u0441\u043b\u0443\u0436\u0435\u043d\u0438\u044f",type:"select",dictUrl:"/api/strMember/search/present",rebuildReceivedOptions:An,rebuildReceivedValue:Rn,widths:Sn,readOnly:!0},{name:"specializationCode",label:"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f",type:"select",dictUrl:"/api/sysDictSpecialization/search/present",widths:Pn,readOnly:!0}]},{blockTitle:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u043e\u043d\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fields:[{name:"phone",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\\\u0418\u043c\u044f \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430",type:"formatted",mask:Cn,uniqueCheck:{url:"/api/sysAuthen/search/existsByName",constructParams:function(e,t){return{name:t}}}},{name:"password",type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c"},{name:"role",label:"\u0420\u043e\u043b\u044c",type:"select",dictUrl:"/api/user/role",rebuildReceivedOptions:Mn,rebuildReceivedValue:Rn,readOnly:!0,widths:Pn}]},{blockTitle:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fields:[{name:"email",label:"E-mail",type:"formatted",mask:lt.emailMask},{name:"isSendEmail",label:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c email \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f ",type:"checkbox"},{name:"isSendMessage",label:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c push \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",type:"checkbox"}]}],validationSchema:ct.object({surname:ct.string().required(),firstname:ct.string().required(),middlename:ct.string(),accost:ct.string(),phone:ct.string().required(),email:ct.string(),password:ct.string().required(),san:ct.object().nullable(),role:ct.object().nullable().required(),specializationCode:ct.object().nullable(),member:ct.object().nullable()})},Hn={create:kn({formObj:Vn,mode:"create"}),view:kn({formObj:Vn,mode:"view"}),edit:kn({formObj:Object(S.a)({},Vn,{method:"patch",doBeforeSend:{select:function(e){return e.value}},validationSchema:ct.object({surname:ct.string().required(),firstname:ct.string().required(),middlename:ct.string(),accost:ct.string(),phone:ct.string().required(),email:ct.string(),password:ct.string(),san:ct.object().nullable(),role:ct.object().nullable().required(),isActiveLogin:ct.bool(),specializationCode:ct.object().nullable(),member:ct.object().nullable()})}),mode:"edit"}),profile:kn({formObj:Un,mode:"profile"})},Wn={requiresFunction:[{functionName:"administration_user_modifier",allowedActions:["create","view","edit","delete"]},{functionName:"administrator_hram_user_modifier",allowedActions:["create","view","edit","delete"]},{functionName:"member_user_view",allowedActions:["view"]}],title:"\u0416\u0443\u0440\u043d\u0430\u043b \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",url:"/api/journalUsers",filtersPanel:{filters:[{label:"\u0424\u0418\u041e",name:"surnameInitials",type:"text"},{label:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435",name:"accost",type:"text"},{label:"\u041c\u0435\u0441\u0442\u043e \u0441\u043b\u0443\u0436\u0435\u043d\u0438\u044f",name:"memberId",type:"select",dictUrl:"/api/strMember/search/present",rebuildReceivedOptions:An},{label:"\u0420\u043e\u043b\u044c",name:"role",type:"select",dictUrl:"/api/user/role",rebuildReceivedOptions:Mn},{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",name:"phone",type:"formatted",mask:Cn}]},tableHeader:[{label:"\u0424\u0418\u041e",sortable:!0,path:"fullName",width:"20%"},{label:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435",sortable:!1,path:"accost",width:"20%"},{label:"\u041c\u0435\u0441\u0442\u043e \u0441\u043b\u0443\u0436\u0435\u043d\u0438\u044f",sortable:!0,path:"memberName",width:"35%"},{label:"\u0420\u043e\u043b\u044c",sortable:!0,path:"role",width:"15%"},{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",sortable:!1,path:"phone",width:"15%"}],forms:Object(S.a)({},Hn)},zn=a(331),Yn=a.n(zn),Gn=a(63),Kn=a.n(Gn),Jn=a(224),Xn=a.n(Jn),$n=a(152),Zn=a.n($n),Qn=Object(c.c)(function(e){return{header:{padding:e.spacing.unit},cntr:{width:"100%",height:"100%"},mainContainer:{padding:"8px",marginBottom:"8px",height:" 100%",width:"100%",overflowY:"auto"}}}),er=Object(o.b)(function(){return{}},function(e){return{openSnackBar:function(t){return e({type:Oe,payload:{message:t,isSnackBarOpened:!0}})}}})(function(e){var t=e.confObj,a=t.initialValuesUrl,i=t.title,l=e.confObj,o=e.openSnackBar,c=Object(n.useState)({isLoading:!0}),s=Object(yt.a)(c,2),u=s[0],d=s[1],m=Object(n.useState)(!1),p=Object(yt.a)(m,2),b=p[0],f=p[1],h=Object(n.useState)(!0),v=Object(yt.a)(h,2),g=v[0],y=v[1],O=Qn();Object(n.useEffect)(function(){var e=T.a.CancelToken.source();try{T.a.get(a,{cancelToken:e.token}).then(function(e){var t=e.data,a=[];l.blocks.forEach(function(e){return e.fields.forEach(function(e){var t=e.name;return a.push(t)})});var n=Object.values(t._embedded)[0].filter(function(e){return a.includes(e.name)}),r={},i={};n.forEach(function(e){var t=e.name,a=e.description,n=e.uniqueId,l=e.valueOfAttribute;r[t]={uniqueId:n,label:a},i[t]=l});var o=Object(S.a)({},l);o.blocks.forEach(function(e){return e.fields.forEach(function(e){e.label=r[e.name]&&r[e.name].label})}),d({formObj:o,initialValues:kt(o,i),isLoading:!1,pathLabelIdMap:r})})}catch(t){T.a.isCancel(t)||te(t)}return function(){e.cancel("Cancelling in cleanup")}},[l,a]);var j=u.isLoading,E=u.formObj,x=u.initialValues,w=u.pathLabelIdMap,k=null;return!j||x||E?r.a.createElement(Zn.a,{square:!0,className:O.mainContainer,elevation:5},r.a.createElement(Xn.a,{variant:"h6",className:O.header},i.toUpperCase()),r.a.createElement(bn,{enableReinitialize:!0,formObj:E,initialValues:x,bindFormSubmit:function(e){k=e},bindDirty:y,bindIsSubmitting:f,onSubmit:function(e,t){var a=t.setSubmitting,n=[];E.blocks.forEach(function(t){t.fields.forEach(function(t){var a,r=t.name,i=t.type,l=e[r];x[r]!==l&&(a=!E.doBeforeSend||"file"!==i&&"select"!==i?l:E.doBeforeSend[i]?E.doBeforeSend[i](e[r]):e[r],n.push({value:a,uniqueId:w[r].uniqueId}))})}),T.a.all(n.map(function(e){var t=e.value,a=e.uniqueId;return T.a.patch("".concat(E.url,"/").concat(a),{valueOfAttribute:t})})).then(function(){a(!1),o("\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b")}).catch(function(e){o("\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),a(!1)})}}),r.a.createElement(pt.h,null,r.a.createElement(pt.b,{variant:"contained",color:"primary",disabled:!g||b,onClick:function(){k&&"function"===typeof k&&k()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))):r.a.createElement(Kn.a,{justify:"center",alignContent:"center",direction:"column",alignItems:"center",container:!0,className:O.cntr},r.a.createElement(Xn.a,{variant:"h6"},"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"),r.a.createElement(Yn.a,{size:120}))}),tr=function(e){return e?JSON.parse(e):null},ar={requiresFunction:[{functionName:"administration_global_modifier",allowedActions:["edit"]}],title:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",passProps:{confObj:{title:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",url:"/api/sysSystemConfig",method:"patch",doBeforeSend:{file:function(e){return JSON.stringify(e)}},initialValuesUrl:"/api/sysSystemConfig/search/present",blocks:[{blockTitle:"\u0421\u0418\u041d\u0425\u0420\u041e\u041d\u0418\u0417\u0410\u0426\u0418\u042f \u041f\u0420\u0410\u0412\u041e\u0421\u041b\u0410\u0412\u041d\u041e\u0413\u041e \u041a\u0410\u041b\u0415\u041d\u0414\u0410\u0420\u042f",fields:[{name:"sync_server_host",label:"",type:"text"},{name:"sync_frequency_cron",label:"",type:"text"}]},{blockTitle:"\u041f\u0410\u0420\u0410\u041c\u0415\u0422\u0420\u042b \u041f\u041e\u0427\u0422\u041e\u0412\u041e\u0413\u041e \u0421\u0415\u0420\u0412\u0415\u0420\u0410",fields:[{name:"mail_server_username",label:"",type:"text"},{name:"mail_server_password",label:"",type:"password"},Object(S.a)({name:"mail_server_port",label:""},Ln({allowLeadingZeroes:!0})),{name:"mail_server_host",label:"",type:"text"},{name:"mail_delivery_from_personal",label:"",type:"text"},{name:"mail_delivery_from_address",label:"",type:"formatted",mask:lt.emailMask},{name:"mail_server_ssl",label:"",type:"checkbox"},{name:"mail_server_auth",label:"",type:"checkbox"}]},{blockTitle:"\u0411\u041b\u041e\u041a \u041d\u0410\u0421\u0422\u0420\u041e\u0419\u041a\u0418 \u0427\u0410\u0421\u0422\u041e\u0422\u042b \u0423\u0412\u0415\u0414\u041e\u041c\u041b\u0415\u041d\u0418\u0419",fields:[Object(S.a)({name:"notification_frequency_event",label:""},Ln()),Object(S.a)({name:"notification_frequency_raw_claim",label:""},Ln())]},{blockTitle:"\u0410\u041d\u041a\u0415\u0422\u0418\u0420\u041e\u0412\u0410\u041d\u0418\u0415",fields:[{name:"questioning_baptism",label:"",type:"file",rebuildReceivedValue:tr,doBeforeSetFieldValue:Nn,widths:Sn},{name:"questioning_wedding",label:"",type:"file",rebuildReceivedValue:tr,doBeforeSetFieldValue:Nn,widths:Sn}]},{blockTitle:"\u0420\u0410\u0411\u041e\u0422\u0410 \u0421 \u0411\u0415\u0421\u0415\u0414\u0410\u041c\u0418",fields:[Object(S.a)({name:"conversation_frequency_recording_person",label:""},Ln(),{widths:Pn})]},{blockTitle:"\u0420\u0410\u0411\u041e\u0422\u0410 \u0421 \u0417\u0410\u042f\u0412\u041a\u0410\u041c\u0418",fields:[Object(S.a)({name:"claim_not_less_days",label:""},Ln(),{widths:Pn}),Object(S.a)({name:"claim_not_more_days",label:""},Ln(),{widths:Pn}),Object(S.a)({name:"claim_auto_remove",label:""},Ln(),{widths:Sn}),Object(S.a)({name:"claim_auto_transfer_to_free",label:""},Ln(),{widths:Sn})]},{blockTitle:"\u041f\u0410\u0420\u0410\u041c\u0415\u0422\u0420\u042b \u0421\u041c\u0421 \u0421\u0415\u0420\u0412\u0418\u0421\u0410",fields:[{name:"sms_server_host",label:"",type:"text"},{name:"sms_database_login",label:"",type:"text"},{name:"sms_database_password",label:"",type:"text"}]},{blockTitle:"\u0418\u041d\u041e\u0415",fields:[Object(S.a)({name:"other_count_lock",label:""},Ln()),Object(S.a)({name:"other_disclaimer_text",label:""},qn),{name:"other_disclaimer_enable",label:"",type:"checkbox"}]}],validationSchema:ct.object({sync_server_host:ct.string().required(),sync_frequency_cron:ct.string().required(),mail_server_username:ct.string().required(),mail_server_password:ct.string().required(),mail_server_port:ct.string().required(),mail_server_host:ct.string().required(),mail_delivery_from_personal:ct.string().required(),mail_delivery_from_address:ct.string().required(),mail_server_ssl:ct.string().required(),mail_server_auth:ct.string().required(),notification_frequency_event:ct.string().required(),notification_frequency_raw_claim:ct.string().required(),questioning_baptism:ct.string().required(),questioning_wedding:ct.string().required(),conversation_frequency_recording_person:ct.string().required(),claim_not_less_days:ct.string().required(),claim_not_more_days:ct.string().required(),claim_auto_remove:ct.string().required(),claim_auto_transfer_to_free:ct.string().required(),sms_server_host:ct.string().required(),sms_database_login:ct.string().required(),sms_database_password:ct.string().required(),other_count_lock:ct.string().required(),other_disclaimer_text:ct.string().required(),other_disclaimer_enable:ct.string().required()})}},Component:er},nr=[r.a.createElement(h.a,{variant:"contained",color:"secondary",style:{backgroundColor:"#357a38"},onClick:function(){return ze({title:"\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u0431 \u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0435",formObj:{blocks:[{fields:[{label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430 \u0432 \u0420\u0413\u0423",name:"rguId",type:"formatted",mask:Object(lt.createNumberMask)({prefix:"",includeThousandsSeparator:!1,allowLeadingZeroes:!0}),widths:{xs:12,sm:12,md:12,lg:12,xl:12}}]}],validationSchema:ct.object({rguId:ct.number().positive().required()})},initialValues:{rguId:""},primaryButtonText:"\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c",primaryButtonHandler:function(e,t){var a=t.setSubmitting,n=e.rguId;T.a.post("/api/members/syncMemberById/".concat(n)).then(function(e){var t=e.status;He(!0),201!==t&&200!==t||We('\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a \u0441 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u043c "'.concat(n," \u0431\u044b\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d")),204!==t&&404!==t||We('\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430 \u0441 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u043c "'.concat(n,'" \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e')),a(!1),Z.dispatch(jl()),Ye()}).catch(function(e){a(!1),204!==e.response.status&&404!==e.response.status&&204!==e.status||We('\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u043c "'.concat(n,'"'))})}})}},"\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c")],rr=a(338),ir=a.n(rr),lr={title:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",titleItem:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a",headerText:"fullName",url:"/api/members/structureMember",doBeforeSend:{select:function(e){return e.value}},projection:"formMember",method:"post",blocks:[{blockTitle:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fields:[{name:"shortName",label:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",type:"text",additionalProps:{multiline:!0,fullWidth:!0,rowsMax:6}},{name:"fullName",type:"text",label:"\u041f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",additionalProps:{multiline:!0,fullWidth:!0,rowsMax:6}},{name:"rguId",label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0432 \u0420\u0413\u0423",type:"text",readOnly:!0},{name:"synchronizeTimestamp",label:"\u0414\u0430\u0442\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0441 \u0420\u0413\u0423",type:"text",readOnly:!0},{name:"parentId",label:"\u0412\u044b\u0448\u0435\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435",type:"select",dictUrl:"/api/structureMember/search/present",rebuildReceivedOptions:_n,rebuildReceivedValue:Tn,widths:{xs:12,sm:12,md:12,lg:12,xl:12}},{name:"supremeParentId",label:"\u0413\u043e\u043b\u043e\u0432\u043d\u043e\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435",readOnly:!0,type:"select",dictUrl:"/api/structureMember/search/present",rebuildReceivedOptions:_n,rebuildReceivedValue:Tn,widths:{xs:12,sm:12,md:12,lg:12,xl:12}}]},{blockTitle:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fields:[{name:"memberInfo.orgHead",label:"\u0424\u0418\u041e \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f",type:"text"},{name:"memberInfo.orgPhone",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",type:"text"},{name:"memberInfo.web",label:"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u0430\u0439\u0442",type:"text"},{name:"memberInfo.post",label:"\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441",type:"text",widths:{lg:8,xl:8}},{name:"memberInfo.inn",label:"\u0418\u041d\u041d",type:"formatted",mask:ir()({prefix:"",includeThousandsSeparator:!1,allowLeadingZeroes:!0,integerLimit:10})},{name:"memberInfo.ogrn",label:"\u041e\u0413\u0420\u041d",type:"formatted",mask:ir()({prefix:"",includeThousandsSeparator:!1,allowLeadingZeroes:!0,integerLimit:13})},{name:"memberInfo.workTime",label:"\u0413\u0440\u0430\u0444\u0438\u043a \u0440\u0430\u0431\u043e\u0442\u044b",type:"text",additionalProps:{multiline:!0,fullWidth:!0,rowsMax:6}}]}],validationSchema:ct.object({shortName:ct.string().required(),fullName:ct.string().required(),rguId:ct.string(),synchronizeTimestamp:ct.string(),parentId:ct.object().nullable(),supremeParentId:ct.object().nullable(),memberInfo:ct.object({orgHead:ct.string(),orgPhone:ct.string(),web:ct.string(),post:ct.string(),ogrn:ct.string(),workTime:ct.string(),inn:ct.string()})})},or={doBeforeSend:{select:function(e){return e.value},file:function(e){return e.value}},fields:[{name:"mvList",label:"mvList",type:"fieldArray",fields:[{name:"uniqueId",label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440",type:"text",hidden:!0},{name:"mvObjectId",label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0438\u0434\u0430 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439",type:"select",dictUrl:"/api/mv/objects",rebuildReceivedOptions:function(e){return e.map(function(e){return{label:e.label,value:e.uniqueId}})},width:2},{name:"isDeleted",label:"isDeleted",type:"checkbox",hidden:!0}]}],validationSchema:ct.object({mvList:ct.array().of(ct.object({mvObjectId:ct.object().when("isDeleted",{is:!0,then:ct.object().nullable(),otherwise:ct.object().nullable().required()}),isDeleted:ct.bool(),uniqueId:ct.string()})).min(1)})},cr=Object(S.a)({},lr,{url:"/api/structureMember",primaryActionUrl:"/api/members/structureMember",additionalTabs:[{tabTitle:"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0412\u0438\u0434\u043e\u0432 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439",tabContent:{Component:function(e){var t=e.modal.item.uniqueId,a=Object(W.a)(e,["modal"]);return r.a.createElement(Et,Object.assign({Component:bn,variant:"table",config:[{urlToDownload:"/api/memberMv/structureMemberMv/".concat(t),whereToStore:"rawInitialValues",postLoadDoSomethingThenPassResultAsProp:{func:function(e){return{mvList:e.map(function(e){var t=e.mvObject,a=t.label,n=t.uniqueId,r=Object(W.a)(e,["mvObject"]);return Object(S.a)({mvObjectId:{label:a,value:n}},r)}),procedureId:t}},passResultAs:"initialValues"}}].concat(Object(N.a)(tt(or))),formObj:or,errorHandler:Ke,PreloaderComponent:Ot},a))},passProps:{enableReinitialize:!0},functionToExecuteThenPassResultAsProps:function(e){var t=e.modal,a=t.item.uniqueId,n=t.mode,r=e.firstFormInitialValues.supremeParentId;return{onSubmit:function(e,t){var n=e.mvList,r=t.setSubmitting;wl({method:"post",url:"/api/memberMv/structureMemberMv/".concat(a),data:n.filter(function(e){if(null===e)return!1;var t=e.uniqueId,a=e.isDeleted;return!(null===t&&!0===a)}).map(function(e){return Object(S.a)({},e,{mvObjectId:e.mvObjectId.value})})},function(){Ge(),r(!1)},function(){return r(!1)})},readOnly:"edit"!==n||null!==r}}},tabButtons:[{Btn:ht,requiresFormSubmitRef:!0,conditionallyRender:function(e){var t=e.modal.mode,a=e.firstFormInitialValues.supremeParentId;return"edit"===t&&null===a}}]}]}),sr={create:kn({formObj:lr,mode:"create"}),view:kn({formObj:cr,mode:"view"}),edit:kn({formObj:Object(S.a)({},cr,{method:"patch"}),mode:"edit"})},ur={navigationLabel:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438",requiresFunction:[{functionName:"administration_member_modifier",allowedActions:["create","view","edit","delete"]},{functionName:"member_member_modifier",allowedActions:["create","view","edit","delete"]}],url:"/api/journalMembers",icon:it.i,additionalActionPanelButtons:nr,filtersPanel:{filters:[{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a",name:"uniqueId",type:"select",dictUrl:"/api/structureMember/search/present",rebuildReceivedOptions:function(e){var t=at(e);return Array.isArray(t)?t.map(function(e){var t=e.uniqueId;return{label:e.fullName,value:t}}):[]}},{label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0432 \u0420\u0413\u0423",name:"rguId",type:"text"},{label:"\u0412\u044b\u0448\u0435\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435",name:"supremeParentId",type:"select",dictUrl:"/api/structureMember/search/present",rebuildReceivedOptions:function(e){return Ne(e).map(function(e){return{label:e.fullName,value:e.uniqueId}})}}]},tableHeader:[{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a",sortable:!0,path:"fullName",width:"40%"},{label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0432 \u0420\u0413\u0423",sortable:!0,path:"rguId",width:"15%"},{label:"\u0412\u044b\u0448\u0435\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435",sortable:!0,path:"supremeParentFullName",width:"45%"},{label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0441 \u0420\u0413\u0423",sortable:!0,path:"synchronizeTimestamp",width:"20%"}],forms:Object(S.a)({},sr)},dr={title:"\u041f\u043e\u0434\u0443\u0441\u043b\u0443\u0433\u0438",titleItem:"\u041f\u043e\u0434\u0443\u0441\u043b\u0443\u0433\u0430",headerText:"fullName",url:"/api/procedures/structureProcedures",projection:"formStructureProcedure",doBeforeSend:{file:function(e){return e.value},select:function(e){return e.value}},method:"post",blocks:[{blockTitle:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fields:[{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0443\u0441\u043b\u0443\u0433\u0438",name:"fullName",type:"text",additionalProps:{multiline:!0,fullWidth:!0,rowsMax:6}},{label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043f\u043e\u0434\u0443\u0441\u043b\u0443\u0433\u0438 \u0432 \u0420\u0413\u0423",name:"rguId",type:"text"},{label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0443\u0441\u043b\u0443\u0433\u0438 \u0432 \u0420\u0413\u0423",name:"serviceId",readOnly:!0,type:"text"},{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438",name:"serviceShortName",type:"text",additionalProps:{multiline:!0,fullWidth:!0,rowsMax:6}},{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a",name:"organizationId",type:"select",dictUrl:"/api/structureMember/search/present",rebuildReceivedOptions:_n,rebuildReceivedValue:Tn,widths:{lg:12,xl:12}},{label:"\u0414\u0430\u0442\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438",name:"synchronizeTimestamp",readOnly:!0,type:"text"},{label:"\u0424\u0430\u0439\u043b \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u044f",name:"claimFile",type:"file",doBeforeSetFieldValue:function(e){return T.a.post("/api/file/save",e,{"Content-Type":"multipart/form-data"})},widths:{xs:12,sm:12,md:12,lg:12,xl:12}},{label:"\u0424\u0430\u0439\u043b \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0411\u041f",name:"bpmnFile",type:"file",doBeforeSetFieldValue:function(e){return T.a.post("/api/file/save",e,{"Content-Type":"multipart/form-data"})},widths:{xs:12,sm:12,md:12,lg:12,xl:12}},{label:"\u0424\u0443\u043d\u043a\u0446\u0438\u044f",name:"isFunction",type:"checkbox",widths:{lg:6,xl:6}},{label:"\u041f\u0440\u0438\u0437\u043d\u0430\u043a \u043f\u043b\u0430\u0442\u043d\u043e\u0441\u0442\u0438",name:"isPaid",type:"checkbox",widths:{lg:6,xl:6},customOnChange:function(e){var t=e.value,a=e.status,n=e.setStatus;n(!0===t?{registeredFields:Object(S.a)({},a.registeredFields,{gisgmpId:!0,gisgmpMemberUrn:!0})}:{registeredFields:Object(S.a)({},a.registeredFields,{gisgmpId:!1,gisgmpMemberUrn:!1})})}},{label:"\u0418\u0414 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b \u0432 \u0413\u0418\u0421 \u0421\u041e \u0421\u0413\u041c\u041f",name:"gisgmpId",type:"text",widths:{lg:6,xl:6},customInitialRegister:function(e){return!0===e.isPaid}},{label:"\u0423\u0420\u041d \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430 \u0432 \u0413\u0418\u0421 \u0421\u041e \u0421\u0413\u041c\u041f",name:"gisgmpMemberUrn",type:"text",widths:{lg:6,xl:6},customInitialRegister:function(e){return!0===e.isPaid}}]}],validationSchema:ct.object({fullName:ct.string().required(),rguId:ct.string().required(),isFunction:ct.bool(),serviceId:ct.string(),serviceShortName:ct.string(),organizationId:ct.object().nullable().required(),synchronizeTimestamp:ct.string(),claimFile:ct.object().nullable().required(),bpmnFile:ct.object().nullable().required(),gisgmpId:ct.string().when("isPaid",{is:!0,then:ct.string().required(),otherwise:ct.string()}),gisgmpMemberUrn:ct.string().when("isPaid",{is:!0,then:ct.string().required(),otherwise:ct.string()})})},mr={doBeforeSend:{select:function(e){return e.value},file:function(e){return e.value}},fields:[{name:"mvList",label:"mvList",type:"fieldArray",fields:[{name:"uniqueId",label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440",type:"text",hidden:!0},{name:"mvObjectId",label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0438\u0434\u0430 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439",type:"select",dictUrl:"/api/mv/objects",rebuildReceivedOptions:function(e){return e.map(function(e){return{label:e.label,value:e.uniqueId}})},width:2},{name:"autoDelivered",label:"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438",type:"select",options:[{label:"\u0410\u0432\u0442\u043e",value:!0},{label:"\u0420\u0443\u0447\u043d\u043e\u0439",value:!1}],placeholder:" "},{name:"claimMvXml",label:"\u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b \u0437\u0430\u043f\u0440\u043e\u0441\u0430",doBeforeSetFieldValue:function(e){return T.a.post("/api/file/save",e,{"Content-Type":"multipart/form-data"})},type:"file"},{name:"isDeleted",label:"isDeleted",type:"checkbox",hidden:!0}]},{name:"procedureId",label:"procedureId",type:"text",hidden:!0}],validationSchema:ct.object({mvList:ct.array().of(ct.object({mvObjectId:ct.object().when("isDeleted",{is:!0,then:ct.object().nullable(),otherwise:ct.object().nullable().required()}),autoDelivered:ct.object().when("isDeleted",{is:!0,then:ct.object().nullable(),otherwise:ct.object().nullable().required()}),claimMvXml:ct.object().nullable().when("autoDelivered",function(e,t){return null!==e&&e.value?t.required():t}),isDeleted:ct.bool(),uniqueId:ct.string()})).min(1)})},pr=Object(S.a)({},dr,{url:"/api/structureProcedure",primaryActionUrl:"/api/procedures/structureProcedures",additionalTabs:[{tabTitle:"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0432\u0438\u0434\u043e\u0432 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439",tabContent:{Component:function(e){var t=e.modal.item.uniqueId,a=Object(W.a)(e,["modal"]);return r.a.createElement(Et,Object.assign({config:[{urlToDownload:"/api/procedureMv/search/presentByProcedure?procedureId=".concat(t,"&projection=procedureMvList"),whereToStore:"rawInitialValues",postLoadDoSomethingThenPassResultAsProp:{func:function(e){return{mvList:Ne(e).map(function(e){var t=e.mvObject,a=t.label,n=t.uniqueId,r=e.autoDelivered,i=Object(W.a)(e,["mvObject","autoDelivered"]);return Object(S.a)({mvObjectId:{label:a,value:n},autoDelivered:!0===r?{label:"\u0410\u0432\u0442\u043e",value:!0}:{label:"\u0420\u0443\u0447\u043d\u043e\u0435",value:!1}},i)}),procedureId:t}},passResultAs:"initialValues"}}].concat(Object(N.a)(tt(mr))),PreloaderComponent:Ot,Component:bn,errorHandler:te},a))},passProps:{formObj:mr,variant:"table"},functionToExecuteThenPassResultAsProps:function(e){var t=e.modal;t.item.uniqueId;return{onSubmit:function(e,t){var a=e.procedureId,n=e.mvList,r=t.setSubmitting;wl({method:"post",url:"/api/procedureMv/structureProcedureMvList",data:n.filter(function(e){return!(!0===e.isDeleted&&""===e.uniqueId)}).map(function(e){return Object(S.a)({},e,{autoDelivered:e.autoDelivered.value,mvObjectId:e.mvObjectId.value,claimMvXml:null!==e.claimMvXml?e.claimMvXml.value:null,procedureId:a})})},function(){Ge(),We("\u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b \u041c\u0412 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b"),r(!1)},function(){return r(!1)})},readOnly:"edit"!==t.mode}}},tabButtons:[{Btn:ht,requiresFormSubmitRef:!0,conditionallyRender:function(e){return"edit"===e.modal.mode}}]}]}),br={create:kn({formObj:dr,mode:"create"}),view:kn({formObj:pr,mode:"view"}),edit:kn({formObj:Object(S.a)({},pr,{method:"patch"}),mode:"edit"})},fr={navigationLabel:"\u0423\u0441\u043b\u0443\u0433\u0438",requiresFunction:[{functionName:"administration_service_modifier",allowedActions:["create","view","edit","delete"]},{functionName:"member_service_modifier",allowedActions:["create","view","edit","delete"]}],url:"/api/journalStructureProcedures",icon:it.d,filtersPanel:{filters:[{label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043f\u043e\u0434\u0443\u0441\u043b\u0443\u0433\u0438 \u0432 \u0420\u0413\u0423",name:"rguId",type:"text"},{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0443\u0441\u043b\u0443\u0433\u0438",type:"text",name:"fullName"},{label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0443\u0441\u043b\u0443\u0433\u0438 \u0432 \u0420\u0413\u0423",name:"serviceRguId",type:"text"},{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438",name:"serviceFullName",type:"text"},{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a",name:"memberId",type:"select",dictUrl:"/api/structureMember/search/present",rebuildReceivedOptions:function(e){var t=at(e);return Array.isArray(t)?t.map(function(e){var t=e.uniqueId;return{label:e.fullName,value:t}}):[]}}]},tableHeader:[{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a",sortable:!0,path:"memberFullName"},{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0443\u0441\u043b\u0443\u0433\u0438",sortable:!0,path:"fullName"},{label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043f\u043e\u0434\u0443\u0441\u043b\u0443\u0433\u0438 \u0432 \u0420\u0413\u0423",sortable:!0,path:"rguId"},{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438",sortable:!0,path:"serviceFullName"},{label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0443\u0441\u043b\u0443\u0433\u0438 \u0432 \u0420\u0413\u0423",sortable:!0,path:"serviceRguId"},{label:"\u0424\u0443\u043d\u043a\u0446\u0438\u044f",sortable:!0,path:"isFunction",width:"15%"},{label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0441 \u0420\u0413\u0423",sortable:!0,path:"synchronizeTimestamp",width:"20%"}],forms:Object(S.a)({},br)},hr={title:"\u0412\u0438\u0434\u0430 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f",titleItem:"\u0412\u0438\u0434 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f",headerText:"label",url:"/api/mvObject",projection:"formMvObject",method:"post",doBeforeSend:{file:function(e){return e.value},select:function(e){return e.value}},blocks:[{blockTitle:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fields:[{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"label",type:"text",additionalProps:{multiline:!0,fullWidth:!0,rowsMax:6}},{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"description",type:"text",additionalProps:{multiline:!0,fullWidth:!0,rowsMax:6}},{label:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",name:"direction",type:"select",dictUrl:"/api/mvDirection/search/present",readOnly:!0},{label:"\u0412\u0435\u0440\u0441\u0438\u044f",name:"version",type:"text"},{label:"\u041f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u043e \u0438\u043c\u0435\u043d",name:"mainCode",type:"text"},{label:"\u0422\u0438\u043f",name:"mvType",type:"select",dictUrl:"/api/mvType/search/present",rebuildReceivedOptions:function(e){var t=at(e);return Array.isArray(t)?t.map(function(e){var t=e.code;return{label:e.label,value:t}}):[]},rebuildReceivedValue:function(e){return{label:e.label,value:e.code}}},{label:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439",name:"provider",type:"select",dictUrl:"/api/mvProvider/search/present",widths:{md:12,lg:12,xl:12}},{label:"\u0410\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438",name:"directionUrl",type:"text"},{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a",name:"member",type:"select",dictUrl:"/api/structureMember/search/present",rebuildReceivedOptions:_n,rebuildReceivedValue:Tn,widths:{md:12,lg:12,xl:12}},{label:"\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043c\u0435\u0436\u0432\u0435\u0434",name:"isInternal",type:"checkbox",hidden:!0},{label:"XML \u0444\u0430\u0439\u043b \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430",name:"xmlIn",type:"file",doBeforeSetFieldValue:function(e){return T.a.post("/api/file/save",e,{"Content-Type":"multipart/form-data"})},widths:{xs:12,sm:12,md:12,lg:12,xl:12}},{label:"XML \u0444\u0430\u0439\u043b \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043e\u0442\u0432\u0435\u0442\u0430",name:"xmlOut",type:"file",doBeforeSetFieldValue:function(e){return T.a.post("/api/file/save",e,{"Content-Type":"multipart/form-data"})},widths:{xs:12,sm:12,md:12,lg:12,xl:12}},{label:"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u042d\u041f-\u0421\u041f",name:"needEs",type:"checkbox"},{label:"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d",name:"isBlock",type:"checkbox"}]}],validationSchema:ct.object({direction:ct.object().nullable().required(),isInternal:ct.bool(),version:ct.string().when("isInternal",{is:!0,then:ct.string(),otherwise:ct.string().required()}),mainCode:ct.string().required(),mvType:ct.object().when("isInternal",{is:!0,then:ct.object().nullable(),otherwise:ct.object().nullable().required()}),provider:ct.object().when("isInternal",{is:!0,then:ct.object().nullable(),otherwise:ct.object().nullable().required()})})},vr={create:kn({formObj:Object(S.a)({},hr,{url:"/api/mv/structureMv",blocks:[{blockTitle:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fields:[{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"label",type:"text",additionalProps:{multiline:!0,fullWidth:!0,rowsMax:6}},{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"description",type:"text",additionalProps:{multiline:!0,fullWidth:!0,rowsMax:6},widths:{xs:12,sm:12,md:12,lg:12,xl:12}},{label:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a \u0432\u0438\u0434\u0430 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439(\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a)",name:"member",type:"select",dictUrl:"/api/structureMember/search/present",rebuildReceivedOptions:function(e){var t=at(e);return Array.isArray(t)?t.map(function(e){var t=e.uniqueId;return{label:e.fullName,value:t}}):[]},rebuildReceivedValue:function(e){return{label:e.fullName,value:e.uniqueId}},widths:{xs:12,sm:12,md:12,lg:12,xl:12}},{label:"\u041f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u043e \u0438\u043c\u0435\u043d",name:"mainCode",type:"text",uniqueCheck:{url:"/api/mvObject/search/existsByMainCode",constructParams:function(e,t){return{mainCode:t}}},widths:{xs:8,sm:8,md:8,lg:8,xl:8}},{label:"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d",name:"isBlock",type:"checkbox"},{label:"XML \u0444\u0430\u0439\u043b \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430",name:"xmlIn",type:"file",doBeforeSetFieldValue:function(e){return T.a.post("/api/file/save",e,{"Content-Type":"multipart/form-data"})},widths:{xs:12,sm:12,md:12,lg:12,xl:12}},{label:"XML \u0444\u0430\u0439\u043b \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043e\u0442\u0432\u0435\u0442\u0430",name:"xmlOut",type:"file",doBeforeSetFieldValue:function(e){return T.a.post("/api/file/save",e,{"Content-Type":"multipart/form-data"})},widths:{xs:12,sm:12,md:12,lg:12,xl:12}}]}],validationSchema:ct.object({label:ct.string().required(),mainCode:ct.string().required(),member:ct.object().nullable().required(),xmlIn:ct.object().nullable().required(),xmlOut:ct.object().nullable().required()})}),mode:"create"}),view:kn({formObj:hr,mode:"view"}),edit:kn({formObj:Object(S.a)({},hr,{url:"/api/mvObject",method:"patch",primaryActionUrl:"/api/mv/structureMv"}),mode:"edit"})},gr={navigationLabel:"\u0412\u0438\u0434\u044b \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439",requiresFunction:[{functionName:"administration_mv_modifier",allowedActions:["create","view","edit"]},{functionName:"member_mv_view",allowedActions:["view"]},{functionName:"member_mv_modifier",allowedActions:["view"]}],url:"/api/journalMvObjects",icon:it.t,filtersPanel:{filters:[{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0438\u0434\u0430 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439",name:"name",type:"text"},{label:"\u041f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u043e \u0438\u043c\u0451\u043d",name:"mainCode",type:"text"},{label:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439",name:"providerId",type:"select",dictUrl:"/api/mvProvider/search/present",rebuildReceivedOptions:function(e){return Ne(e).map(function(e){return{label:e.label,value:e.uniqueId}})}},{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a",name:"memberId",type:"select",dictUrl:"/api/structureMember/search/present",rebuildReceivedOptions:function(e){var t=at(e);return Array.isArray(t)?t.map(function(e){var t=e.uniqueId;return{label:e.fullName,value:t}}):[]}},{label:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",name:"directionId",type:"select",dictUrl:"/api/mvDirection/search/present",rebuildReceivedOptions:function(e){return Ne(e).map(function(e){return{label:e.label,value:e.uniqueId}})}}]},tableHeader:[{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0438\u0434\u0430 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439",sortable:!0,dynamicWidth:!0,path:"name"},{label:"\u041f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u043e \u0438\u043c\u0451\u043d",sortable:!0,dynamicWidth:!0,path:"mainCode"},{label:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439",sortable:!0,dynamicWidth:!0,path:"provider"},{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a",sortable:!0,dynamicWidth:!0,path:"member"},{label:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",sortable:!0,dynamicWidth:!0,path:"direction"}],forms:Object(S.a)({},vr)},yr={fields:[{name:"nsiSlaves",label:"nsiSlaves",type:"fieldArray",fields:[{name:"uniqueId",label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440",type:"text",hidden:!0},{name:"label",label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430",type:"text",uniqueCheck:{url:"/api/nsiSlave/search/existByNsiMasterAndLabel",constructParams:function(e,t){return{value:t,nsiMasterId:e.nsiMasterId}}}},{name:"value",label:"\u041a\u043e\u0434 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430",type:"text",uniqueCheck:{url:"/api/nsiSlave/search/existByNsiMasterAndValue",constructParams:function(e,t){return{nsiMasterId:e.nsiMasterId,value:t}}}},{name:"isDeleted",label:"isDeleted",type:"checkbox",hidden:!0}]},{name:"nsiMasterId",label:"nsiMasterId",type:"text",hidden:!0}],validationSchema:ct.object({nsiSlaves:ct.array().of(ct.object({value:ct.string().when("isDeleted",{is:!0,then:ct.string(),otherwise:ct.string().required()}),label:ct.string().when("isDeleted",{is:!0,then:ct.string(),otherwise:ct.string().required()}),isDeleted:ct.bool(),uniqueId:ct.string()})).min(1)})},Or={title:"\u041d\u0421\u0418",titleItem:"\u041d\u0421\u0418",url:"/api/nsiMaster",projection:"formNsiMaster",method:"post",headerText:"label",doBeforeSend:{select:function(e){return e.value}},blocks:[{blockTitle:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fields:[{name:"uniqueId",label:"uniqueId",type:"text",hidden:!0},{name:"label",label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",type:"text",additionalProps:{multiline:!0,fullWidth:!0,rowsMax:6}},{name:"name",label:"\u041c\u043d\u0435\u043c\u043e\u043d\u0438\u043a\u0430",type:"text",uniqueCheck:{url:"/api/nsiMaster/search/existsByName",constructParams:function(e,t){return{name:t}}},widths:{xs:4,sm:4,md:4,lg:4,xl:4}},{name:"description",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",type:"text",additionalProps:{multiline:!0,fullWidth:!0,rowsMax:6}},{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a",name:"member",type:"select",dictUrl:"/api/structureMember/search/present",rebuildReceivedOptions:function(e){var t=at(e);return Array.isArray(t)?t.map(function(e){var t=e.uniqueId;return{label:e.fullName,value:t}}):[]},rebuildReceivedValue:function(e){return{label:e.fullName,value:e.uniqueId}},widths:{md:12,lg:12,xl:12}}]}],validationSchema:ct.object({name:ct.string().required(),label:ct.string().required()}),additionalTabs:[{tabTitle:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f",tabContent:{Component:function(e){var t=e.modal.item.uniqueId,a=(e.modal,Object(W.a)(e,["modal","modal"]));return r.a.createElement(Et,Object.assign({config:[{urlToDownload:"/api/nsiSlave/search/presentByNsiMaster?nsiMasterId=".concat(t),whereToStore:"rawInitialValues",postLoadDoSomethingThenPassResultAsProp:{func:function(e){return{nsiSlaves:Ne(e),nsiMasterId:t}},passResultAs:"initialValues"}}].concat(Object(N.a)(tt(yr))),PreloaderComponent:Ot,Component:bn,errorHandler:te},a))},passProps:{formObj:yr,variant:"table"},functionToExecuteThenPassResultAsProps:function(e){var t=e.modal,a=t.item.uniqueId;return{onSubmit:function(e,t){var n=e.nsiSlaves,r=t.setSubmitting;wl({method:"post",url:"/api/nsi/nsiSlaves",data:n.map(function(e){return Object(S.a)({},e,{nsiMaster:a})})},function(){Ge(),r(!1)},function(){return r(!1)})},readOnly:"edit"!==t.mode}}},tabButtons:[{Btn:ht,requiresFormSubmitRef:!0,conditionallyRender:function(e){return"edit"===e.modal.mode}}]}]},jr={create:kn({formObj:Object(S.a)({},Or,{method:"post",url:"/api/nsiMaster",primaryActionUrl:"/api/nsi/nsiMaster"}),mode:"create"}),view:kn({formObj:Or,mode:"view"}),edit:kn({formObj:Object(S.a)({},Or,{method:"patch",url:"/api/nsiMaster",primaryActionUrl:"/api/nsi/nsiMaster"}),mode:"edit"})},Er={navigationLabel:"\u041d\u0421\u0418",requiresFunction:[{functionName:"administration_nsi_modifier",allowedActions:["create","view","edit"]},{functionName:"member_nsi_modifier",allowedActions:["create","view","edit"]}],title:"\u0416\u0443\u0440\u043d\u0430\u043b \u041d\u0421\u0418",url:"/api/journalNsiMasters",icon:it.q,filtersPanel:{filters:[{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0430",name:"label",type:"text"},{label:"\u041c\u043d\u0435\u043c\u043e\u043d\u0438\u043a\u0430 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0430",name:"name",type:"text"},{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a",name:"memberId",type:"select",dictUrl:"/api/structureMember/search/present",rebuildReceivedOptions:function(e){return Ne(e).map(function(e){var t=e.uniqueId;return{label:e.fullName,value:t}})}}]},tableHeader:[{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0430",sortable:!0,dynamicWidth:!0,path:"label",width:"30%"},{label:"\u041c\u043d\u0435\u043c\u043e\u043d\u0438\u043a\u0430 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0430",sortable:!0,dynamicWidth:!0,path:"name",width:"20%"},{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a",sortable:!0,dynamicWidth:!0,path:"member",width:"30%"},{label:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",sortable:!0,dynamicWidth:!0,path:"createdTimestamp",width:"20%"}],forms:Object(S.a)({},jr)},xr={activeStep:0,stepsPassProps:[],isLoading:!0},wr=function(e){return{type:"increment",payload:e}};function kr(e,t){switch(t.type){case"increment":var a=e.stepsPassProps.slice(),n=e.activeStep+1;return a[e.activeStep]=Object(S.a)({},e.stepsPassProps[e.activeStep]),a[n]=Object(S.a)({},e.stepsPassProps[n],t.payload),Object(S.a)({},e,{activeStep:n,stepsPassProps:a});case"decrement":var r=e.stepsPassProps.slice(),i=e.activeStep-1;return r[i]=Object(S.a)({},e.stepsPassProps[i]),r[e.activeStep]={},Object(S.a)({},e,{activeStep:i,setStepPassProps:r});case"setStepPassProps":var l=t.payload,o=l.index,c=l.value,s=e.stepsPassProps.slice();return s[o]=Object(S.a)({},e.stepsPassProps[o],c),Object(S.a)({},e,{stepsPassProps:s,isLoading:!1});case"setIsLoading":return Object(S.a)({},e,{isLoading:t.payload});default:throw new Error("\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0442\u0430\u043a\u043e\u0433\u043e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430: ".concat(t.type))}}var Cr,Ir=Object(c.c)(function(e){return{button:{marginTop:e.spacing.unit,marginRight:e.spacing.unit},actionsContainer:{marginLeft:2*e.spacing.unit},resetContainer:{padding:3*e.spacing.unit}}}),Sr=Object(c.c)(function(e){return{xlsBtn:{color:e.palette.getContrastText("#2c5d2d"),backgroundColor:"#2c5d2d","&:hover":{backgroundColor:"#204020"}},pdfBtn:{color:e.palette.getContrastText("#820b09"),backgroundColor:"#820b09","&:hover":{backgroundColor:"#500b09"}},btn:{marginTop:e.spacing.unit,marginRight:e.spacing.unit},textCont:{marginLeft:2*e.spacing.unit}}}),Pr={report_1:{blocks:[{fields:[{name:"dateRecording",label:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u044f",type:"date-range"},{name:"memberId",label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a",type:"select",dictUrl:"/api/structureMember/search/present",rebuildReceivedOptions:_n,readOnly:function(e){return!e.some(function(e){return"administration_statistics"===e})},defaultValue:function(e){if(!e.some(function(e){return"administration_statistics"===e})){var t=Ve();return{label:t.memberFullName,value:t.memberId}}return null},widths:{md:8,lg:8,xl:8}}]}]},report_2:{blocks:[{fields:[{name:"period",label:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u044f",type:"date-range"},{name:"memberId",label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a",type:"select",dictUrl:"/api/structureMember/search/present",rebuildReceivedOptions:_n,widths:{md:8,lg:8,xl:8},readOnly:function(e){return!e.some(function(e){return"administration_statistics"===e})},defaultValue:function(e){if(!e.some(function(e){return"administration_statistics"===e})){var t=Ve();return{label:t.memberFullName,value:t.memberId}}return null}}]}]},report_3:{blocks:[{fields:[{name:"requestTime",label:"\u0414\u0430\u0442\u0430 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430",type:"date-range"},{name:"consumerId",label:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044c",type:"select",dictUrl:"/api/mvActionLogs/getConsumerList",rebuildReceivedOptions:function(e){return e},widths:{md:12,lg:12,xl:12}},{name:"wrappedProvider",label:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a",type:"select",dictUrl:"/api/mvActionLogs/getProviderList",rebuildReceivedOptions:function(e){return e},widths:{md:12,lg:12,xl:12}}]}]},report_4:{blocks:[{fields:[{name:"memberId",label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a",type:"select",dictUrl:"/api/structureMember/search/present",rebuildReceivedOptions:function(e){return at(e).map(function(e){var t=e.fullName;return{label:t,value:t}})},widths:{md:12,lg:12,xl:12}}]}]},report_5:{blocks:[{fields:[{name:"dateRequest",label:"\u0414\u0430\u0442\u0430 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430",type:"date-range"},{name:"wrappedProvider",label:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a",type:"select",dictUrl:"/api/mvActionLogs/getProviderList",rebuildReceivedOptions:function(e){return e},widths:{md:8,lg:8,xl:8}}]}]},report_6:{blocks:[{fields:[{name:"period",label:"\u041f\u0435\u0440\u0438\u043e\u0434",type:"date-range"},{name:"wrappedProvider",label:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a",type:"select",dictUrl:"/api/mvActionLogs/getProviderList",rebuildReceivedOptions:function(e){return e},widths:{md:8,lg:8,xl:8}}]}]}},Tr={blocks:[{fields:[{name:"report",label:"\u041e\u0442\u0447\u0435\u0442",type:"select",dictUrl:"/api/reports/allowedReports",rebuildReceivedOptions:function(e){return e.map(function(e){return{label:e.label,value:e.name}})},widths:{xs:12,sm:12,md:12,lg:12,xl:12}}]}],validationSchema:ct.object({report:ct.object().nullable().required()})},Rr=[{label:"\u0412\u044b\u0431\u043e\u0440 \u043e\u0442\u0447\u0451\u0442\u0430",Component:bn,config:et(Tr),additionalProps:{initialValues:wt(Tr),formObj:Tr,onSubmit:function(e){var t=e.dispatch;return function(e,a){var n=e.report.value;(0,a.setSubmitting)(!1);var r=Pr[n];if("undefined"===typeof r)throw new Error("\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432 \u0434\u043b\u044f \u043e\u0442\u0447\u0451\u0442\u0430 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c: ".concat(n));t(wr({formObj:r,initialValues:wt(r),config:et(r),reportName:n}))}}},requiresFormSubmitRef:!0},{label:"\u0412\u044b\u0431\u043e\u0440 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438",Component:bn,additionalProps:{onSubmit:function(e){var t=e.dispatch,a=e.passProps,n=a.reportName,r=a.formObj;return function(e,a){var i=a.setSubmitting,l=Object(S.a)({},e);r.blocks.forEach(function(t){return t.fields.forEach(function(t){var a=t.name;if("date-range"===t.type){var n=e[a];if(n&&n[0]&&n[1]){var r=n.map(function(e){return Object(ba.g)(e,"DD.MM.YYYY HH:mm:ss")});l[a]=r,l.startDate=r[0],l.endDate=r[1]}}if("wrappedProvider"===a&&e[a]){var i=e[a].value,o=i.uniqueId,c=i.type;l[a]=void 0,l.providerId=o,l.providerType=c}"consumerId"===a&&e[a]&&(l[a]=e[a].value)})}),i(!1),t(wr({reportName:n,filters:Object(S.a)({},l)}))}}},requiresFormSubmitRef:!0},{label:"\u0412\u044b\u0431\u043e\u0440 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 \u043e\u0442\u0447\u0435\u0442\u0430",Component:function(){var e=Sr();return r.a.createElement(pt.L,{variant:"body1",className:e.textCont},"\u0414\u043b\u044f \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0442\u0447\u0451\u0442\u0430 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u043a\u043d\u043e\u043f\u043a\u0443")},stepButtons:function(e){var t=e.reportName,a=e.filters,n=(Object(W.a)(e,["reportName","filters"]),Sr()),i=Dr[t];if("undefined"===typeof i)throw new Error("\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e Url \u0434\u043b\u044f \u043e\u0442\u0447\u0451\u0442\u0430 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c: ".concat(t));return r.a.createElement(r.a.Fragment,null,r.a.createElement(pt.b,{className:Pt()(n.xlsBtn,n.btn),variant:"contained",onClick:function(){"function"===typeof i&&a&&ia(dl(a,i("xlsx")),"".concat(t,".xlsx"))}},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0432 Xls"),r.a.createElement(pt.b,{className:Pt()(n.pdfBtn,n.btn),variant:"contained",onClick:function(){"function"===typeof i&&a&&ia(dl(a,i("pdf")),"".concat(t,".pdf"))}},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0432 Pdf"))}}],Dr={report_1:function(e){return"/api/reports/download/report1/".concat(e)},report_2:function(e){return"/api/reports/download/report2/".concat(e)},report_3:function(e){return"/api/reports/download/report3/".concat(e)},report_4:function(e){return"/api/reports/download/report4/".concat(e)},report_5:function(e){return"/api/reports/download/report5/".concat(e)},report_6:function(e){return"/api/reports/download/report6/".concat(e)}},Mr={navigationLabel:"\u041e\u0442\u0447\u0451\u0442\u044b",icon:it.z,requiresFunction:[{functionName:"member_administration_statistics",allowedActions:["view"]},{functionName:"administration_statistics",allowedActions:["view"]}],custom:!0,Component:function(e){var t=e.stepsConfig,a=Object(n.useReducer)(kr,function(e){return Object(S.a)({},xr,{stepsPassProps:e.map(function(){return{}})})}(t)),i=Object(yt.a)(a,2),l=i[0],o=i[1],c=l.activeStep,s=l.stepsPassProps,u=l.isLoading;Object(n.useEffect)(function(){var e=T.a.CancelToken.source();return(t[c]&&t[c].config||s[c]&&s[c].config)&&(u||o({type:"setIsLoading"}),function(e,t){return T.a.all(e.map(function(e){return T.a.get(e.urlToDownload,{cancelToken:t.token})})).then(function(t){var a={};return e.forEach(function(e,n){var r=e.whereToStore,i=e.rebuildReceivedValue,l=e.postLoadDoSomethingThenPassResultAsProp,o=t[n].data;if(Object(I.set)(a,r,i?i(o):o),l){var c=l.func,s=l.passResultAs;Object(I.set)(a,s,c(o))}}),a}).catch(function(e){T.a.isCancel(e)||te(e)})}(t[c].config||s[c].config,e).then(function(e){var t,a;o((t=c,a=Object(S.a)({},e),{type:"setStepPassProps",payload:{index:t,value:Object(S.a)({},a)}}))})),function(){e.cancel("Cancelling in cleanup")}},[c,u,t,s]);var d=Ir(),m=null,p=Object(n.useState)(!1),b=Object(yt.a)(p,2),f=b[0],h=b[1];return r.a.createElement(pt.z,null,r.a.createElement(pt.F,{activeStep:c,orientation:"vertical"},t.map(function(e,a){var n=e.label,i=e.Component,l=e.additionalProps,p=e.requiresFormSubmitRef,b=e.stepButtons,v=l||{},g=v.onSubmit,y=Object(W.a)(v,["onSubmit"]),O=s[a],j=g?g({passProps:O,dispatch:o}):function(){};return r.a.createElement(pt.C,{active:c>=a,key:n},r.a.createElement(pt.E,null,n),r.a.createElement(pt.D,{active:c>=a},u?Ot({}):r.a.createElement(r.a.Fragment,null,r.a.createElement(i,Object.assign({onSubmit:j},y,{bindFormSubmit:function(e){m=e},enableReinitialize:!0},O,{readOnly:c!==a})),f&&c===a&&r.a.createElement(pt.v,null),c===a&&r.a.createElement("div",{className:d.actionsContainer},r.a.createElement(pt.b,{disabled:0===c,onClick:function(){return function(e){return e({type:"decrement"})}(o)},className:d.button,variant:"contained"},"\u041d\u0430\u0437\u0430\u0434"),c!==t.length-1&&r.a.createElement(pt.b,{variant:"contained",color:"primary",onClick:function(){!0===p?"function"===typeof m&&m():o(wr())},className:d.button},"\u0414\u0430\u043b\u0435\u0435"),b&&r.a.createElement(b,Object.assign({},O,{isDisabled:f,setIsDisabled:h}))))))})))},passProps:{stepsConfig:Rr}},_r={view:kn({formObj:{title:"\u041e\u0431\u044a\u0435\u043a\u0442\u0430 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430",url:"/api/mvLog",method:"post",headerText:"uuidReq",projection:"formMvLog",blocks:[{blockTitle:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fields:[{label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0417\u0430\u043f\u0440\u043e\u0441\u0430",name:"uuidReq",type:"text",widths:{xs:6,sm:6,md:6,lg:6,xl:6}},{label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u041e\u0442\u0432\u0435\u0442\u0430",name:"uuidOut",type:"text",widths:{xs:6,sm:6,md:6,lg:6,xl:6}},{label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0417\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u044f",name:"serviceUuid",type:"text",widths:{xs:6,sm:6,md:6,lg:6,xl:6}},{type:"spaceFiller",widths:{xs:6,sm:6,md:6,lg:6,xl:6}},{label:"\u0414\u0430\u0442\u0430 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0417\u0430\u043f\u0440\u043e\u0441\u0430",name:"createdTimestamp",type:"text"},{type:"spaceFiller",widths:{xs:4,sm:4,md:4,lg:4,xl:4}},{label:"\u0414\u0430\u0442\u0430 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u041e\u0442\u0432\u0435\u0442\u0430",name:"outTimestamp",type:"text"},{label:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044c",name:"consumer",type:"text",additionalProps:{multiline:!0,fullWidth:!0,rowsMax:6}},{label:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a",name:"provider",type:"text",additionalProps:{multiline:!0,fullWidth:!0,rowsMax:6}},{label:"\u0412\u0438\u0434 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f",name:"mvObject",type:"text",additionalProps:{multiline:!0,fullWidth:!0,rowsMax:6},widths:{xs:12,sm:12,md:12,lg:12,xl:12}},{label:"\u0421\u0442\u0430\u0442\u0443\u0441",name:"status",type:"text"},{label:"\u041a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438",name:"errorCode",type:"text"},{label:"\u0422\u0435\u043a\u0441\u0442 \u043e\u0448\u0438\u0431\u043a\u0438",name:"errorText",type:"text",additionalProps:{multiline:!0,fullWidth:!0,rowsMax:6}},{label:"\u0424\u0430\u0439\u043b \u043c\u0435\u0436\u0432\u0435\u0434\u043e\u043c\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430",name:"xmlIn",type:"file",doBeforeSetFieldValue:function(e){return T.a.post("/api/file/save",e,{"Content-Type":"multipart/form-data"})},widths:{xs:6,sm:6,md:6,lg:6,xl:6}},{label:"\u0424\u0430\u0439\u043b \u043c\u0435\u0436\u0432\u0435\u0434\u043e\u043c\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430",name:"xmlOut",type:"file",doBeforeSetFieldValue:function(e){return T.a.post("/api/file/save",e,{"Content-Type":"multipart/form-data"})},widths:{xs:6,sm:6,md:6,lg:6,xl:6}}]}],additionalTabs:[{tabTitle:"\u0417\u0430\u043f\u0440\u043e\u0441",tabContent:{Component:function(e){var t=e.modal.item.uuid;return r.a.createElement(Et,{Component:bn,readOnly:!0,config:[{urlToDownload:"/api/claim/jsonMvClaimIn?uuid=".concat(t,"&mode=view"),whereToStore:"formObj"}],variant:"xmlToForm",PreloaderComponent:Ot,errorHandler:Ke})}}},{tabTitle:"\u041e\u0442\u0432\u0435\u0442",tabContent:{Component:function(e){var t=e.modal.item.uuid;return r.a.createElement(Et,{Component:bn,readOnly:!0,config:[{urlToDownload:"/api/claim/jsonMvClaimOut?uuid=".concat(t),whereToStore:"formObj"}],variant:"xmlToForm",PreloaderComponent:Ot,errorHandler:Ke})}},conditionallyDisable:function(e){return!e.firstFormInitialValues.uuidOut}}]},mode:"view"})},Ar={navigationLabel:"\u0416\u0443\u0440\u043d\u0430\u043b \u041c\u0412",requiresFunction:[{functionName:"administration_mv_log_view",allowedActions:["view"]},{functionName:"member_mv_log_view",allowedActions:["view"]}],doBeforeSend:{select:function(e){return e.value}},url:"/api/journalMvActionLogs",icon:it.z,filtersPanel:{filters:[{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0438\u0434\u0430 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439",name:"mvName",type:"text"},{label:"\u0421\u0442\u0430\u0442\u0443\u0441",name:"status",type:"select",dictUrl:"/api/mvActionStatuses/search/present",rebuildReceivedOptions:function(e){return Ne(e).map(function(e){var t=e.label;return{label:t,value:t}})}},{label:"\u0414\u0430\u0442\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",name:"reqTimestamp",type:"date-range"},{label:"\u0414\u0430\u0442\u0430 \u043e\u0442\u0432\u0435\u0442\u0430",name:"outTimestamp",type:"date-range"},{label:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a",name:"provider",type:"select",dictUrl:"/api/mvActionLogs/getProviderList",rebuildReceivedOptions:function(e){return e.map(function(e){var t=e.label;return{label:t,value:t}})}},{label:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044c",name:"consumer",type:"select",dictUrl:"/api/mvActionLogs/getConsumerList",rebuildReceivedOptions:function(e){return e.map(function(e){var t=e.label;return{label:t,value:t}})}},{label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u044f",name:"serviceUuid",type:"text"},{label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",name:"uuidIn",type:"text"},{label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043e\u0442\u0432\u0435\u0442\u0430",name:"uuidOut",type:"text"},{label:"\u041a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438",name:"errorCode",type:"text"},{label:"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438",name:"errorText",type:"text"}]},tableHeader:[{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0438\u0434\u0430 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439",sortable:!0,dynamicWidth:!0,path:"mvName",width:"30%"},{label:"\u0414\u0430\u0442\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",sortable:!0,dynamicWidth:!0,path:"reqTimestamp",width:"15%"},{label:"\u0414\u0430\u0442\u0430 \u043e\u0442\u0432\u0435\u0442\u0430",sortable:!0,dynamicWidth:!0,path:"outTimestamp",width:"15%"},{label:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a",sortable:!0,dynamicWidth:!0,path:"provider",width:"30%"},{label:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044c",sortable:!0,dynamicWidth:!0,path:"consumer",width:"30%"},{label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u044f",sortable:!0,dynamicWidth:!0,path:"serviceUuid"},{label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",sortable:!0,dynamicWidth:!0,path:"uuidIn"},{label:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043e\u0442\u0432\u0435\u0442\u0430",sortable:!0,dynamicWidth:!0,path:"uuidOut"},{label:"\u041a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438",sortable:!0,dynamicWidth:!0,path:"errorCode",width:"15%"},{label:"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438",sortable:!0,dynamicWidth:!0,path:"errorText"}],forms:Object(S.a)({},_r)},Fr=a(133),qr=function(e){var t=e.date,a=e.onChange,n=Object(W.a)(e,["date","onChange"]);return r.a.createElement(pa.Calendar,Object.assign({onChange:a,date:t,locale:Rt.a},n))},Nr=Object(c.c)(function(e){return{tableCell:{flex:1,flexDirection:"column"},TableCellRoot:{borderBottom:"none"},flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"}}}),Br=function(e){var t=e.text,a=e.style,n=Nr();return r.a.createElement(pt.H,{component:"div",variant:"body",classes:{root:n.TableCellRoot},className:Pt()(n.tableCell,n.flexContainer),style:a},r.a.createElement(pt.L,null,t),r.a.createElement(pt.u,null,r.a.createElement(it.l,null)))},Lr=Object(c.c)(function(e){return{tableCell:{flex:1,flexDirection:"column"},TableCellRoot:{borderBottom:"none"},flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"}}}),Vr=function(e){var t=e.cellData,a=e.style,n=Lr();return r.a.createElement(pt.H,{component:"div",variant:"body",classes:{root:n.TableCellRoot},className:Pt()(n.tableCell,n.flexContainer),style:a},t&&r.a.createElement(pt.L,null,t.label),r.a.createElement(pt.u,null,r.a.createElement(it.p,null)))},Ur=Object(c.c)(function(e){return{tableCell:{flex:1,flexDirection:"column"},TableCellRoot:{borderBottom:"none"},flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"},noClick:{cursor:"initial"}}}),Hr=function(e){var t=e.label,a=Ur();return r.a.createElement(pt.H,{component:"div",className:Pt()(a.tableCell,a.flexContainer,a.noClick),variant:"head",classes:{root:a.TableCellRoot}},t)};!function(e){e.ministration="ministration",e.slot="slot",e.workItem="workItem"}(Cr||(Cr={}));var Wr=a(233),zr=a.n(Wr),Yr="ADD_EVENT",Gr="REMOVE_EVENT",Kr="CHANGE_DUTIES",Jr="CHANGE_FROM",Xr="CHANGE_TO",$r="CHANGE_TYPE",Zr="CHANGE_PERFORMERS",Qr="INIT",ei=function(e,t){return{type:Gr,payload:{rowIndex:e,eventIndex:t}}},ti=function(e,t){var a=e.from,n=t.from;return a>n?1:a<n?-1:0};function ai(e,t){var a=t.type,n=t.payload;switch(a){case Yr:var r=n.rowIndex,i=n.event,l=Object(N.a)(e.collection);return l[r]=Object(S.a)({},l[r],{events:[].concat(Object(N.a)(l[r].events),[i]).sort(ti)}),Object(S.a)({},e,{collection:l});case Kr:var o=Object(N.a)(e.collection),c=n.rowIndex,s=n.duties;return o[c].duties=s,Object(S.a)({},e,{collection:o});case Jr:var u=Object(N.a)(e.collection),d=n.rowIndex,m=n.eventIndex,p=n.from,b=Object(S.a)({},u[d]),f=Object(N.a)(u[d].events);return f[m]=Object(S.a)({},f[m],{from:p}),b.events=/^\d{2}:\d{2}$/.test(p)?f.sort(ti):f,u[d]=b,Object(S.a)({},e,{collection:u});case Xr:var h=Object(N.a)(e.collection),v=n.rowIndex,g=n.eventIndex,y=n.to,O=Object(S.a)({},h[v]),j=Object(N.a)(h[v].events);return j[g]=Object(S.a)({},j[g],{to:y}),O.events=j,h[v]=O,Object(S.a)({},e,{collection:h});case Gr:var E=Object(N.a)(e.collection),x=n.rowIndex,w=n.eventIndex,k=E[x];return k.events=k.events.filter(function(e,t){return t!==w}),Object(S.a)({},e,{collection:E});case $r:var C=Object(N.a)(e.collection),I=n.rowIndex,P=n.eventIndex,T=n.type,R=C[I];return R.events[P]=Object(S.a)({},R.events[P],{type:T}),Object(S.a)({},e,{collection:C});case Zr:var D=Object(N.a)(e.collection),M=n.rowIndex,_=n.eventIndex,A=n.performers,F=D[M];return F.events[_]=Object(S.a)({},F.events[_],{performers:A}),Object(S.a)({},e,{collection:D});case Qr:return Object(S.a)({},e,{collection:n});default:return e}}var ni=Object(c.c)(function(e){return{tableCell:{flex:1,flexDirection:"column"},TableCellRoot:{borderBottom:"none"},flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"},redHighLight:{backgroundColor:"#890706"},greenHighLight:{backgroundColor:"#277b1f"},blueHighLight:{backgroundColor:"#74bcff"},cont:{display:"flex",flexWrap:"nowrap"},sign:{padding:e.spacing.unit}}}),ri=function(e){var t=e.cellData,a=e.rowIndex,i=ni(),l=Object(n.useContext)(Ci).dispatch;return r.a.createElement(pt.H,{component:"div",variant:"body",classes:{root:i.TableCellRoot},className:Pt()(i.tableCell,i.flexContainer)},t.map(function(e,t){var n=e.from,o=e.to,c=(e.type,e.typeEnum),s=e.isFree,u=e.uniqueId;return r.a.createElement("div",{key:u,className:Pt()(i.cont,Object(m.a)({},i.redHighLight,c&&Cr.slot===c&&!s),Object(m.a)({},i.greenHighLight,c&&Cr.slot===c&&!!s),Object(m.a)({},i.blueHighLight,c&&Cr.workItem===c))},r.a.createElement(ta,{value:n,mask:In,keepCharPositions:!0,onChange:function(e){e.currentTarget&&e.currentTarget.value&&l(function(e,t,a){return{type:Jr,payload:{rowIndex:e,eventIndex:t,from:a}}}(a,t,e.currentTarget.value))}}),r.a.createElement(pt.L,{className:i.sign},"-"),r.a.createElement(ta,{value:o,mask:In,keepCharPositions:!0,onChange:function(e){e.currentTarget&&e.currentTarget.value&&l(function(e,t,a){return{type:Xr,payload:{rowIndex:e,eventIndex:t,to:a}}}(a,t,e.currentTarget.value))}}))}))},ii=Object(c.c)(function(e){return{tableCell:{flex:1,flexDirection:"column"},TableCellRoot:{borderBottom:"none"},flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"}}}),li=function(e){var t=e.cellData,a=e.rowIndex,i=ii(),l=Object(n.useContext)(Ci),o=l.optionsMap.type,c=o.loaded,s=o.options,u=l.dispatch,d=Object(n.useRef)(null);return r.a.createElement(pt.H,{classes:{root:i.TableCellRoot},variant:"body",component:"div"},r.a.createElement("input",{ref:d,type:"text",style:{display:"none"}}),t.map(function(e,t){var n=e.type,i=e.uniqueId;return r.a.createElement("div",{style:{width:"250px"},key:i},r.a.createElement(Jt,{options:s,placeholder:"",value:n,label:"",handleChange:function(e){return u(function(e,t,a){return{type:$r,payload:{rowIndex:e,eventIndex:t,type:a}}}(a,t,e))},isDisabled:!c,menuPortalTarget:d.current}))}))},oi=Object(c.c)({tableCell:{flex:1,flexDirection:"column"},TableCellRoot:{borderBottom:"none"},flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"}}),ci=function(e){var t=e.cellData,a=e.rowIndex,i=oi(),l=Object(n.useContext)(Ci),o=l.optionsMap.performers,c=o.loaded,s=o.options,u=l.dispatch;return r.a.createElement(pt.H,{classes:{root:i.TableCellRoot},component:"div",variant:"body"},t.map(function(e,t){var n=e.performers,i=e.uniqueId;return r.a.createElement("div",{style:{width:"250px"},key:i||zr()()},r.a.createElement(Jt,{options:s,isMulti:!0,placeholder:"",value:n,label:"",handleChange:function(e){return u(function(e,t,a){return{type:Zr,payload:{rowIndex:e,eventIndex:t,performers:a}}}(a,t,e))},isDisabled:!c}))}))},si=Object(c.c)(function(e){return{tableCell:{flex:1,flexDirection:"column"},TableCellRoot:{borderBottom:"none"},flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"}}}),ui=function(e){var t=e.rowIndex,a=e.cellData,i=si(),l=Object(n.useContext)(Ci),o=l.optionsMap.duties,c=o.options,s=void 0===c?[]:c,u=o.loaded,d=void 0!==u&&u,m=l.dispatch;return r.a.createElement(pt.H,{component:"div",variant:"body",classes:{root:i.TableCellRoot},className:Pt()(i.tableCell,i.flexContainer)},r.a.createElement("div",{style:{width:"250px"}},r.a.createElement(Jt,{options:s,placeholder:"",value:a,label:"",handleChange:function(e){return m(function(e,t){return{type:Kr,payload:{rowIndex:e,duties:t}}}(t,e))},isDisabled:!d})))},di=a(540),mi=Object(di.createStandardAction)(Oe).map(function(e){return{payload:{message:e,isSnackBarOpened:!0}}}),pi=function(e){return{fullName:e.label,id:e.value}},bi=Object(o.b)(void 0,function(e){return{openSnackBarWithMessage:function(t){return e(mi(t))}}})(function(e){var t=e.cellData,a=e.rowIndex,i=e.rowData,l=e.openSnackBarWithMessage,o=Object(n.useContext)(Ci).dispatch,c=function(){o(function(e){return{type:Yr,payload:{rowIndex:e,event:{uniqueId:Object(Wr.v4)(),from:"",to:"",type:null,performers:[],canEdit:!0,typeEnum:Cr.ministration}}}}(a))};return 0===t.length?r.a.createElement("div",null,r.a.createElement(pt.u,{onClick:c},r.a.createElement(it.b,null))):t.map(function(e,t){var n=e.canEdit,s=e.from,u=e.to,d=e.uniqueId,m=e.type,p=e.typeEnum,b=e.performers;return n?r.a.createElement("div",{key:d},r.a.createElement(pt.u,{onClick:function(){if(p===Cr.ministration){var e="".concat(i.day," ").concat(s.length>5?s:"".concat(s,":00")),t="".concat(i.day," ").concat(u.length>5?u:"".concat(u,":00")),a={objectTypeCode:m.value,performers:b.map(pi),dateTimestamp:e,dateEndTimestamp:t};("string"===typeof d?T.a.post("/api/ministration",a):T.a.patch("/api/ministration/".concat(d),a)).then(function(e){var t=e.data;t&&l(t)}).catch(function(e){return te(e)})}},disabled:!n||e.typeEnum!==Cr.ministration},r.a.createElement(it.j,null)),r.a.createElement(pt.u,{onClick:c},r.a.createElement(it.b,null)),r.a.createElement(pt.u,{onClick:function(){if("string"===typeof d)o(ei(a,t));else switch(p){case Cr.ministration:T.a.delete("/api/ministration/".concat(d)).then(function(e){var n=e.data;o(ei(a,t)),n&&l(n)}).catch(function(e){return te(e)});break;case Cr.slot:T.a.delete("/api/slots/".concat(d)).then(function(e){var n=e.data;o(ei(a,t)),n&&l(n)}).catch(function(e){return te(e)});break;case Cr.workItem:T.a.delete("/api/workitem/delete/".concat(d)).then(function(e){var n=e.data;o(ei(a,t)),n&&l(n)}).catch(function(e){return te(e)})}}},r.a.createElement(it.w,null))):null})}),fi=(a(523),Object(c.c)(function(e){return{mainContainer:{height:"100%"},headerColumn:{fontWeight:e.typography.fontWeightRegular,fontSize:e.typography.fontSize.toFixed(15)},table:{fontFamily:e.typography.fontFamily},flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"},tableRow:{borderBottom:"1px solid rgba(224, 224, 224, 1)"},tableRowHover:{"&:hover":{backgroundColor:e.palette.grey[200]}},tableCell:{flex:1,flexDirection:"column"},TableCellRoot:{borderBottom:"none"},noClick:{cursor:"initial"}}})),hi=function(){return r.a.createElement(pt.L,{variant:"h6",style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e")},vi=new st.b({defaultWidth:100,defaultHeight:80,minHeight:70,minWidth:75,fixedHeight:!1,fixedWidth:!0}),gi=function(e){var t=e.cellData;return r.a.createElement(Br,{text:t})},yi=function(e){return r.a.createElement(Hr,e)},Oi=function(e){var t=e.cellData;return r.a.createElement(Vr,{cellData:t})},ji=function(e){return r.a.createElement(ri,e)},Ei=function(e){var t=e.cellData,a=e.dataKey,n=e.parent,i=e.rowIndex,l=e.columnIndex,o=Object(W.a)(e,["cellData","dataKey","parent","rowIndex","columnIndex"]);return r.a.createElement(li,Object.assign({cellData:t,dataKey:a,parent:n,rowIndex:i,columnIndex:l},o))},xi=function(e){return r.a.createElement(ui,e)},wi=function(e){var t=e.cellData,a=e.dataKey,n=e.parent,i=e.rowIndex,l=e.columnIndex,o=Object(W.a)(e,["cellData","dataKey","parent","rowIndex","columnIndex"]);return r.a.createElement(bi,Object.assign({cellData:t,dataKey:a,parent:n,rowIndex:i,columnIndex:l},o))},ki=function(e){var t=e.cellData,a=e.columnIndex,n=e.dataKey,i=e.parent,l=e.rowIndex,o=Object(W.a)(e,["cellData","columnIndex","dataKey","parent","rowIndex"]);return r.a.createElement(ci,Object.assign({cellData:t,columnIndex:a,dataKey:n,parent:i,rowIndex:l},o))},Ci=Object(n.createContext)({optionsMap:{duties:{loaded:!1,options:[]},performers:{loaded:!1,options:[]},types:{loaded:!1,options:[]}},dispatch:function(){}}),Ii=function(e){var t=e.collection,a=e.dispatch,n=e.omitDutiesColumn,i=void 0!==n&&n,l=e.optionsMap,o=fi(),c=Pt()(o.tableRow,o.flexContainer),s=[],u=0,d=0,m=function(e){var a=e.index;return t[a]};return r.a.createElement(Ci.Provider,{value:{optionsMap:l,dispatch:a}},r.a.createElement(pt.z,{square:!0,className:o.mainContainer,elevation:1},r.a.createElement(st.a,null,function(e){var a=e.width,n=e.height;return u===a&&d===n&&Object(I.isEqual)(t,s)||(u=a,d=n,s=t,vi.clearAll()),r.a.createElement(st.d,{className:o.table,headerClassName:o.headerColumn,headerHeight:50,height:n,noRowsRenderer:hi,overscanRowCount:10,rowClassName:c,rowHeight:80,rowGetter:m,rowCount:t.length,width:a},r.a.createElement(st.c,{dataKey:"day",label:"\u0414\u0435\u043d\u044c",width:100,cellRenderer:gi,headerRenderer:yi}),r.a.createElement(st.c,{width:200,label:"\u041c\u0435\u0441\u044f\u0446\u0441\u043b\u043e\u0432",dataKey:"mothWord",cellRenderer:Oi,headerRenderer:yi}),!i&&r.a.createElement(st.c,{width:200,label:"\u0414\u0435\u0436\u0443\u0440\u0441\u0442\u0432\u043e",dataKey:"duties",cellRenderer:xi,headerRenderer:yi}),r.a.createElement(st.c,{dataKey:"events",label:"\u0412\u0440\u0435\u043c\u044f",width:170,cellRenderer:ji,headerRenderer:yi}),r.a.createElement(st.c,{dataKey:"events",label:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435",width:200,cellRenderer:Ei,flexGrow:1,headerRenderer:yi}),r.a.createElement(st.c,{dataKey:"events",label:"\u0414\u0443\u0445\u043e\u0432\u0435\u0441\u0442\u0432\u043e",width:250,cellRenderer:ki,flexGrow:1,headerRenderer:yi}),r.a.createElement(st.c,{dataKey:"events",width:150,cellRenderer:wi}))})))},Si=function(e){return Object(ba.g)(e,"DD.MM.YYYY",{locale:Fr.ru})},Pi=Object(c.c)(function(e){return{header:{padding:e.spacing.unit},mainContainer:{padding:e.spacing.unit,marginBottom:e.spacing.unit,height:" 100%",width:"100%",overflowY:"auto",display:"flex",flexWrap:"nowrap",flexDirection:"column"},actionPanel:{marginBottom:e.spacing.unit},actionBtn:{}}}),Ti=r.a.createElement(it.k,null);var Ri,Di=function(e){return{label:e.surnameInitials,value:e.uniqueId}},Mi=function(e){return{label:e.label,value:e.uniqueId}},_i={requiresFunction:[{functionName:"administrator_hram_schedule_modifier",allowedActions:["create","view","edit"]},{functionName:"priest_hram_schedule_view",allowedActions:["view"]},{functionName:"assistant_hram_schedule_view",allowedActions:["view"]}],passProps:{confObj:{title:"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0431\u043e\u0433\u043e\u0441\u043b\u0443\u0436\u0435\u043d\u0438\u0439 \u0438 \u0434\u0435\u0436\u0443\u0440\u0441\u0442\u0432 \u0432 \u0445\u0440\u0430\u043c\u0435:",filters:[{name:"priest",label:"\u0421\u0432\u044f\u0449\u0435\u043d\u043d\u043e\u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u044c",type:"select",dictUrl:"/api/sysUsers/search/"}]}},Component:Object(o.b)(void 0,function(e){return{openSnackBar:function(t){var a,n=(a={title:"\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0431\u043e\u0433\u043e\u0441\u043b\u0443\u0436\u0435\u043d\u0438\u0439",formObj:{blocks:[{blockTitle:"asd",fields:[]}]},primaryButtonText:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c",primaryButtonHandler:function(e,t){t.setSubmitting}},{type:be,payload:Object(S.a)({open:!0},a)});return e(n)},openCreationMaster:function(){return e(xl())}}})(function(e){var t=e.confObj.title,a=e.openSnackBar,i=e.openCreationMaster,l=Pi(),o=Object(n.useState)(new Date),c=Object(yt.a)(o,2),s=c[0],u=c[1],d=Object(n.useState)(!1),m=Object(yt.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)(null),h=Object(yt.a)(f,2),v=h[0],g=h[1],y=Object(n.useState)(null),O=Object(yt.a)(y,2),j=O[0],x=O[1],k=Object(n.useState)("week"),C=Object(yt.a)(k,2),I=C[0],S=C[1],P=Object(n.useState)([]),R=Object(yt.a)(P,2),D=R[0],M=R[1],_=Object(n.useState)([]),A=Object(yt.a)(_,2),F=A[0],q=A[1],N=Object(n.useReducer)(ai,{collection:[]}),B=Object(yt.a)(N,2),L=B[0].collection,V=B[1];return Object(n.useEffect)(function(){var e=T.a.CancelToken.source();return T.a.all([T.a.get("/api/ministration/type",{cancelToken:e.token}),T.a.get("/api/ministration/priest",{cancelToken:e.token})]).then(T.a.spread(function(e,t){M(e.data.map(Mi)),q(t.data.map(Di))})).catch(function(e){T.a.isCancel(e)||te(e)}),function(){e.cancel("Cancelling in cleanup")}},[]),Object(n.useEffect)(function(){var e=T.a.CancelToken.source(),t="/api/events/log".concat(function(e,t){return"week"===e?"?from=".concat(Si(Object(ba.l)(t,{locale:Fr.ru})),"&to=").concat(Si(Object(ba.f)(t,{locale:Fr.ru}))):"?from=".concat(Si(Object(ba.k)(t)),"&to=").concat(Si(Object(ba.e)(t)))}(I,s));return T.a.get(t,{cancelToken:e.token}).then(function(e){var t=e.data;0===t.length&&i(),V({type:Qr,payload:t})}).catch(function(e){T.a.isCancel(e)||te(e)}),function(){e.cancel("Cancelling in cleanup")}},[s,i,I]),r.a.createElement(E.a,{square:!0,className:l.mainContainer,elevation:5},r.a.createElement(w.a,{variant:"h6",className:l.header},t.toUpperCase()),r.a.createElement(n.Suspense,{fallback:Ot},r.a.createElement(pt.m,{className:l.actionPanel},r.a.createElement(pt.o,{expandIcon:Ti},"\u041f\u0430\u043d\u0435\u043b\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439"),r.a.createElement(pt.n,null,r.a.createElement(pt.t,{container:!0,wrap:"nowrap"},r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.t,{container:!0,direction:"column",spacing:24},r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.t,{container:!0,spacing:24},r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.b,{variant:"outlined",className:l.actionBtn,onClick:function(){return a("joj")}},r.a.createElement(it.c,null),"\u0411\u043e\u0433\u043e\u0441\u043b\u0443\u0436\u0435\u043d\u0438\u0435")),r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.b,{variant:"outlined",className:l.actionBtn},r.a.createElement(it.c,null),"\u0411\u0435\u0441\u0435\u0434\u0430")),r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.b,{variant:"outlined",className:l.actionBtn},r.a.createElement(it.c,null),"\u0414\u0435\u043b\u043e")),r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.b,{variant:"outlined",className:l.actionBtn},r.a.createElement(it.l,null),"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.b,{variant:"outlined",className:l.actionBtn},r.a.createElement(it.v,null),"\u041f\u0435\u0447\u0430\u0442\u044c")),r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.b,{variant:"outlined",className:l.actionBtn,color:"week"===I?"primary":void 0,onClick:function(){S("week")}},r.a.createElement(it.f,null),"\u041d\u0435\u0434\u0435\u043b\u044f")),r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.b,{variant:"outlined",className:l.actionBtn,color:"month"===I?"primary":void 0,onClick:function(){S("month")}},r.a.createElement(it.e,null),"\u041c\u0435\u0441\u044f\u0446")))),r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.t,{container:!0,spacing:24},r.a.createElement(pt.t,{item:!0,xl:4,lg:5},r.a.createElement(pt.t,{container:!0,spacing:8,wrap:"nowrap"},r.a.createElement(pt.t,{item:!0,xl:11,lg:11},r.a.createElement(Jt,{value:v,options:D,label:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435",handleChange:g})),r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.u,null,r.a.createElement(it.x,null))))),r.a.createElement(pt.t,{item:!0,xl:4,lg:5},r.a.createElement(pt.t,{container:!0,spacing:8,wrap:"nowrap"},r.a.createElement(pt.t,{item:!0,xl:11,lg:11},r.a.createElement(Jt,{value:j,options:F,label:"\u0421\u0432\u044f\u0449\u0435\u043d\u043d\u043e\u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u044c",handleChange:x})),r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.u,null,r.a.createElement(it.x,null))))),r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.r,{label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f",onChange:function(e,t){return b(t)},control:r.a.createElement(pt.c,{indeterminate:null===p,color:"primary"})})))))),r.a.createElement(pt.t,{item:!0},r.a.createElement(qr,{date:s,onChange:u})))))),r.a.createElement(Ii,{collection:L,dispatch:V,optionsMap:{duties:{options:F,loaded:!0},performers:{options:F,loaded:!0},type:{options:D,loaded:!0}}}))}),forms:{create:{title:"123",blocks:[{blockTitle:"123",fields:[]}]}}},Ai={blocks:[{blockTitle:"",fields:[{label:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f",name:"photo",type:"file"},Object(S.a)({label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0445\u0440\u0430\u043c\u0430",name:"description"},qn),{label:"\u0412\u0435\u0431-\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",name:"webUrl",type:"text"},Object(S.a)({label:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",name:"contacts"},qn),Object(S.a)({label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",name:"history"},qn),Object(S.a)({label:"\u0421\u0432\u044f\u0442\u044b\u043d\u0438",name:"religion"},qn),Object(S.a)({label:"\u0412\u0440\u0435\u043c\u044f \u043d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0442\u044b \u0425\u0440\u0430\u043c\u0430",name:"startWorkTime"},Bn),Object(S.a)({label:"\u0412\u0440\u0435\u043c\u044f \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0425\u0440\u0430\u043c\u0430",name:"finishWorkTime"},Bn),{label:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u0432\u044f\u0449\u0435\u043d\u043d\u043e\u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u0435\u0439 \u043f\u0440\u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u043d\u0430 \u0431\u0435\u0441\u0435\u0434\u0443",name:"visiblePriests",type:"checkbox"}]},{blockTitle:"\u0411\u043b\u043e\u043a \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438",fields:[Object(S.a)({label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"description"},qn)]}],validationSchema:ct.object({photo:ct.object().nullable(),description:ct.string().required(),webUrl:ct.string(),contacts:ct.string(),history:ct.string(),religion:ct.string(),startWorkTime:ct.string().required(),finishWorkTime:ct.string().required(),visiblePriests:ct.bool()}).nullable()},Fi={title:"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b",headerText:"label",url:"/api/strMember",primaryActionUrl:"/api/member/structureMembers",projection:"formMember",method:"post",doBeforeSend:{select:function(e){return e.value},file:function(e){return e.value}},blocks:[{blockTitle:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fields:[Object(S.a)({label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"label"},qn),Object(S.a)({label:"\u0410\u0434\u0440\u0435\u0441\u0441",name:"address"},qn),{label:"\u0422\u0438\u043f",name:"type",type:"select",dictUrl:"/api/strType/search/present",rebuildReceivedOptions:An,rebuildReceivedValue:Rn,widths:Pn},{label:"\u041f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u0438\u0435",name:"parentId",type:"select",dictUrl:"/api/strMember/search/present",rebuildReceivedOptions:An,rebuildReceivedValue:Rn,widths:Sn},{label:"\u0413\u043e\u0440\u043e\u0434",name:"town",type:"select",dictUrl:"/api/strDictTown/search/present",rebuildReceivedOptions:An,rebuildReceivedValue:Rn,widths:Pn},{label:"\u041c\u0435\u0442\u0440\u043e",name:"metro",type:"select",dictUrl:"/api/strDictMetro/search/present",rebuildReceivedOptions:An,rebuildReceivedValue:Rn,widths:Pn},{label:"\u0413\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0438\u044f",name:"coordination",type:"text"}]},{blockTitle:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0445\u0440\u0430\u043c\u0430",conditionallyRender:function(e){var t=e.type;return!!t&&"HRAM"===t.enum},fields:[{label:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f",name:"hramObjectLocal.photo",type:"file",widths:Sn},Object(S.a)({label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0445\u0440\u0430\u043c\u0430",name:"hramObjectLocal.description"},qn),{label:"\u0412\u0435\u0431-\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",name:"hramObjectLocal.webUrl",type:"text",widths:Pn},Object(S.a)({label:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",name:"hramObjectLocal.contacts"},qn),Object(S.a)({label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",name:"hramObjectLocal.history"},qn),Object(S.a)({label:"\u0421\u0432\u044f\u0442\u044b\u043d\u0438",name:"hramObjectLocal.religion"},qn),Object(S.a)({label:"\u0412\u0440\u0435\u043c\u044f \u043d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0442\u044b \u0425\u0440\u0430\u043c\u0430",name:"hramObjectLocal.startWorkTime"},Bn),Object(S.a)({label:"\u0412\u0440\u0435\u043c\u044f \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0425\u0440\u0430\u043c\u0430",name:"hramObjectLocal.finishWorkTime"},Bn),{label:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u0432\u044f\u0449\u0435\u043d\u043d\u043e\u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u0435\u0439 \u043f\u0440\u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u043d\u0430 \u0431\u0435\u0441\u0435\u0434\u0443",name:"hramObjectLocal.visiblePriests",type:"checkbox",widths:Sn}]},{blockTitle:"\u0414\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",conditionallyRender:function(e){var t=e.type;return!!t&&"HRAM"===t.enum},fields:[Object(S.a)({label:"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f",name:"hramObjectLocal.replace1"},qn),Object(S.a)({label:"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f",name:"hramObjectLocal.replace2"},qn),Object(S.a)({label:"\u041c\u0438\u0441\u0441\u0438\u043e\u043d\u0435\u0440\u0441\u043a\u0430\u044f",name:"hramObjectLocal.replace3"},qn),Object(S.a)({label:"\u0414\u0440\u0443\u0433\u0430\u044f",name:"hramObjectLocal.replace4"},qn)]}],validationSchema:ct.object({label:ct.string().required(),type:ct.object().nullable().required(),parentId:ct.object().nullable(),address:ct.string(),town:ct.object().nullable(),metro:ct.object().nullable(),coordination:ct.string(),hramObjectLocal:ct.object({photo:ct.object().nullable(),description:ct.string().required(),webUrl:ct.string(),contacts:ct.string(),history:ct.string(),religion:ct.string(),startWorkTime:ct.string().required(),finishWorkTime:ct.string().required(),visiblePriests:ct.bool()}).nullable()})},qi={title:"\u0425\u0440\u0430\u043c\u0430",headerText:"label",url:"/api/strMember",projection:"formMember",method:"patch",blocks:[{blockTitle:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fields:[Object(S.a)({label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"label"},qn),{label:"\u0422\u0438\u043f",name:"type",type:"select",dictUrl:"/api/strType/search/present",rebuildReceivedOptions:An,rebuildReceivedValue:Rn,widths:Pn},{label:"\u041f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u0438\u0435",name:"parentId",type:"select",dictUrl:"/api/strMember/search/present",rebuildReceivedOptions:An,rebuildReceivedValue:Rn,widths:Sn},Object(S.a)({label:"\u0410\u0434\u0440\u0435\u0441\u0441",name:"address"},qn),{label:"\u0413\u043e\u0440\u043e\u0434",name:"town",type:"select",dictUrl:"/api/strDictTown/search/present",rebuildReceivedOptions:An,rebuildReceivedValue:Rn,widths:Pn},{label:"\u041c\u0435\u0442\u0440\u043e",name:"metro",type:"select",dictUrl:"/api/strDictMetro/search/present",rebuildReceivedOptions:An,rebuildReceivedValue:Rn,widths:Pn},{label:"\u0413\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0438\u044f",name:"coordination",type:"text"},{name:"uniqueId",hidden:!0}]}],additionalTabs:[{tabTitle:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0445\u0440\u0430\u043c\u0430",tabContent:{Component:function(e){var t=e.firstFormInitialValues.uniqueId,a=e.modal.mode,n=Object(W.a)(e,["firstFormInitialValues","modal"]);return r.a.createElement(Et,Object.assign({config:[{urlToDownload:"/api/strHram/search/byMember?member=".concat(t,"&projection=formMemberHram"),whereToStore:"initialValues"}],Component:bn,readOnly:"edit"!==a,onSubmit:function(e,a){var n=a.setSubmitting;wl({url:"/api/hram/".concat(t),method:"patch",data:e},function(){Ol("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u044b"),n(!1),Ge()})},formObj:Ai,errorHandler:te,PreloaderComponent:Ot},n))}},conditionallyRender:function(e){var t=e.firstFormInitialValues.type;return!(t&&"HRAM"===t.enum)},tabButtons:[{Btn:ht,requiresFormSubmitRef:!0,conditionallyRender:function(e){return"edit"===e.modal.mode}}]}],validationSchema:ct.object({label:ct.string().required(),type:ct.object().nullable().required(),parentId:ct.object().nullable(),address:ct.string(),town:ct.object().nullable(),metro:ct.object().nullable(),coordination:ct.string()})},Ni={create:kn({formObj:Fi,mode:"create"}),view:kn({formObj:qi,mode:"view"}),edit:kn({formObj:qi,mode:"edit"}),createWorkItem:{formObj:{}}},Bi={requiresFunction:[{functionName:"administrator_member_modifier",allowedActions:["create","view","edit","delete"]},{functionName:"administrator_structure_member_modifier",allowedActions:["create","view","edit","delete"]},{functionName:"administrator_hram_member_modifier",allowedActions:["view"]}],filtersPanel:{filters:[{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"uniqueId",type:"select",dictUrl:"/api/strMember/search/present",rebuildReceivedOptions:An},{label:"\u0422\u0438\u043f",name:"typeCode",type:"select",dictUrl:"/api/strType/search/present",rebuildReceivedOptions:An},{label:"\u041f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u0438\u0435",name:"parentId",type:"select",dictUrl:"/api/strMember/search/present",rebuildReceivedOptions:An},{label:"\u0410\u0434\u0440\u0435\u0441",name:"address",type:"text"}]},url:"/api/journalMembers",tableHeader:[{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",sortable:!0,path:"label",width:"35%"},{label:"\u0422\u0438\u043f",sortable:!0,path:"type",width:"15%"},{label:"\u041f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u0438\u0435",sortable:!0,path:"parentLabel",width:"35%"},{label:"\u0410\u0434\u0440\u0435\u0441",sortable:!0,path:"address",width:"15%"}],forms:Object(S.a)({},Ni)},Li={title:"\u0422\u0438\u043f \u0441\u043e\u0431\u044b\u0442\u0438\u044f",titleItem:"\u0422\u0438\u043f\u0430   \u0441\u043e\u0431\u044b\u0442\u0438\u044f",headerText:"label",url:"/api/commonAction",method:"patch",blocks:[{blockTitle:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fields:[{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"label",type:"text",widths:Pn},Object(S.a)({label:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e",name:"longTime"},Ln(),{widths:Pn}),Object(S.a)({label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"description"},qn),{name:"isWork",label:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u0414\u0435\u043b\u0430\u0445",type:"checkbox"},{name:"isMinistration",label:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u0411\u043e\u0433\u043e\u0441\u043b\u0443\u0436\u0435\u043d\u0438\u044f\u0445",type:"checkbox"},{name:"isClaim",label:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u0417\u0430\u044f\u0432\u043a\u0430\u0445",type:"checkbox"}]}]},Vi={view:kn({formObj:Li,mode:"view"}),edit:kn({formObj:Object(S.a)({},Li,{validationSchema:ct.object({label:ct.string().required()})}),mode:"edit"})},Ui={navigationLabel:"\u0422\u0438\u043f \u0441\u043e\u0431\u044b\u0442\u0438\u0439",requiresFunction:[{functionName:"administration_directory_modifier",allowedActions:["view","edit"]}],title:"\u0416\u0443\u0440\u043d\u0430\u043b \u0422\u0438\u043f\u043e\u0432 \u0441\u043e\u0431\u044b\u0442\u0438\u0439",url:"/api/journalActions",filtersPanel:{filters:[{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"label",type:"text"}]},tableHeader:[{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",sortable:!0,path:"label"},{label:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u0414\u0435\u043b\u0430\u0445",sortable:!1,path:"isWork"},{label:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u0411\u043e\u0433\u043e\u0441\u043b\u0443\u0436\u0435\u043d\u0438\u044f\u0445",sortable:!0,path:"isMinistration"},{label:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u0417\u0430\u044f\u0432\u043a\u0430\u0445",sortable:!0,path:"isClaim"}],forms:Object(S.a)({},Vi)},Hi={title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438",titleItem:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438",headerText:"label",url:"/api/libraryObject",projection:"formLibraryObject",method:"post",doBeforeSend:{select:function(e){return e.value}},blocks:[{blockTitle:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fields:[{label:"\u0422\u0435\u043c\u0430\u0442\u0438\u043a\u0430",name:"type",type:"select",dictUrl:"/api/libraryDictType/search/present",rebuildReceivedOptions:(Ri=function(e){var t=e.label,a=e.code;return{label:t,value:"/api/libraryDictType/".concat(a)}},function(e){return at(e).map(Ri)}),rebuildReceivedValue:function(e){var t=e.label,a=e.code;return{label:t,value:"/api/libraryDictType/".concat(a)}},widths:Pn},{label:"\u0410\u0432\u0442\u043e\u0440",name:"authorRef",type:"text",widths:Pn},{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"label",type:"text",widths:Sn},{label:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u0440\u0435\u0441\u0443\u0440\u0441",name:"url",type:"text",widths:Sn},Object(S.a)({label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"description"},qn),{name:"isPublished",label:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d",type:"checkbox"},{name:"file",label:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0444\u0430\u0439\u043b",type:"file",widths:Sn}]}],validationSchema:ct.object({label:ct.string().required(),type:ct.object().nullable().required()})},Wi={create:kn({formObj:Hi,mode:"create"}),view:kn({formObj:Hi,mode:"view"}),edit:kn({formObj:Object(S.a)({},Hi,{method:"patch"}),mode:"edit"})},zi={requiresFunction:[{functionName:"administrator_library_modifier",allowedActions:["create","view","edit","delete"]},{functionName:"administrator_structure_library_modifier",allowedActions:["create","view","edit","delete"]},{functionName:"administrator_hram_library_modifier",allowedActions:["create","view","edit","delete"]},{functionName:"priest_library_modifier",allowedActions:["create","view","edit","delete"]},{functionName:"assistant_library_modifier",allowedActions:["create","view","edit","delete"]}],filtersPanel:{filters:[{label:"\u0422\u0435\u043c\u0430\u0442\u0438\u043a\u0430",name:"type",type:"select",dictUrl:"/api/libraryDictType/search/present",rebuildReceivedOptions:Fn},{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"label",type:"text"},{label:"\u0410\u0432\u0442\u043e\u0440",name:"authorRef",type:"text"},{label:"\u0414\u043e\u0431\u0430\u0432\u0438\u043b",name:"fullname",type:"text"}]},url:"/api/library/journalLibrary",tableHeader:[{label:"\u0422\u0435\u043c\u0430\u0442\u0438\u043a\u0430",sortable:!0,path:"type"},{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",sortable:!0,path:"label"},{label:"\u0410\u0432\u0442\u043e\u0440",sortable:!0,path:"authorRef"},{label:"\u041f\u0440\u0438\u0437\u043d\u0430\u043a \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",sortable:!0,path:"published"},{label:"\u0414\u043e\u0431\u0430\u0432\u0438\u043b",sortable:!0,path:"fullname"},{label:"\u0414\u0430\u0442\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f",sortable:!0,path:"createdTimestamp"}],forms:Object(S.a)({},Wi)},Yi={title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0437\u0430\u044f\u0432\u043a\u0438",formObj:{blocks:[{fields:[Object(S.a)({label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",name:"comment"},qn)]}]},initialValues:{comment:""},primaryButtonText:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",primaryButtonHandler:function(e){return function(t){return wl({url:"/api/claim/confirm/".concat(e),method:"post",data:t},function(t){var a=t.status;He(!0),200===a&&We('\u0417\u0430\u044f\u0432\u043a\u0430 \u2116 "'.concat(e,'" \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0430')),Z.dispatch(jl()),Ge(),Ye()})}}},Gi={view:kn({formObj:{url:"/api/claim/getById",title:"\u0417\u0430\u044f\u0432\u043a\u0438 ",titleItem:"\u0417\u0430\u044f\u0432\u043a\u0430",method:"get",headerText:"uniqueId",blocks:[{blockTitle:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fields:[{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0442\u0440\u0435\u0431\u044b/\u0442\u0430\u0438\u043d\u0441\u0442\u0432\u0430",name:"commonAction",type:"select",dictUrl:"/api/getCommonActionForClaimList",rebuildReceivedOptions:An,rebuildReceivedValue:Rn,widths:Pn},{label:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u044f\u0432\u043a\u0438",name:"claimDictStatus",type:"select",dictUrl:"/api/claimDictStatus/search/present",rebuildReceivedOptions:An,rebuildReceivedValue:Rn,widths:Pn},{label:"\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u044f\u0432\u043a\u0438",name:"uniqueId",type:"text",widths:Pn},{label:"\u0412 \u0445\u0440\u0430\u043c\u0435",name:"isHram",type:"checkbox",widths:Pn},{label:"\u0416\u0435\u043b\u0430\u0435\u043c\u0430\u044f \u0434\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430",name:"firstTimestamp",type:"text",widths:Pn},{label:"\u0416\u0435\u043b\u0430\u0435\u043c\u0430\u044f \u0434\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",name:"endTimestamp",type:"text",widths:Pn},{label:"\u0424\u0418\u041e \u043c\u0438\u0440\u044f\u043d\u0438\u043d\u0430",name:"userFullName",type:"text",widths:Sn},{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043c\u0438\u0440\u044f\u043d\u0438\u043d\u0430",name:"phone",type:"text",widths:Pn},{label:"Email \u043c\u0438\u0440\u044f\u043d\u0438\u043d\u0430",name:"email",type:"text",widths:Pn},Object(S.a)({label:"\u0410\u0434\u0440\u0435\u0441 \u043c\u0438\u0440\u044f\u043d\u0438\u043d\u0430",name:"address"},qn),Object(S.a)({label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"description"},qn),{label:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0430\u043d\u043a\u0435\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",name:"anketa",type:"text",widths:Sn},{label:"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c",name:"performer",type:"text",widths:Pn},Object(S.a)({label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",name:"comment"},qn),{name:"isFree",hidden:!0}]}],additionalActionButtonsDependedOnProps:[{text:"\u0412\u0437\u044f\u0442\u044c \u0432 \u0440\u0430\u0431\u043e\u0442\u0443",variant:"contained",style:{backgroundColor:"#357a38",color:"white"},onClick:function(e){var t=e.firstFormInitialValues.uniqueId;Z.dispatch(gl({mainText:'\u0432\u0437\u044f\u0442\u044c \u0432 \u0440\u0430\u0431\u043e\u0442\u0443 \u0437\u0430\u044f\u0432\u043a\u0443 \u2116 "'.concat(t,'"?'),primaryButtonHandler:function(){He(!0),wl({url:"/api/claim/toWork/".concat(t),method:"post"},function(e){var a=e.status;He(!0),200===a&&We('\u0417\u0430\u044f\u0432\u043a\u0430 \u2116 "'.concat(t,'" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u0437\u044f\u0442\u0430 \u0432 \u0440\u0430\u0431\u043e\u0442\u0443')),Z.dispatch(yl()),Ge(),Ye()})}}))},conditionallyRender:function(e){var t=e.firstFormInitialValues.claimDictStatus,a=e.modal.mode;return"NEW"===t.enum&&"view"===a}},{text:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",variant:"contained",style:{backgroundColor:"#357a38",color:"white"},onClick:function(e){var t=e.firstFormInitialValues.uniqueId;ze(Object(S.a)({},Yi,{primaryButtonHandler:Yi.primaryButtonHandler(t)}))},conditionallyRender:function(e){var t=e.firstFormInitialValues.claimDictStatus,a=e.modal.mode;return"IN_PROGRESS"===t.enum&&"view"===a}},{text:"\u0421\u043a\u0440\u044b\u0442\u044c",variant:"contained",style:{backgroundColor:"#357a38",color:"white"},onClick:function(e){var t=e.firstFormInitialValues.uniqueId;Z.dispatch(gl({mainText:'\u0441\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u2116 "'.concat(t,'"?'),primaryButtonHandler:function(){He(!0),wl({url:"/api/claim/hide/".concat(t),method:"post"},function(e){var a=e.status;He(!0),200===a&&We('\u0417\u0430\u044f\u0432\u043a\u0430 \u2116 "'.concat(t,'" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043a\u0440\u044b\u0442\u0430')),Z.dispatch(yl()),Ge(),Ye()})}}))},conditionallyRender:function(e){var t=e.firstFormInitialValues.claimDictStatus,a=e.modal.mode;return"CLOSED"===t.enum&&"view"===a}},{text:"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0438\u0440\u044f\u043d\u0438\u043d\u0430",variant:"contained",style:{backgroundColor:"#357a38",color:"white"},onClick:function(e){var t=e.firstFormInitialValues,a=t.uniqueId,n=t.userFullName;Z.dispatch(gl({mainText:'\u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0438\u0440\u044f\u043d\u0438\u043d\u0430 "'.concat(n,'"?'),primaryButtonHandler:function(){He(!0),wl({url:"/api/claim/block/".concat(a),method:"post"},function(e){var t=e.status;He(!0),200===t&&We('\u041c\u0438\u0440\u044f\u043d\u0438\u043d "'.concat(n,'" \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d')),Z.dispatch(yl()),Ge(),Ye()})}}))},conditionallyRender:function(e){var t=e.firstFormInitialValues.claimDictStatus,a=e.modal.mode;return"CLOSED"===t.enum&&"view"===a}},{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",variant:"contained",style:{backgroundColor:"#357a38",color:"white"},onClick:function(e){var t=e.firstFormInitialValues.uniqueId;Z.dispatch(gl({mainText:'\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u2116 "'.concat(t,'"?'),primaryButtonHandler:function(){He(!0),wl({url:"/api/claim/cancel/".concat(t),method:"post"},function(e){var a=e.status;He(!0),200===a&&We('\u0417\u0430\u044f\u0432\u043a\u0430 \u2116 "'.concat(t,'" \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430')),Z.dispatch(yl()),Ge(),Ye()})}}))},conditionallyRender:function(e){var t=e.firstFormInitialValues.claimDictStatus,a=e.modal.mode;return"IN_PROGRESS"===t.enum&&"view"===a}}]},mode:"view"})},Ki={navigationLabel:"",requiresFunction:[{functionName:"administrator_hram_claim_view",allowedActions:["view"]},{functionName:"priest_claim_view",allowedActions:["view"]},{functionName:"assistant_claim_view",allowedActions:["view"]}],url:"/api/journalClaimObjects",filtersPanel:{filters:[{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0442\u0440\u0435\u0431\u044b/\u0442\u0430\u0438\u043d\u0441\u0442\u0432\u0430",name:"commonAction",type:"select",dictUrl:"/api/getCommonActionForClaimList",rebuildReceivedOptions:Fn},{label:"\u0424\u0418\u041e \u043c\u0438\u0440\u044f\u043d\u0438\u043d\u0430",name:"userFullName",type:"text"},{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043c\u0438\u0440\u044f\u043d\u0438\u043d\u0430",name:"phone",type:"text"},{label:"\u0410\u0434\u0440\u0435\u0441 \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0442\u0440\u0435\u0431\u044b",name:"userAddress",type:"text"},{label:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0442\u0430\u0438\u043d\u0441\u0442\u0432\u0430",name:"rangeEvent",type:"date-range"}]},tableHeader:[{label:"\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u044f\u0432\u043a\u0438",sortable:!0,path:"uniqueId"},{label:"\u0414\u0430\u0442\u0430 \u0437\u0430\u044f\u0432\u043a\u0438",sortable:!0,path:"createdTimestamp"},{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0442\u0440\u0435\u0431\u044b/\u0442\u0430\u0438\u043d\u0441\u0442\u0432\u0430",sortable:!0,path:"commonAction"},{label:"\u0412 \u0445\u0440\u0430\u043c\u0435",sortable:!0,path:"isHramText"},{label:"\u0424\u0418\u041e \u043c\u0438\u0440\u044f\u043d\u0438\u043d\u0430",sortable:!0,path:"userFullName"},{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043c\u0438\u0440\u044f\u043d\u0438\u043d\u0430",sortable:!0,path:"phone"},{label:"\u0410\u0434\u0440\u0435\u0441 \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0442\u0440\u0435\u0431\u044b",sortable:!0,path:"userAddress"},{label:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0442\u0430\u0438\u043d\u0441\u0442\u0432\u0430",sortable:!0,path:"rangeEventTimestamp"}],forms:Object(S.a)({},Gi)},Ji=Object(S.a)({},Ki,{navigationLabel:"\u041d\u043e\u0432\u044b\u0435",url:function(){return"/api/getNewClaimObjectsList"}}),Xi=Object(S.a)({},Ki,{navigationLabel:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435",url:function(){return"/api/getProgressClaimObjectsList"}}),$i=Object(S.a)({},Ki,{navigationLabel:"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0435",url:function(){return"/api/getFreeClaimObjectsList"}}),Zi=Object(S.a)({},Ki,{navigationLabel:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435",url:function(){return"/api/getCloseClaimObjectsList"}}),Qi={schedule:{label:"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0445\u0440\u0430\u043c\u0430",icon:it.u,page:_i},churchStructure:{label:"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0446\u0435\u0440\u043a\u0432\u0438",icon:it.n,page:Bi},serviceMan:{label:"\u0421\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u0438",icon:it.m,page:Wn},management:{label:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",icon:it.g,pages:{members:ur,services:fr,mvExchange:gr,nsi:Er}},claim:{label:"\u0417\u0430\u044f\u0432\u043a\u0438",icon:it.s,pages:{new:Object(S.a)({},Ji),inWork:Object(S.a)({},Xi),submitting:Object(S.a)({},Zi),free:Object(S.a)({},$i)}},statistics:{label:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",icon:it.o,pages:{reports:Object(S.a)({},Mr),logMV:Object(S.a)({},Ar)}},library:{label:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",icon:it.q,page:zi},directory:{label:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438",icon:it.B,pages:{actionType:Ui}},settings:{label:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",icon:it.y,page:ar}};T.a.interceptors.request.use(function(e){var t=Z.getState().auth.accessToken;return null!=t?Object(S.a)({},e,{headers:Object(S.a)({},e.headers,{Authorization:"Bearer ".concat(t)})}):e},function(e){return Promise.reject(e)}),T.a.interceptors.response.use(function(e){return e},function(e){return"undefined"===typeof e.response?Promise.reject(e):("invalid_token"===e.response.data.message&&Z.dispatch({type:_e,payload:{isAuthenticated:!1,accessToken:null}}),401===e.response.status&&Z.dispatch(el(!1,null)),502===e.response.status&&rt.push("/error/\u041f\u0440\u043e\u0432\u043e\u0434\u044f\u0442\u0441\u044f \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"),"string"===typeof e.response.data&&-1!==e.response.data.search("Proxy error: Could not proxy request")&&rt.push("/error/\u041f\u0440\u043e\u0432\u043e\u0434\u044f\u0442\u0441\u044f \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"),Promise.reject(e))});var el=function(e,t){return function(a){return a({type:_e,payload:{isAuthenticated:e,accessToken:t}})}},tl=function(e){return function(t){return t({type:Re,payload:e})}},al=function(){return T.a.get("/api/user/getUserRolesFunctions")},nl=function(e){return function(t){return t({type:we,payload:{errorMessage:e}})}},rl=function(e,t,a,n,r,i){return function(l){return l({type:he,payload:{role:a,functions:n,surnameInitials:t,userId:e,memberId:r,memberFullName:i}})}},il=function(){return function(e,t){return e({type:pe,payload:Xe(t().auth.functions,Qi)})}},ll=function(e){return function(t){return t({type:Te,payload:e})}},ol=function(e){return function(t){return Promise.resolve(t(tl(e))).then(function(){return al()}).then(function(e){var a=e.data,n=a.roles,r=a.surnameInitials,i=a.userId,l=a.memberId,o=a.memberFullName,c=n[0],s=c.role,u=c.functions;return t(rl(i,r,s,u,l,o))}).then(function(){return t(il())}).then(function(){return t(nl(""))}).then(function(){return t(ll(!0))}).catch(function(){return Promise.all([t(el(!1,null)),t(nl("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"))])})}},cl=function(e,t){return function(a){return function(e,t){return T()({method:"post",url:"/oauth/token",auth:{username:"e2c2ded61b3ebff84b65e78c0f15e6ce38187c521b13c94c20f2de168895d555",password:"3f55062869ebad5af93d27a0cfff957f73d8a01bf505f66d5cf69a77d11e6909"},headers:{"Content-type":"application/x-www-form-urlencoded; charset=utf-8"},params:{grant_type:"password",username:e,password:t}})}(e,t).then(function(e){var t=e.data;return a(tl(t.access_token))}).then(function(){return al()}).then(function(e){var t=e.data,n=t.roles,r=t.surnameInitials,i=t.userId,l=t.memberId,o=t.memberFullName,c=n[0],s=c.role,u=c.functions;return a(rl(i,r,s,u,l,o))}).then(function(){return a(il())}).then(function(){return a(nl(""))}).then(function(){return a(ll(!0))}).catch(function(){return Promise.all([a(el(!1,null)),a(nl("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"))])})}},sl=function(e,t){if(""!==t[1]&&null!==t[1]){if("object"!==typeof t[1])return"".concat(e,"&").concat(t[0],"=").concat(t[1]);if(Array.isArray(t[1])){var a=e;return t[1].forEach(function(e){a+="&".concat(t[0],"=").concat(e)}),a}if(Object.keys(t[1]).length>0)return"".concat(e,"&").concat(t[0],"=").concat(t[1].value)}return e},ul=function(e,t){return"".concat(e,"&s=").concat(t.path,",").concat(t.value)};function dl(e,t){var a=Object.entries(e),n=t.includes("?")?t:"".concat(t,"?");return a.length>0&&(n=a.reduce(sl,n)),n}var ml=function(e,t){T.a.get(t().journalReducer.computedUrl).then(function(t){e({type:Se,payload:t.data})}).catch(function(e){console.log(e)})},pl=function(e){return function(t){return t({type:re,payload:e})}},bl=function(){return function(e){return e(function(e,t){var a=t().journalReducer,n=a.sortable,r=a.pagination,i=r.rowsPerPage,l=r.page,o=a.baseUrl,c=t().filtersReducer.computedFilters,s="function"===typeof o?o():o.slice();return s.includes("?")||(s+="?"),n.length>0&&(s=n.reduce(ul,s)),s=dl(c,s),s+="&p=".concat(l-1,"&l=").concat(i),Promise.resolve(e({type:se,payload:s}))}).then(function(){return e(ml)})}},fl=function(){return function(e){return Promise.resolve(e({type:de}))}},hl=function(e){return function(t,a){return a().journalReducer.modalState.openedModals.some(function(t){return t.category===e.category&&t.page===e.page&&t.item.uniqueId===e.item.uniqueId})?t(Ol("\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u0443\u0436\u0435 \u043e\u0442\u043a\u0440\u044b\u0442\u0430")):t({type:me,payload:e})}},vl=function(e){return function(t){return t(fl()).then(function(){return t(hl(e))})}},gl=function(e){return function(t){return t({type:ve,payload:Object(S.a)({open:!0},e)})}},yl=function(){return function(e){return e({type:ge})}},Ol=function(e){return function(t){return t({type:Oe,payload:{message:e,isSnackBarOpened:!0}})}},jl=function(){return function(e){return e({type:fe})}},El=function(e){return function(t){return t({type:be,payload:Object(S.a)({open:!0},e)})}},xl=function(){return{type:Fe}},wl=function(e,t,a){T()(e).then(function(e){t&&t(e)}).catch(function(e){a?a(e):te(e)})},kl=function(e){return{type:ae,payload:e}},Cl=Object(c.c)(function(e){return{layout:Object(m.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400}),paper:{marginTop:6*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit},icon:{height:"30px",marginTop:"-6px",marginBottom:"-6px",marginLeft:e.spacing.unit},wrapper:{height:"100vh"}}}),Il=function(e){return Object.keys(e)[0]},Sl=function(e){var t=Il(e),a=Array.isArray(e[t])?"":Il(e[t]);return"/journal/".concat(t,"/").concat(a)},Pl={blocks:[{fields:[{name:"login",type:"formatted",label:"\u041b\u043e\u0433\u0438\u043d(\u0422\u0435\u043b\u0435\u0444\u043e\u043d)",mask:Cn,widths:Sn},{name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",widths:Sn}]}],validationSchema:ct.object({login:ct.string().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),password:ct.string().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c")})},Tl=function(e){var t=e.isAuthenticated,a=e.allowedActions,n=e.errorMessage,i=e.onSubmitHandle,o=e.match,c=Cl();if(o){var s=o.params.token;s&&function(e){Z.dispatch(ol(e))}(s)}if(t){var u=e.location,d={};if(u&&u.state&&u.state.from&&u.state.from.pathname&&("/"!==u.state.from.pathname||""!==u.state.from.pathname)){var m=u.state.from.pathname;d=Object(I.hasIn)(a,m.replace("/journal/","").replace("/","."))?u.state.from:{pathname:Sl(a)}}else d={pathname:Sl(a)};return r.a.createElement(l.a,{to:d})}var p=null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null),r.a.createElement(C.a,{container:!0,alignItems:"center",justify:"center",className:c.wrapper,direction:"column"},r.a.createElement(C.a,{item:!0},r.a.createElement(C.a,{container:!0,alignItems:"center",justify:"space-between",alignContent:"center",direction:"column"},r.a.createElement(C.a,null,r.a.createElement("img",{src:"/logo_login.png",alt:"logo",style:{height:"100px",color:"inherit"}})),r.a.createElement(C.a,null,r.a.createElement(w.a,{align:"center",variant:"h6",style:{width:"690px"}},"\xab\u0425\u0420\u0410\u041c \u041e\u041d\u041b\u0410\u0419\u041d\xbb")))),r.a.createElement(C.a,{item:!0,className:c.layout},r.a.createElement(E.a,{className:c.paper},r.a.createElement(b.a,{className:c.avatar},r.a.createElement(O.a,null)),r.a.createElement(w.a,{variant:"h6"},"\u0412\u0425\u041e\u0414 \u0412 \u0421\u0418\u0421\u0422\u0415\u041c\u0423"),r.a.createElement(bn,{style:{paddingLeft:0,paddingRight:0},initialValues:{login:"",password:""},formObj:Pl,onSubmit:function(e,t){t.setSubmitting;i(e)},bindFormSubmit:function(e){p=e}}),r.a.createElement(h.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){p&&p()}},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement("h3",{style:{color:"red"}},n)))))},Rl=Object(l.f)(Object(o.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,errorMessage:e.auth.errorMessage,allowedActions:e.wrapperReducer.allowedActions}},function(e){return{onSubmitHandle:function(t){var a=t.login,n=t.password;return e(cl(a,n))}}})(Tl));Tl.defaultProps={errorMessage:""};var Dl=Rl,Ml=a(111),_l=a.n(Ml),Al=Object(o.b)(function(e){return{open:e.wrapperReducer.isSnackBarOpened,message:e.wrapperReducer.message}},function(e){return{closeHandler:function(){return e({type:Oe,payload:{isSnackBarOpened:!1}})}}})(function(e){var t=e.message,a=e.open,n=e.closeHandler;return r.a.createElement(pt.B,{open:a,autoHideDuration:6e3,onClose:n,message:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},action:[r.a.createElement(_l.a,{key:"close","aria-label":"Close",color:"inherit",onClick:n},r.a.createElement(hn.a,null))]})}),Fl=a(112),ql=a(223),Nl=a.n(ql),Bl=a(222),Ll=a.n(Bl),Vl=a(332),Ul=a.n(Vl),Hl=a(156),Wl=a.n(Hl),zl=a(216),Yl=a.n(zl),Gl=a(209),Kl=a.n(Gl),Jl=a(155),Xl=a.n(Jl),$l=a(234),Zl=a.n($l),Ql=a(147),eo=a.n(Ql),to=a(214),ao=a.n(to),no=a(330),ro=a.n(no),io=a(215),lo=a.n(io);function oo(e){var t=e.category,a=e.page,n=e.classes,i=e.customIcon,l=e.activeCategory,o=e.activePage,c=e.menuMinimized;return r.a.createElement(Fl.a,{to:"/journal/".concat(t,"/").concat(a),exact:!0,className:n.navlink,activeClassName:n.navlinkActive,"aria-current":"page"},r.a.createElement(eo.a,{button:!0,className:n.nested,disableGutters:!0},r.a.createElement(ao.a,{classes:{root:n.listIconRoot}},i?r.a.createElement(i,{color:l===t&&o===a?"primary":void 0}):r.a.createElement(ro.a,{color:l===t&&o===a?"primary":void 0})),c&&r.a.createElement(lo.a,{primaryTypographyProps:{color:l===t&&o===a?"primary":void 0}},Qi[t].pages[a].navigationLabel)))}oo.defaultProps={customIcon:void 0,activePage:void 0};var co=Object(c.c)(function(e){return{nested:{paddingLeft:2*e.spacing.unit},navlink:{textDecoration:"none"},navlinkActive:{borderLeft:"3px solid ".concat(e.palette.primary.main),display:"block",opacity:"0.9"},activeCategory:{backgroundColor:"rgba(0, 0, 0, 0.08)",color:"red"},firstLevelListItem:{paddingLeft:e.spacing.unit,paddingRight:e.spacing.unit},listIconRoot:{marginRight:0},activeListItem:{color:e.palette.primary}}}),so=Object(l.f)(Object(o.b)(function(e){return{expandedIndex:e.collapsableMenuReducer.expandedIndex,value:e.collapsableMenuReducer.value,functions:e.auth.functions,allowedActions:e.wrapperReducer.allowedActions}},function(e){return{onClick:function(t){return e({type:Ae,payload:{expandedIndex:t}})}}})(function(e){var t=e.onClick,a=e.expandedIndex,n=e.value,i=e.isMenuMinimized,l=e.match.params,o=l.category,c=l.page,s=e.allowedActions,u=co();return r.a.createElement(Nl.a,{disablePadding:!0},Object.keys(s).filter(function(e){return!Qi[e].hidden}).map(function(e,l){var d=Qi[e].icon;return Qi[e].pages?r.a.createElement(r.a.Fragment,{key:e},r.a.createElement(Ll.a,{className:Pt()(u.firstLevelListItem,Object(m.a)({},u.activeCategory,e===o)),divider:!0,button:!0,onClick:function(){t(l)}},r.a.createElement(Wl.a,{classes:{root:u.listIconRoot}},d?r.a.createElement(d,null):r.a.createElement(Xl.a,null)),i&&r.a.createElement(Zl.a,{inset:!0,primary:r.a.createElement(Kn.a,{container:!0},Qi[e].label)}),r.a.createElement(Wl.a,{classes:{root:u.listIconRoot}},function(e,t,a){return e===t&&a?r.a.createElement(Yl.a,null):r.a.createElement(Kl.a,null)}(l,a,n))),r.a.createElement(Ul.a,{in:l===a&&n,unmountOnExit:!0},r.a.createElement(Nl.a,{disablePadding:!0},Object.keys(s[e]).map(function(t){var a=Qi[e].pages[t].icon;return r.a.createElement(oo,{category:e,page:t,classes:u,key:"".concat(e,"-").concat(t),customIcon:a,activeCategory:o,activePage:c,menuMinimized:i})})))):r.a.createElement(Fl.a,{key:e,to:"/journal/".concat(e,"/"),exact:!0,className:u.navlink,activeClassName:u.navlinkActive,"aria-current":"page"},r.a.createElement(Ll.a,{className:Pt()(u.firstLevelListItem,Object(m.a)({},u.activeCategory,e===o)),divider:!0,button:!0},r.a.createElement(Wl.a,{classes:{root:u.listIconRoot}},d?r.a.createElement(d,{color:e===o?"primary":void 0}):r.a.createElement(Xl.a,{color:e===o?"primary":void 0})),i&&r.a.createElement(Zl.a,{inset:!0,primaryTypographyProps:{color:e===o?"primary":void 0},primary:r.a.createElement(Kn.a,{container:!0},Qi[e].label)})))}))})),uo=a(202),mo=a.n(uo),po=a(203),bo=a.n(po),fo=a(204),ho=a.n(fo),vo=a(205),go=a.n(vo),yo=Object(o.b)(function(e){return{confirmDialog:e.wrapperReducer.confirmDialog}},function(e){return{closeHandler:function(){return e({type:ge})}}})(function(e){var t=e.confirmDialog,a=e.closeHandler,n=Object(W.a)(e,["confirmDialog","closeHandler"]);return r.a.createElement(mo.a,Object.assign({open:t.open,disableBackdropClick:!0,disableEscapeKeyDown:!0},n,{style:{zIndex:2e3}}),r.a.createElement(go.a,null,t.title?t.title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),r.a.createElement(ho.a,null,t.mainText?"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 ".concat(t.mainText):void 0,t.mainContent?t.mainContent:void 0),r.a.createElement(bo.a,null,r.a.createElement(h.a,{color:"primary",variant:"outlined",onClick:a},t.secondaryButtonText),r.a.createElement(h.a,{color:"primary",variant:"contained",onClick:t.primaryButtonHandler,disabled:t.primaryButtonDisabled},t.primaryButtonText)))}),Oo=Object(o.b)(function(e){return{confirmDialog:e.wrapperReducer.confirmDialogFormik}},function(e){return{closeDialog:function(){return e({type:fe})}}})(function(e){var t=e.confirmDialog,a=t.title,i=t.open,l=t.initialValues,o=t.primaryButtonHandler,c=t.formObj,s=t.primaryButtonText,u=t.additionalStatusProps,d=e.closeDialog,m=null,p=Object(n.useState)(!1),b=Object(yt.a)(p,2),f=b[0],h=b[1];return r.a.createElement(pt.g,{open:i,maxWidth:"sm",fullWidth:!0,disableBackdropClick:!0,disableEscapeKeyDown:!0},r.a.createElement(pt.j,null,a),r.a.createElement(pt.i,null,r.a.createElement(Et,{config:et(c),Component:bn,errorHandler:te,PreloaderComponent:Ot,initialValues:l,formObj:c,onSubmit:o,bindFormSubmit:function(e){m=e},additionalStatusProps:u,bindIsSubmitting:h}),f&&r.a.createElement(pt.v,null)),r.a.createElement(pt.h,null,ft(d),r.a.createElement(pt.b,{variant:"contained",color:"primary",disabled:f,onClick:function(){return m()}},s)))}),jo=Object(c.c)(function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},menuButton:{marginLeft:6,marginRight:18},grow:{flexGrow:1}}}),Eo=Object(o.b)(function(e){return{userId:e.auth.userId,surnameInitials:e.auth.surnameInitials}},function(e){return{toggleLeftMenu:function(){return e({type:Ee})},pushModal:function(t){return e({type:me,payload:t})},logout:function(){return e(function(e){return Promise.resolve(e(el(!1,null)))})}}})(function(e){var t=e.pushModal,a=e.logout,n=e.userId,i=e.surnameInitials,l=e.toggleLeftMenu,o=jo();return r.a.createElement(pt.a,{position:"static",className:o.appBar},r.a.createElement(pt.K,null,r.a.createElement("img",{src:"/logo.png",alt:"logo",style:{maxHeight:"50px",color:"inherit"}}),r.a.createElement(pt.u,{onClick:l,className:o.menuButton,color:"inherit","aria-label":"Menu"},r.a.createElement(it.r,null)),r.a.createElement("div",{className:o.grow},r.a.createElement(pt.L,{variant:"subtitle1",color:"inherit",style:{width:"550px",lineHeight:"inherit"}},"\xab\u0425\u0420\u0410\u041c \u041e\u041d\u041b\u0410\u0419\u041d\xbb")),r.a.createElement(pt.b,{color:"inherit",onClick:function(){t({category:"serviceMan",mode:"profile",shouldWrapInsideTabs:!1,item:{uniqueId:n}})}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(pt.L,{variant:"subtitle1",color:"inherit",noWrap:!0,style:{marginRight:"4px"}},i),r.a.createElement(it.a,null))),r.a.createElement(pt.b,{variant:"text",color:"inherit",size:"medium",onClick:a},"\u0412\u044b\u0439\u0442\u0438")))}),xo=Object(c.c)(function(e){return{button:{margin:e.spacing.unit},input:{display:"none"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},panel:{marginBottom:e.spacing.unit,padding:e.spacing.unit},field:{width:"100%"}}}),wo=function(e,t){return Object.keys(e).length>0?e:function(e){var t={};return e.fields.forEach(function(e){return Object(I.set)(t,e.name,xt(e))}),t}({fields:t})},ko=function(e){var t=e.filters,a=e.onApplyFiltersClick,n=e.saveFilters,i=e.isCollapsed,l=e.computedFilters,o=e.optionsMap,c=xo();return!i&&r.a.createElement(Zn.a,{square:!0,elevation:5,className:c.panel},r.a.createElement(It.d,{enableReinitialize:!0,initialValues:wo(l,t),onSubmit:function(e,t){var r=t.setSubmitting;n(e),a(),r(!1)},initialStatus:{optionsMap:o},render:function(e){var a=e.isSubmitting,i=e.handleSubmit,l=e.status,s=e.initialValues,u=e.setFieldValue,d=e.setStatus;return Object(I.isEqual)(o,l.optionsMap)||d({optionsMap:o}),r.a.createElement(It.c,null,r.a.createElement(Kn.a,{container:!0,spacing:8},t.map(function(e){return r.a.createElement(Kn.a,Object.assign({key:e.name,item:!0},Pa(e)),ka({field:e,classes:c,readOnly:!1,initialValues:s,setFieldValue:u,status:l}))}),r.a.createElement(Kn.a,{item:!0,style:{alignSelf:"flex-end",marginLeft:"auto"}},r.a.createElement(Kn.a,{container:!0,spacing:8},r.a.createElement(Kn.a,{item:!0},r.a.createElement(bt,{variant:"outlined",onClick:function(){n({}),i()},disabled:a},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")),r.a.createElement(Kn.a,{item:!0},r.a.createElement(bt,{type:"submit",variant:"outlined",disabled:a,color:"primary"},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"))))))}}))};ko.defaultProps={optionsMap:{}};var Co=Object(o.b)(function(e){return{isCollapsed:e.filtersReducer.isCollapsed,computedFilters:e.filtersReducer.computedFilters,optionsMap:e.filtersReducer.optionsMap}},function(e){return{saveFilters:function(t){return e({type:Me,payload:t})}}})(ko),Io=function(e){var t=e.width,a=e.config,n=a.component,i=a.functionsToExecute,l=void 0===i?[]:i,o=a.forwardedProps,c=Object(W.a)(a,["component","functionsToExecute","forwardedProps"]),s=e.hideModal,u=e.modal,d={};return l.forEach(function(e){var t=e.func,a=e.passResultAs;d[a]=t(u)}),r.a.createElement(pt.g,{open:!0,disableEscapeKeyDown:!0,disableBackdropClick:!0,fullWidth:!0,maxWidth:"xl"===t?"lg":"lg"===t?"md":t},r.a.createElement(n,Object.assign({},o,{closeHandler:s},c,d,{modal:u})))};Io.defaultProps={hideModal:void 0};var So=Object(pt.M)()(Object(o.b)(function(e){return{openedTab:e.journalReducer.openedTab,allowedActions:e.wrapperReducer.allowedActions}},function(e){return{tabChanged:function(t){return e({type:je,payload:{openedTab:t}})},openSnackBar:function(t){return e({type:Oe,payload:{message:t,isSnackBarOpened:!0}})},openConfirmDialog:function(t){return e({type:ve,payload:Object(S.a)({open:!0},t)})},closeConfirmDialog:function(){return e({type:ge})},disableConfirmDialogPrimaryBtn:function(t){return e({type:ye,payload:{primaryButtonDisabled:t}})},pushModal:function(t){return e({type:me,payload:t})},replaceHeadModal:function(t){return e({type:ue,payload:t})},popHeadModal:function(){return e({type:de})}}})(Io)),Po=(a(6455),Object(c.c)(function(e){return{primaryColor:{color:e.palette.primary.main}}})),To=function(e){var t=e.data,a=(e.defaultPagination,e.fetchJournalData),n=e.count,i=void 0===n?0:n,l=e.setRowsPerPage,o=e.rowsPerPage,c=e.page,s=e.setPage,u=Object(W.a)(e,["data","defaultPagination","fetchJournalData","count","setRowsPerPage","rowsPerPage","page","setPage"]),d=Po();return r.a.createElement(dt.a,Object.assign({data:t,pagination:{classes:{root:d.primaryColor,selectIcon:d.primaryColor},backIconButtonProps:{color:"primary"},nextIconButtonProps:{color:"primary"},count:i,rowsPerPage:o,page:c-1,onChangePage:function(e,t){s(t+1),a()},onChangeRowsPerPage:function(e){s(1),l(e.target.value),a()},labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," \u0438\u0437 ").concat(n)},labelRowsPerPage:"\u0421\u0442\u0440\u043e\u043a \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435"},isCellHovered:function(e,t,a,n){return t.uniqueId&&t.uniqueId===n.uniqueId}},u,{fixedRowCount:1,includeHeaders:!0}))};To.defaultProps={};var Ro=Object(o.b)(function(e){return{rowsPerPage:e.journalReducer.pagination.rowsPerPage,page:e.journalReducer.pagination.page}},function(e){return{setRowsPerPage:function(t){return e(function(e){return function(t){return t({type:oe,payload:e})}}(t))},setPage:function(t){return e(pl(t))}}})(To),Do=Object(o.b)(function(e){return{computedFilters:e.filtersReducer.computedFilters}})(function(e){var t=e.buttons,a=e.computedFilters;return t.map(function(e){var t=e.text,n=e.onClick,i=e.component,l=Object(W.a)(e,["text","onClick","component"]),o=function(){return n({computedFilters:a})};return r.a.createElement(pt.t,{item:!0,key:t},i?r.a.createElement(i,Object.assign({onClick:o},l),t):r.a.createElement(pt.b,Object.assign({onClick:o},l),t))})}),Mo=function(e){var t=e.fetchedData,a=e.initialParameters,n=a.additionalActionPanelButtons,i=(n=void 0===n?{}:n).leftPanel,l=void 0===i?[]:i,o=n.rightPanel,c=void 0===o?[]:o,s=a.filtersPanel,u=a.tableHeader,d=e.sortable,m=e.toggleFiltersPanel,p=e.setSortableThenFetJournalData,b=e.category,f=e.page,h=e.allowedActions,v=e.popHeadModal,g=e.openedModals,y=e.pushModal,O=e.computeUrlThenFetchJournalDataW,j=Array.isArray(h[b])?h[b]:h[b][f];return r.a.createElement(pt.t,{direction:"column",container:!0,wrap:"nowrap",style:{width:"100%",height:"calc(100vh -  80px)"}},r.a.createElement(pt.z,{square:!0,style:{padding:"8px",marginBottom:"8px"},elevation:5},r.a.createElement(pt.t,{container:!0,justify:"space-between",direction:"row"},r.a.createElement(pt.t,null,r.a.createElement(pt.t,{container:!0,spacing:8},r.a.createElement(pt.t,{item:!0},r.a.createElement(bt,{variant:"outlined",onClick:function(){m()}},"\u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f")),r.a.createElement(Do,{buttons:l}))),r.a.createElement(pt.t,null,r.a.createElement(pt.t,{container:!0,spacing:8},r.a.createElement(Do,{buttons:c}),j.includes("create")&&r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.b,{variant:"contained",color:"primary",onClick:function(){return y({category:b,page:f,mode:"create"})}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")),j.includes("wizard")&&r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.b,{variant:"contained",color:"primary",onClick:function(){return y({category:b,page:f,mode:"wizard"})}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")))))),r.a.createElement(Co,{onApplyFiltersClick:function(){return O()},filters:s.filters}),r.a.createElement(pt.z,{square:!0,elevation:5,style:{height:"100%",padding:"8px",flex:"0 1 auto"}},r.a.createElement(st.a,null,function(e){var a=e.width,n=e.height;return r.a.createElement(Ro,{fetchJournalData:function(){return O()},data:Object.keys(t).length>1?Object.values(t._embedded)[0]:[],count:t&&t.page&&t.page.totalElements?t.page.totalElements:0,columns:u.map(function(e){var t=e.label;return{name:e.path,header:t,width:e.width||(u.length<5?"".concat(100/u.length,"%"):"25%"),cellProps:{style:{paddingRight:0}}}}),width:a,height:n-50,style:{backgroundColor:"white"},onCellClick:function(e,t){return y({category:b,page:f,mode:"view",item:t})},onHeaderClick:function(e){var t=e.name;return p(t)},orderBy:d.length>0?d[0].path:void 0,orderDirection:d.length>0?d[0].value:void 0,cellProps:function(e,t){if(0===Object.entries(t).length)return{style:{fontSize:"15px",fontWeight:"bold",overflow:"hidden"}}}})})),g.map(function(e,t){return r.a.createElement(So,{key:e.key,modal:e,config:Qi[e.category].pages?Qi[e.category].pages[e.page].forms[e.mode]:Qi[e.category].page.forms[e.mode],shouldWrapInsideTabs:e.shouldWrapInsideTabs,hideModal:g.length-1===t?function(){return v()}:v,fetchJournalData:O})}))};Mo.defaultProps={page:void 0};var _o=Object(o.b)(function(e){return{computedFilters:e.filtersReducer.computedFilters,fetchedData:e.journalReducer.fetchedData,sortable:e.journalReducer.sortable,isCollapsed:e.filtersReducer.isCollapsed,functions:e.auth.functions,openedModals:e.journalReducer.modalState.openedModals,allowedActions:e.wrapperReducer.allowedActions}},function(e){return{setSort:function(t){return e({type:ke,payload:{path:t}})},toggleFiltersPanel:function(){return e({type:Pe})},setSortableThenFetJournalData:function(t){return e(function(e){return function(t){return Promise.resolve(t({type:Ce,payload:e}))}}(t)).then(function(){return e(bl())})},pushModal:function(t){return e(hl(t))},popHeadModal:function(){return e(fl())},computeUrlThenFetchJournalDataW:function(){return e(bl())}}})(Mo),Ao=a(541),Fo=Object(c.c)(function(e){return{container:{height:"93vh"},btn:{margin:e.spacing.unit},messageContainer:{display:"flex",alignItems:"center",justifyContent:"Space-Around",height:"100%",width:"100%"}}}),qo=function(e){if(e){var t=e.errorMessage;if(t)return t}return"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"},No=function(e){var t=e.errorMessage,a=Fo();return r.a.createElement("div",{className:a.messageContainer},r.a.createElement(Ao.a,{variant:"h3"},t))},Bo=function(e){var t=e.match.params,a=e.history,n=Fo();return r.a.createElement("div",{className:n.container},r.a.createElement(pt.b,{color:"primary",variant:"contained",onClick:function(){return a.push("/")},className:n.btn},"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"),r.a.createElement(No,{errorMessage:qo(t)}))};function Lo(e){var t=e.initialParameters,a=e.page,n=e.category,i=e.allowedActions;if(!t||!i[n]||!Array.isArray(i[n])&&!i[n][a])return r.a.createElement("div",{style:{height:"calc(100vh -  80px)"}},r.a.createElement(No,{errorMessage:"\u0422\u0430\u043a\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}));if(t.Component){var l=t.Component,o=t.passProps,c=void 0===o?{}:o;return r.a.createElement(l,c)}return r.a.createElement(_o,{category:n,page:a,initialParameters:t})}Lo.defaultProps={page:void 0};var Vo=Object(o.b)(function(e){return{username:e.auth.surnameInitials}},function(e){return{closeHandler:function(){return e({type:qe})}}})(function(e){var t=e.closeHandler,a=e.username,r="\u0423\u0432\u0430\u0436\u0430\u0435\u043c\u044b\u0439 ".concat(a,", \u043d\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0439 \u0412\u0430\u043c\u0438 \u043d\u0435\u0434\u0435\u043b\u0435 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u043d\u0438 1 \u0431\u043e\u0433\u043e\u0441\u043b\u0443\u0436\u0435\u043d\u0438\u0435. \u0414\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043c\u0430\u0441\u0442\u0435\u0440\u043e\u043c \u043f\u0435\u0440\u0432\u043e\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438");return n.createElement(pt.g,{open:!0,disableEscapeKeyDown:!0,disableBackdropClick:!0,fullWidth:!0,maxWidth:"lg"},n.createElement(pt.j,null,"\u0417\u0430\u043f\u043e\u043b\u0435\u043d\u0435\u043d\u0438\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0431\u043e\u0433\u043e\u0441\u043b\u0443\u0436\u0435\u043d\u0438\u0439"),n.createElement(pt.i,null,n.createElement(pt.L,{variant:"body1"},r)),n.createElement(pt.h,null,n.createElement(bt,{onClick:t},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),n.createElement(pt.b,{variant:"contained",color:"primary"},"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c")))}),Uo=Object(c.c)(function(e){return{root:{flexGrow:1,height:"789px"},grow:{flexGrow:1},appBarShift:{transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},hide:{display:"none"},drawerPaper:{position:"relative",whiteSpace:"nowrap",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"},drawerPaperClose:Object(m.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:5*e.spacing.unit},e.breakpoints.up("sm"),{width:8*e.spacing.unit}),toolbar:Object(S.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 4px"},e.mixins.toolbar),content:{flexGrow:1,height:"calc(100vh - 64px)",padding:e.spacing.unit}}}),Ho=Object(o.b)(function(e){return{isMenuMinimized:e.collapsableMenuReducer.isMenuMinimized,expandedIndex:e.collapsableMenuReducer.expandedIndex,value:e.collapsableMenuReducer.value,confirmDialogIsOpen:e.wrapperReducer.confirmDialog.open,confirmDialogFormikIsOpen:e.wrapperReducer.confirmDialogFormik.open,modalIsShowed:e.journalReducer.modalState.isModalShowed,openedModals:e.journalReducer.modalState.openedModals,allowedActions:e.wrapperReducer.allowedActions,scheduleCreationMasterIsOpen:e.wrapperReducer.scheduleCreationMasterIsOpen}},function(e){return{toggleFilterPanel:function(t){return e({type:Pe,payload:{isCollapsed:t}})},resetFilterPanel:function(){return e({type:De})},resetSortable:function(){return e({type:Ie})},popHeadModal:function(){return e({type:de})},setPage:function(t){return e(pl(t))},setBaseUrl:function(t){return e(function(e){return{type:ne,payload:e}}(t))},computeUrlThenFetchJournalDataW:function(){return e(bl())},loadFiltersOptionsMap:function(t,a){return e(function(e,t){return function(a){T.a.all(e.map(function(e){return T.a.get(e.urlToDownload,{cancelToken:t.token})})).then(function(t){var a={};return e.forEach(function(e,n){var r=e.whereToStore,i=e.rebuildReceivedValue,l=e.postLoadDoSomethingThenPassResultAsProp,o=t[n].data;if(Object(I.set)(a,r,i?i(o):{options:o,loaded:!0}),l){var c=l.func,s=l.passResultAs;Object(I.set)(a,s,c(o))}}),a}).then(function(e){return a(kl(e.optionsMap))}).catch(function(e){T.a.isCancel(e)||te(e)})}}(t,a))},setFiltersPanelOptionsMap:function(t){return e(kl(t))}}})(function(e){var t,a=e.match.params,i=a.category,l=a.page,o=a.uniqueId,c=e.isMenuMinimized,s=e.confirmDialogIsOpen,u=e.confirmDialogFormikIsOpen,d=e.allowedActions,m=e.resetFilterPanel,p=e.toggleFilterPanel,b=e.resetSortable,f=e.setPage,h=e.setBaseUrl,v=e.computeUrlThenFetchJournalDataW,g=e.loadFiltersOptionsMap,y=e.setFiltersPanelOptionsMap,O=e.scheduleCreationMasterIsOpen,j=Uo();return Qi[i]&&(t=Qi[i].pages&&Qi[i].pages[l]?Qi[i].pages[l]:Qi[i].page),Object(n.useEffect)(function(){if(m(),p(!0),b(),f(1),t&&t.url){y(function(e){var t={};return e.forEach(function(e){var a=e.type,n=e.name,r=e.dictUrl;"select"===a&&r&&Object(I.set)(t,n,{loaded:!1,options:[]})}),t}(t.filtersPanel.filters));var e=T.a.CancelToken.source();return g(tt({fields:t.filtersPanel.filters}),e),h(t.url),v(),function(){e.cancel("Cancelling in cleanup")}}},[i,v,t,g,l,m,b,h,y,f,p]),Object(n.useEffect)(function(){o&&function(e,t){return T.a.get("".concat(t,"/").concat(e)).then(function(e){return e.data}).catch(function(e){return te(e)})}(o,t.url).then(function(e){if("undefined"===typeof e.uniqueId||null===e.uniqueId)throw new Error("\u043d\u0435 \u0431\u044b\u043b\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0433\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430: uniqueId");var t;t={category:i,page:l,mode:"view",item:e},Z.dispatch(hl(t))}).catch(function(e){console.log(e)})},[i,t.url,l,o]),r.a.createElement(pt.t,{container:!0,direction:"column"},r.a.createElement(pt.f,null),r.a.createElement(pt.t,{item:!0},r.a.createElement(Eo,null)),r.a.createElement(pt.t,{container:!0,direction:"row",wrap:"nowrap",style:{height:"calc(100vh - 80px)"}},r.a.createElement(pt.t,{item:!0},r.a.createElement(pt.l,{style:{height:"100%",margin:"8px 0px 8px 8px",boxShadow:"0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 5px 8px 0px rgba(0, 0, 0, 0.14), 0px 1px 14px 0px rgba(0, 0, 0, 0.12)"},variant:"permanent",classes:{paper:Pt()(j.drawerPaper,!c&&j.drawerPaperClose)},open:c,elevation:8},r.a.createElement(so,{isMenuMinimized:c}),r.a.createElement(pt.k,null))),r.a.createElement(pt.t,{item:!0,className:j.content},r.a.createElement(Lo,{allowedActions:d,initialParameters:t,category:i,page:l}))),r.a.createElement(Al,null),s&&r.a.createElement(yo,null),u&&r.a.createElement(Oo,null),O&&r.a.createElement(Vo,null))}),Wo=Object(o.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(function(e){var t=e.component,a=e.isAuthenticated,n=Object(W.a)(e,["component","isAuthenticated"]);return r.a.createElement(l.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(l.a,{to:{pathname:"/",state:{from:e.location}}})}}))}),zo=Object(s.createMuiTheme)({palette:{primary:d.indigo,secondary:{main:"#890706"}},typography:{useNextVariants:!0}}),Yo=function(){return r.a.createElement(o.a,{store:Z},r.a.createElement(u.a,{loading:null,persistor:Q},r.a.createElement(c.a,{theme:zo},r.a.createElement(l.c,{history:rt},r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/",exact:!0,component:Dl}),r.a.createElement(Wo,{path:["/journal/:category","/journal/:category/:uniqueId([/\\d]+)","/journal/:category/:page([a-z]+)","/journal/:category/:page/:uniqueId([/\\d]+)"],exact:!0,component:Ho}),r.a.createElement(l.b,{path:"/esia/:token",component:Dl,exact:!0}),r.a.createElement(l.b,{path:"/error/:errorMessage",component:Bo}),r.a.createElement(l.b,{component:Bo}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(6471);var Go=document.getElementById("root");Object(i.render)(r.a.createElement(Yo,null),Go),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5763,1,2]]]);
//# sourceMappingURL=main.7530ff9e.chunk.js.map